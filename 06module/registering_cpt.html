<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <!-- SEO Meta Tags -->
    <title>Registering Custom Post Types - PHP WordPress Course</title>
    <meta name="description" content="Learn how to properly register custom post types in WordPress plugins. Master CPT registration, configuration, and best practices.">
    <meta name="keywords" content="PHP, WordPress, register custom post types, CPT registration, plugin development">
    <meta name="author" content="PHP WordPress Course">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="apple-touch-icon" href="/favicon.png">
    
    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/sidebar-enhanced.css">
    <link rel="stylesheet" href="/assets/css/sidebar-toggle.css">
    
    <!-- Custom styles for this lesson -->
    <style>
        .register-header {
            background: linear-gradient(135deg, #764ba2 0%, #f97316 100%);
            color: white;
            padding: 3rem 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            text-align: center;
        }

        .register-concept {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .register-concept h3 {
            color: #764ba2;
            margin-top: 0;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 1rem;
        }

        .code-example {
            background: #1e293b;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            overflow-x: auto;
        }

        .code-example pre {
            margin: 0;
            white-space: pre-wrap;
        }

        .labels-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
        }

        .labels-table th {
            background: #764ba2;
            color: white;
            padding: 1rem;
            text-align: left;
        }

        .labels-table td {
            padding: 1rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .labels-table tr:last-child td {
            border-bottom: none;
        }

        .labels-table code {
            background: #f3f4f6;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
        }

        .registration-flow {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border: 2px solid #0ea5e9;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .flow-step {
            display: flex;
            align-items: center;
            margin: 1rem 0;
            padding: 1rem;
            background: white;
            border-radius: 6px;
        }

        .flow-number {
            background: #0ea5e9;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 1rem;
        }

        .capabilities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .capability-item {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            padding: 1rem;
        }

        .capability-item h5 {
            color: #764ba2;
            margin-top: 0;
            margin-bottom: 0.5rem;
        }

        .capability-item code {
            display: block;
            background: #1e293b;
            color: #10b981;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            margin-top: 0.25rem;
            font-size: 0.875rem;
        }

        .tip-box {
            background: #f0fdf4;
            border: 2px solid #10b981;
            border-radius: 8px;
            padding: 1rem;
            margin: 1.5rem 0;
        }

        .warning-box {
            background: #fef3c7;
            border: 2px solid #fbbf24;
            border-radius: 8px;
            padding: 1rem;
            margin: 1.5rem 0;
        }

        .plugin-structure {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .file-tree {
            font-family: monospace;
            line-height: 1.8;
        }

        .file-tree .folder {
            color: #f97316;
            font-weight: bold;
        }

        .file-tree .file {
            color: #0ea5e9;
        }

        .file-tree .indent {
            margin-left: 1.5rem;
        }

        .admin-preview {
            background: #f9fafb;
            border: 2px solid #d1d5db;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .admin-menu-item {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 4px;
            padding: 0.75rem 1rem;
            margin: 0.5rem 0;
            display: flex;
            align-items: center;
        }

        .menu-icon {
            margin-right: 0.75rem;
            font-size: 1.25rem;
        }

        .visibility-options {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .visibility-option {
            display: flex;
            justify-content: space-between;
            padding: 0.75rem;
            border-bottom: 1px solid #f3f4f6;
        }

        .visibility-option:last-child {
            border-bottom: none;
        }

        .option-name {
            font-weight: 600;
            color: #1f2937;
        }

        .option-value {
            color: #6b7280;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <!-- Skip to main content -->
    <a href="#main-content" class="sr-only">Skip to main content</a>
    
    <div class="page-wrapper">
        <!-- Header -->
        <header class="site-header" role="banner">
            <div class="header-container">
                <div class="site-branding">
                    <a href="/" class="site-logo">
                        <h1 class="site-title">PHP WordPress Development</h1>
                    </a>
                </div>
                
                <nav class="main-navigation" role="navigation" aria-label="Main navigation">
                    <button class="mobile-menu-btn" aria-label="Toggle navigation" aria-expanded="false">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    
                    <div class="nav-menu">
                        <ul class="nav-list">
                            <li class="nav-item"><a href="/" class="nav-link">Home</a></li>
                            <li class="nav-item dropdown">
                                <button class="nav-link dropdown-toggle active" aria-haspopup="true">Modules</button>
                                <div class="dropdown-menu">
                                    <a href="/module1.html" class="dropdown-item">Module 1: Web Fundamentals</a>
                                    <a href="/module2.html" class="dropdown-item">Module 2: PHP Fundamentals</a>
                                    <a href="/module3.html" class="dropdown-item">Module 3: MySQL Database</a>
                                    <a href="/module4.html" class="dropdown-item">Module 4: WordPress & Docker</a>
                                    <a href="/module5.html" class="dropdown-item">Module 5: Theme Development</a>
                                    <a href="/module6.html" class="dropdown-item active">Module 6: Plugin Development</a>
                                    <a href="/module7.html" class="dropdown-item">Module 7: Advanced WordPress</a>
                                    <a href="/module8.html" class="dropdown-item">Module 8: Deployment</a>
                                    <a href="/module9.html" class="dropdown-item">Module 9: Final Project</a>
                                </div>
                            </li>
                            <li class="nav-item"><a href="/resources.html" class="nav-link">Resources</a></li>
                            <li class="nav-item"><a href="/about.html" class="nav-link">About</a></li>
                        </ul>
                    </div>
                </nav>
                
                <div class="search-container">
                    <div class="search-input-wrapper">
                        <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
                        </svg>
                        <input type="search" class="search-input" placeholder="Search lessons..." aria-label="Search">
                    </div>
                    <div class="search-results"></div>
                </div>
            </div>
        </header>
        
        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-header">
                <h2 class="progress-title">Course Progress</h2>
                <span class="progress-text">Loading...</span>
            </div>
            <div class="progress-bar">
                <div class="progress-bar-fill">
                    <span class="progress-bar-text"></span>
                </div>
            </div>
        </div>
        
        <!-- Breadcrumb -->
        <nav class="breadcrumb container" aria-label="Breadcrumb">
            <ol class="breadcrumb-list">
                <li class="breadcrumb-item">
                    <a href="/">Home</a>
                    <span class="breadcrumb-separator">/</span>
                </li>
                <li class="breadcrumb-item">
                    <a href="/module6.html">Module 6</a>
                    <span class="breadcrumb-separator">/</span>
                </li>
                <li class="breadcrumb-item">
                    <span aria-current="page">Registering Custom Post Types</span>
                </li>
            </ol>
        </nav>
        
        <!-- Main Content -->
        <main id="main-content" class="main-content" role="main">
            <div class="container">
                <div class="content-with-sidebar">
                    <!-- Sidebar -->
                    <aside class="sidebar">
                        <div class="sidebar-nav">
                            <h3 class="sidebar-title">Module 6: Plugin Development</h3>
                            <div class="sidebar-section">
                                <h4 class="sidebar-section-title">Session 6: Custom Post Types & Taxonomies</h4>
                                <ul class="sidebar-menu">
                                    <li><a class="sidebar-link" href="/06module/introduction_to_cpt.html">Introduction to Custom Post Types</a></li>
                                    <li class="active"><a class="sidebar-link active" href="/06module/registering_cpt.html">Registering Custom Post Types</a></li>
                                    <li><a class="sidebar-link" href="/06module/custom_fields.html">Custom Fields & Meta Boxes</a></li>
                                    <li><a class="sidebar-link" href="/06module/saving_meta_data.html">Saving & Retrieving Meta Data</a></li>
                                    <li><a class="sidebar-link" href="/06module/custom_taxonomies.html">Creating Custom Taxonomies</a></li>
                                    <li><a class="sidebar-link" href="/06module/term_meta.html">Working with Term Meta</a></li>
                                    <li><a class="sidebar-link" href="/06module/homework_cpt_plugin.html">Homework: CPT Plugin</a></li>
                                </ul>
                            </div>
                            <div class="sidebar-section">
                                <h4 class="sidebar-section-title">Quick Links</h4>
                                <ul class="sidebar-menu">
                                    <li><a class="sidebar-link" href="/module6.html">Module Overview</a></li>
                                    <li><a class="sidebar-link" href="/06module/introduction_to_cpt.html">‚Üê Previous Lesson</a></li>
                                    <li><a class="sidebar-link next-session" href="/06module/custom_fields.html">Next Lesson ‚Üí</a></li>
                                    <li><a class="sidebar-link" href="/">‚Üê Course Home</a></li>
                                    <li><a class="sidebar-link" href="/resources.html">Resources</a></li>
                                </ul>
                            </div>
                        </div>
                    </aside>
                    
                    <!-- Main Lesson Content -->
                    <article class="lesson-content">
                        <div class="register-header">
                            <h1>üìù Registering Custom Post Types</h1>
                            <p class="lead">Implement custom post types in your WordPress plugins</p>
                            <p>Learn the complete process of CPT registration and configuration</p>
                        </div>

                        <!-- Learning Objectives -->
                        <div class="lesson-objectives">
                            <h2>Learning Objectives</h2>
                            <ul>
                                <li>Master the register_post_type() function</li>
                                <li>Configure all CPT labels properly</li>
                                <li>Set up visibility and public options</li>
                                <li>Handle rewrite rules and permalinks</li>
                                <li>Implement CPT in plugin architecture</li>
                                <li>Manage activation and deactivation</li>
                                <li>Work with capabilities and permissions</li>
                            </ul>
                        </div>
                        
                        <!-- Lesson Body -->
                        <div class="lesson-body">
                            <!-- Registration Process -->
                            <section>
                                <h2>The Registration Process</h2>
                                
                                <div class="registration-flow">
                                    <h3>CPT Registration Flow</h3>
                                    
                                    <div class="flow-step">
                                        <div class="flow-number">1</div>
                                        <div>
                                            <strong>Hook into 'init' action</strong>
                                            <p>Register CPT when WordPress initializes</p>
                                        </div>
                                    </div>
                                    
                                    <div class="flow-step">
                                        <div class="flow-number">2</div>
                                        <div>
                                            <strong>Define labels array</strong>
                                            <p>Set up all text labels for the CPT</p>
                                        </div>
                                    </div>
                                    
                                    <div class="flow-step">
                                        <div class="flow-number">3</div>
                                        <div>
                                            <strong>Configure arguments</strong>
                                            <p>Set capabilities, features, and behavior</p>
                                        </div>
                                    </div>
                                    
                                    <div class="flow-step">
                                        <div class="flow-number">4</div>
                                        <div>
                                            <strong>Call register_post_type()</strong>
                                            <p>Register the CPT with WordPress</p>
                                        </div>
                                    </div>
                                    
                                    <div class="flow-step">
                                        <div class="flow-number">5</div>
                                        <div>
                                            <strong>Flush rewrite rules</strong>
                                            <p>Update permalinks on activation</p>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <!-- Complete Registration Example -->
                            <section>
                                <h2>Complete Registration in a Plugin</h2>
                                
                                <div class="register-concept">
                                    <h3>Plugin Structure for CPT</h3>
                                    
                                    <div class="plugin-structure">
                                        <div class="file-tree">
                                            <div class="folder">my-cpt-plugin/</div>
                                            <div class="indent">
                                                <div class="file">‚îú‚îÄ‚îÄ my-cpt-plugin.php</div>
                                                <div class="folder">‚îú‚îÄ‚îÄ includes/</div>
                                                <div class="indent">
                                                    <div class="file">‚îÇ   ‚îú‚îÄ‚îÄ class-cpt-manager.php</div>
                                                    <div class="file">‚îÇ   ‚îú‚îÄ‚îÄ class-cpt-activator.php</div>
                                                    <div class="file">‚îÇ   ‚îî‚îÄ‚îÄ class-cpt-deactivator.php</div>
                                                </div>
                                                <div class="folder">‚îú‚îÄ‚îÄ admin/</div>
                                                <div class="indent">
                                                    <div class="file">‚îÇ   ‚îî‚îÄ‚îÄ class-admin.php</div>
                                                </div>
                                                <div class="folder">‚îî‚îÄ‚îÄ public/</div>
                                                <div class="indent">
                                                    <div class="file">    ‚îî‚îÄ‚îÄ class-public.php</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="code-example">
                                        <pre><code class="language-php"><?php
/**
 * Plugin Name: My Custom Post Types
 * Description: Adds custom post types to WordPress
 * Version: 1.0.0
 * Author: Your Name
 */

// Prevent direct access
if ( ! defined( 'ABSPATH' ) ) {
    exit;
}

// Define plugin constants
define( 'MY_CPT_VERSION', '1.0.0' );
define( 'MY_CPT_PLUGIN_DIR', plugin_dir_path( __FILE__ ) );
define( 'MY_CPT_PLUGIN_URL', plugin_dir_url( __FILE__ ) );

/**
 * Main plugin class
 */
class My_CPT_Plugin {
    
    /**
     * Constructor
     */
    public function __construct() {
        // Hook into init to register post types
        add_action( 'init', array( $this, 'register_post_types' ) );
        
        // Hook activation
        register_activation_hook( __FILE__, array( $this, 'activate' ) );
        
        // Hook deactivation
        register_deactivation_hook( __FILE__, array( $this, 'deactivate' ) );
    }
    
    /**
     * Register custom post types
     */
    public function register_post_types() {
        // Register Product CPT
        $this->register_product_cpt();
        
        // Register Team Member CPT
        $this->register_team_member_cpt();
    }
    
    /**
     * Register Product Custom Post Type
     */
    private function register_product_cpt() {
        
        $labels = array(
            'name'                  => _x( 'Products', 'Post type general name', 'my-cpt' ),
            'singular_name'         => _x( 'Product', 'Post type singular name', 'my-cpt' ),
            'menu_name'             => _x( 'Products', 'Admin Menu text', 'my-cpt' ),
            'name_admin_bar'        => _x( 'Product', 'Add New on Toolbar', 'my-cpt' ),
            'add_new'               => __( 'Add New', 'my-cpt' ),
            'add_new_item'          => __( 'Add New Product', 'my-cpt' ),
            'new_item'              => __( 'New Product', 'my-cpt' ),
            'edit_item'             => __( 'Edit Product', 'my-cpt' ),
            'view_item'             => __( 'View Product', 'my-cpt' ),
            'all_items'             => __( 'All Products', 'my-cpt' ),
            'search_items'          => __( 'Search Products', 'my-cpt' ),
            'parent_item_colon'     => __( 'Parent Products:', 'my-cpt' ),
            'not_found'             => __( 'No products found.', 'my-cpt' ),
            'not_found_in_trash'    => __( 'No products found in Trash.', 'my-cpt' ),
            'featured_image'        => _x( 'Product Image', 'Featured image', 'my-cpt' ),
            'set_featured_image'    => _x( 'Set product image', 'Set featured image', 'my-cpt' ),
            'remove_featured_image' => _x( 'Remove product image', 'Remove featured image', 'my-cpt' ),
            'use_featured_image'    => _x( 'Use as product image', 'Use as featured image', 'my-cpt' ),
            'archives'              => _x( 'Product archives', 'The post type archive label', 'my-cpt' ),
            'insert_into_item'      => _x( 'Insert into product', 'Insert into post', 'my-cpt' ),
            'uploaded_to_this_item' => _x( 'Uploaded to this product', 'Uploaded to this post', 'my-cpt' ),
            'filter_items_list'     => _x( 'Filter products list', 'Screen reader text', 'my-cpt' ),
            'items_list_navigation' => _x( 'Products list navigation', 'Screen reader text', 'my-cpt' ),
            'items_list'            => _x( 'Products list', 'Screen reader text', 'my-cpt' ),
        );
        
        $args = array(
            'labels'                => $labels,
            'description'           => __( 'Products for our store', 'my-cpt' ),
            'public'                => true,
            'publicly_queryable'    => true,
            'show_ui'               => true,
            'show_in_menu'          => true,
            'query_var'             => true,
            'rewrite'               => array( 
                'slug' => 'products',
                'with_front' => false,
                'pages' => true,
                'feeds' => true,
            ),
            'capability_type'       => 'post',
            'has_archive'           => 'shop',
            'hierarchical'          => false,
            'menu_position'         => 20,
            'menu_icon'             => 'dashicons-cart',
            'supports'              => array( 
                'title', 
                'editor', 
                'author', 
                'thumbnail', 
                'excerpt', 
                'comments',
                'revisions',
                'custom-fields',
            ),
            'show_in_rest'          => true,
            'rest_base'             => 'products',
            'rest_controller_class' => 'WP_REST_Posts_Controller',
        );
        
        register_post_type( 'product', $args );
    }
    
    /**
     * Register Team Member Custom Post Type
     */
    private function register_team_member_cpt() {
        
        $labels = array(
            'name'                  => _x( 'Team Members', 'Post type general name', 'my-cpt' ),
            'singular_name'         => _x( 'Team Member', 'Post type singular name', 'my-cpt' ),
            'menu_name'             => _x( 'Team', 'Admin Menu text', 'my-cpt' ),
            'name_admin_bar'        => _x( 'Team Member', 'Add New on Toolbar', 'my-cpt' ),
            'add_new'               => __( 'Add New', 'my-cpt' ),
            'add_new_item'          => __( 'Add New Team Member', 'my-cpt' ),
            'new_item'              => __( 'New Team Member', 'my-cpt' ),
            'edit_item'             => __( 'Edit Team Member', 'my-cpt' ),
            'view_item'             => __( 'View Team Member', 'my-cpt' ),
            'all_items'             => __( 'All Team Members', 'my-cpt' ),
            'search_items'          => __( 'Search Team Members', 'my-cpt' ),
            'not_found'             => __( 'No team members found.', 'my-cpt' ),
            'not_found_in_trash'    => __( 'No team members found in Trash.', 'my-cpt' ),
        );
        
        $args = array(
            'labels'                => $labels,
            'public'                => true,
            'exclude_from_search'   => false,
            'publicly_queryable'    => true,
            'show_ui'               => true,
            'show_in_nav_menus'     => true,
            'show_in_menu'          => true,
            'show_in_admin_bar'     => true,
            'menu_position'         => 21,
            'menu_icon'             => 'dashicons-groups',
            'capability_type'       => 'post',
            'hierarchical'          => false,
            'supports'              => array( 'title', 'editor', 'thumbnail', 'page-attributes' ),
            'has_archive'           => 'team',
            'rewrite'               => array( 'slug' => 'team-member' ),
            'query_var'             => true,
            'can_export'            => true,
            'show_in_rest'          => true,
        );
        
        register_post_type( 'team_member', $args );
    }
    
    /**
     * Plugin activation
     */
    public function activate() {
        // Register post types
        $this->register_post_types();
        
        // Flush rewrite rules
        flush_rewrite_rules();
        
        // Set plugin version
        update_option( 'my_cpt_version', MY_CPT_VERSION );
    }
    
    /**
     * Plugin deactivation
     */
    public function deactivate() {
        // Flush rewrite rules
        flush_rewrite_rules();
    }
}

// Initialize the plugin
new My_CPT_Plugin();</code></pre>
                                    </div>
                                </div>
                            </section>

                            <!-- Labels Configuration -->
                            <section>
                                <h2>Understanding CPT Labels</h2>
                                
                                <div class="labels-table">
                                    <table>
                                        <thead>
                                            <tr>
                                                <th>Label Key</th>
                                                <th>Where It's Used</th>
                                                <th>Example</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td><code>name</code></td>
                                                <td>General name for the post type (plural)</td>
                                                <td>"Products"</td>
                                            </tr>
                                            <tr>
                                                <td><code>singular_name</code></td>
                                                <td>Name for one object</td>
                                                <td>"Product"</td>
                                            </tr>
                                            <tr>
                                                <td><code>menu_name</code></td>
                                                <td>Admin menu text</td>
                                                <td>"Products"</td>
                                            </tr>
                                            <tr>
                                                <td><code>add_new</code></td>
                                                <td>Add new button text</td>
                                                <td>"Add New"</td>
                                            </tr>
                                            <tr>
                                                <td><code>add_new_item</code></td>
                                                <td>Add new page title</td>
                                                <td>"Add New Product"</td>
                                            </tr>
                                            <tr>
                                                <td><code>edit_item</code></td>
                                                <td>Edit page title</td>
                                                <td>"Edit Product"</td>
                                            </tr>
                                            <tr>
                                                <td><code>view_item</code></td>
                                                <td>View link text</td>
                                                <td>"View Product"</td>
                                            </tr>
                                            <tr>
                                                <td><code>all_items</code></td>
                                                <td>Submenu text</td>
                                                <td>"All Products"</td>
                                            </tr>
                                            <tr>
                                                <td><code>search_items</code></td>
                                                <td>Search button text</td>
                                                <td>"Search Products"</td>
                                            </tr>
                                            <tr>
                                                <td><code>not_found</code></td>
                                                <td>No items found text</td>
                                                <td>"No products found"</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </section>

                            <!-- Visibility Options -->
                            <section>
                                <h2>Visibility and Public Options</h2>
                                
                                <div class="visibility-options">
                                    <h3>Key Visibility Parameters</h3>
                                    
                                    <div class="visibility-option">
                                        <span class="option-name">public</span>
                                        <span class="option-value">true/false</span>
                                    </div>
                                    <p>Meta argument. If true, sets multiple values for public visibility.</p>
                                    
                                    <div class="visibility-option">
                                        <span class="option-name">publicly_queryable</span>
                                        <span class="option-value">true/false</span>
                                    </div>
                                    <p>Whether queries can be performed on the front end.</p>
                                    
                                    <div class="visibility-option">
                                        <span class="option-name">show_ui</span>
                                        <span class="option-value">true/false</span>
                                    </div>
                                    <p>Whether to generate a default UI in admin.</p>
                                    
                                    <div class="visibility-option">
                                        <span class="option-name">show_in_menu</span>
                                        <span class="option-value">true/false/string</span>
                                    </div>
                                    <p>Where to show in admin menu. Can be submenu of another.</p>
                                    
                                    <div class="visibility-option">
                                        <span class="option-name">show_in_nav_menus</span>
                                        <span class="option-value">true/false</span>
                                    </div>
                                    <p>Available for selection in navigation menus.</p>
                                    
                                    <div class="visibility-option">
                                        <span class="option-name">show_in_admin_bar</span>
                                        <span class="option-value">true/false</span>
                                    </div>
                                    <p>Show in WordPress admin bar.</p>
                                    
                                    <div class="visibility-option">
                                        <span class="option-name">exclude_from_search</span>
                                        <span class="option-value">true/false</span>
                                    </div>
                                    <p>Whether to exclude from front-end search results.</p>
                                </div>
                                
                                <div class="code-example">
                                    <pre><code class="language-php">// Example: Private CPT (admin only)
register_post_type( 'internal_notes', array(
    'labels' => $labels,
    'public' => false,  // Not public
    'show_ui' => true,   // Show in admin
    'show_in_menu' => true,  // Add to admin menu
    'capability_type' => 'post',
    'supports' => array( 'title', 'editor' ),
));

// Example: Public but not searchable
register_post_type( 'testimonial', array(
    'labels' => $labels,
    'public' => true,
    'exclude_from_search' => true,  // Don't include in search
    'publicly_queryable' => false,   // No single pages
    'show_in_menu' => true,
    'supports' => array( 'title', 'editor', 'thumbnail' ),
));</code></pre>
                                </div>
                            </section>

                            <!-- Rewrite Rules -->
                            <section>
                                <h2>Rewrite Rules and Permalinks</h2>
                                
                                <div class="register-concept">
                                    <h3>Configuring URL Structure</h3>
                                    
                                    <div class="code-example">
                                        <pre><code class="language-php">// Basic rewrite
'rewrite' => array( 'slug' => 'products' ),
// URL: yoursite.com/products/product-name/

// Advanced rewrite options
'rewrite' => array(
    'slug' => 'shop/products',      // Nested URL structure
    'with_front' => false,           // Don't prepend blog base
    'feeds' => true,                 // Enable feeds
    'pages' => true,                 // Enable pagination
    'ep_mask' => EP_PERMALINK,      // Endpoint mask
),
// URL: yoursite.com/shop/products/product-name/

// Disable rewrite (use query vars)
'rewrite' => false,
// URL: yoursite.com/?post_type=product&p=123

// Custom archive slug
'has_archive' => 'shop',
'rewrite' => array( 'slug' => 'product' ),
// Archive: yoursite.com/shop/
// Single: yoursite.com/product/product-name/</code></pre>
                                    </div>
                                    
                                    <div class="warning-box">
                                        <h4>‚ö†Ô∏è Important: Flush Rewrite Rules</h4>
                                        <p>After registering CPTs or changing rewrite rules, you must flush the rewrite rules. Do this ONLY on plugin activation/deactivation, never on every page load!</p>
                                        
                                        <div class="code-example">
                                            <pre><code class="language-php">// Correct: On activation only
register_activation_hook( __FILE__, 'my_plugin_activate' );
function my_plugin_activate() {
    // Register the post type
    my_register_post_types();
    // Flush rewrite rules
    flush_rewrite_rules();
}

// WRONG: Don't do this!
add_action( 'init', function() {
    register_post_type( 'product', $args );
    flush_rewrite_rules(); // Never do this on init!
});</code></pre>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <!-- Capabilities -->
                            <section>
                                <h2>Capabilities and Permissions</h2>
                                
                                <div class="register-concept">
                                    <h3>Setting Up Custom Capabilities</h3>
                                    
                                    <div class="capabilities-grid">
                                        <div class="capability-item">
                                            <h5>Edit</h5>
                                            <code>edit_products</code>
                                        </div>
                                        <div class="capability-item">
                                            <h5>Edit Others</h5>
                                            <code>edit_others_products</code>
                                        </div>
                                        <div class="capability-item">
                                            <h5>Publish</h5>
                                            <code>publish_products</code>
                                        </div>
                                        <div class="capability-item">
                                            <h5>Read Private</h5>
                                            <code>read_private_products</code>
                                        </div>
                                        <div class="capability-item">
                                            <h5>Delete</h5>
                                            <code>delete_products</code>
                                        </div>
                                        <div class="capability-item">
                                            <h5>Delete Others</h5>
                                            <code>delete_others_products</code>
                                        </div>
                                    </div>
                                    
                                    <div class="code-example">
                                        <pre><code class="language-php">// Using default post capabilities
'capability_type' => 'post',

// Using page capabilities
'capability_type' => 'page',

// Custom capability type
'capability_type' => 'product',
'capabilities' => array(
    'edit_post'          => 'edit_product',
    'read_post'          => 'read_product',
    'delete_post'        => 'delete_product',
    'edit_posts'         => 'edit_products',
    'edit_others_posts'  => 'edit_others_products',
    'publish_posts'      => 'publish_products',
    'read_private_posts' => 'read_private_products',
    'create_posts'       => 'create_products',
),

// Map meta capabilities
'map_meta_cap' => true,

// Add capabilities to roles
function add_product_caps() {
    $role = get_role( 'administrator' );
    $role->add_cap( 'edit_products' );
    $role->add_cap( 'edit_others_products' );
    $role->add_cap( 'publish_products' );
    $role->add_cap( 'read_private_products' );
    $role->add_cap( 'delete_products' );
    $role->add_cap( 'delete_others_products' );
}
add_action( 'admin_init', 'add_product_caps' );</code></pre>
                                    </div>
                                </div>
                            </section>

                            <!-- REST API Support -->
                            <section>
                                <h2>REST API and Gutenberg Support</h2>
                                
                                <div class="register-concept">
                                    <h3>Enabling Modern Features</h3>
                                    
                                    <div class="code-example">
                                        <pre><code class="language-php">// Enable Gutenberg block editor
'show_in_rest' => true,

// Custom REST API base
'rest_base' => 'products',

// Custom REST controller
'rest_controller_class' => 'WP_REST_Posts_Controller',

// Complete example with REST API
register_post_type( 'product', array(
    'labels' => $labels,
    'public' => true,
    'show_in_rest' => true,  // Enable block editor
    'rest_base' => 'products',  // API endpoint: /wp-json/wp/v2/products
    'rest_namespace' => 'my-plugin/v1',  // Custom namespace
    'rest_controller_class' => 'WP_REST_Posts_Controller',
    'supports' => array(
        'title',
        'editor',  // Block editor support
        'thumbnail',
        'custom-fields',  // Expose custom fields in REST
    ),
    // Register meta fields for REST
    'register_meta_box_cb' => function() {
        register_post_meta( 'product', 'price', array(
            'show_in_rest' => true,
            'single' => true,
            'type' => 'number',
        ));
        register_post_meta( 'product', 'sku', array(
            'show_in_rest' => true,
            'single' => true,
            'type' => 'string',
        ));
    },
));</code></pre>
                                    </div>
                                </div>
                            </section>

                            <!-- Admin Menu Positioning -->
                            <section>
                                <h2>Admin Menu Configuration</h2>
                                
                                <div class="admin-preview">
                                    <h3>Menu Position Values</h3>
                                    
                                    <div class="admin-menu-item">
                                        <span class="menu-icon">üìä</span>
                                        <span>2 - Dashboard</span>
                                    </div>
                                    <div class="admin-menu-item">
                                        <span class="menu-icon">üìù</span>
                                        <span>5 - Posts</span>
                                    </div>
                                    <div class="admin-menu-item">
                                        <span class="menu-icon">üìé</span>
                                        <span>10 - Media</span>
                                    </div>
                                    <div class="admin-menu-item">
                                        <span class="menu-icon">üìÑ</span>
                                        <span>20 - Pages</span>
                                    </div>
                                    <div class="admin-menu-item" style="background: #e0f2fe;">
                                        <span class="menu-icon">üõí</span>
                                        <span><strong>20 - Your CPT Here</strong></span>
                                    </div>
                                    <div class="admin-menu-item">
                                        <span class="menu-icon">üí¨</span>
                                        <span>25 - Comments</span>
                                    </div>
                                    
                                    <div class="code-example">
                                        <pre><code class="language-php">// Menu positioning
'menu_position' => 20,  // Below Pages, above Comments

// Custom menu icon (Dashicons)
'menu_icon' => 'dashicons-products',

// Custom icon URL
'menu_icon' => plugin_dir_url( __FILE__ ) . 'images/icon.png',

// Base64 encoded SVG
'menu_icon' => 'data:image/svg+xml;base64,' . base64_encode( $svg ),

// Add as submenu of existing item
'show_in_menu' => 'edit.php?post_type=page',  // Under Pages

// Add to custom menu page
'show_in_menu' => 'my-plugin-menu',  // Under custom menu</code></pre>
                                    </div>
                                </div>
                            </section>

                            <!-- Complete Example -->
                            <section>
                                <h2>Complete Event CPT Example</h2>
                                
                                <div class="register-concept">
                                    <h3>Real-World Implementation</h3>
                                    
                                    <div class="code-example">
                                        <pre><code class="language-php">class Event_Post_Type {
    
    /**
     * Initialize the class
     */
    public function __construct() {
        add_action( 'init', array( $this, 'register_event_post_type' ) );
        add_action( 'init', array( $this, 'register_event_taxonomies' ) );
        add_filter( 'post_updated_messages', array( $this, 'event_updated_messages' ) );
    }
    
    /**
     * Register Event Post Type
     */
    public function register_event_post_type() {
        
        $labels = array(
            'name'                  => _x( 'Events', 'Post type general name', 'events-plugin' ),
            'singular_name'         => _x( 'Event', 'Post type singular name', 'events-plugin' ),
            'menu_name'             => _x( 'Events', 'Admin Menu text', 'events-plugin' ),
            'name_admin_bar'        => _x( 'Event', 'Add New on Toolbar', 'events-plugin' ),
            'add_new'               => __( 'Add New Event', 'events-plugin' ),
            'add_new_item'          => __( 'Add New Event', 'events-plugin' ),
            'new_item'              => __( 'New Event', 'events-plugin' ),
            'edit_item'             => __( 'Edit Event', 'events-plugin' ),
            'view_item'             => __( 'View Event', 'events-plugin' ),
            'all_items'             => __( 'All Events', 'events-plugin' ),
            'search_items'          => __( 'Search Events', 'events-plugin' ),
            'parent_item_colon'     => __( 'Parent Events:', 'events-plugin' ),
            'not_found'             => __( 'No events found.', 'events-plugin' ),
            'not_found_in_trash'    => __( 'No events found in Trash.', 'events-plugin' ),
            'featured_image'        => _x( 'Event Featured Image', 'Featured image', 'events-plugin' ),
            'set_featured_image'    => _x( 'Set event image', 'events-plugin' ),
            'remove_featured_image' => _x( 'Remove event image', 'events-plugin' ),
            'use_featured_image'    => _x( 'Use as event image', 'events-plugin' ),
            'archives'              => _x( 'Event archives', 'The post type archive label', 'events-plugin' ),
            'insert_into_item'      => _x( 'Insert into event', 'events-plugin' ),
            'uploaded_to_this_item' => _x( 'Uploaded to this event', 'events-plugin' ),
            'filter_items_list'     => _x( 'Filter events list', 'Screen reader text', 'events-plugin' ),
            'items_list_navigation' => _x( 'Events list navigation', 'Screen reader text', 'events-plugin' ),
            'items_list'            => _x( 'Events list', 'Screen reader text', 'events-plugin' ),
        );
        
        $args = array(
            'labels'                => $labels,
            'description'           => __( 'Events and event management', 'events-plugin' ),
            'public'                => true,
            'publicly_queryable'    => true,
            'show_ui'               => true,
            'show_in_menu'          => true,
            'query_var'             => true,
            'rewrite'               => array( 
                'slug' => 'events',
                'with_front' => false,
                'pages' => true,
                'feeds' => true,
            ),
            'capability_type'       => 'post',
            'has_archive'           => 'events',
            'hierarchical'          => false,
            'menu_position'         => 20,
            'menu_icon'             => 'dashicons-calendar-alt',
            'supports'              => array( 
                'title', 
                'editor', 
                'author', 
                'thumbnail', 
                'excerpt', 
                'comments',
                'revisions',
            ),
            'show_in_rest'          => true,
            'rest_base'             => 'events',
            'rest_controller_class' => 'WP_REST_Posts_Controller',
        );
        
        register_post_type( 'event', $args );
    }
    
    /**
     * Register Event Taxonomies
     */
    public function register_event_taxonomies() {
        // Event Category
        register_taxonomy( 'event_category', 'event', array(
            'labels' => array(
                'name' => _x( 'Event Categories', 'taxonomy general name', 'events-plugin' ),
                'singular_name' => _x( 'Event Category', 'taxonomy singular name', 'events-plugin' ),
            ),
            'hierarchical' => true,
            'public' => true,
            'show_in_rest' => true,
            'rewrite' => array( 'slug' => 'event-category' ),
        ));
        
        // Event Tags
        register_taxonomy( 'event_tag', 'event', array(
            'labels' => array(
                'name' => _x( 'Event Tags', 'taxonomy general name', 'events-plugin' ),
                'singular_name' => _x( 'Event Tag', 'taxonomy singular name', 'events-plugin' ),
            ),
            'hierarchical' => false,
            'public' => true,
            'show_in_rest' => true,
            'rewrite' => array( 'slug' => 'event-tag' ),
        ));
    }
    
    /**
     * Custom updated messages
     */
    public function event_updated_messages( $messages ) {
        $post = get_post();
        
        $messages['event'] = array(
            0  => '', // Unused
            1  => __( 'Event updated.', 'events-plugin' ),
            2  => __( 'Custom field updated.', 'events-plugin' ),
            3  => __( 'Custom field deleted.', 'events-plugin' ),
            4  => __( 'Event updated.', 'events-plugin' ),
            5  => isset( $_GET['revision'] ) ? sprintf( __( 'Event restored to revision from %s', 'events-plugin' ), wp_post_revision_title( (int) $_GET['revision'], false ) ) : false,
            6  => __( 'Event published.', 'events-plugin' ),
            7  => __( 'Event saved.', 'events-plugin' ),
            8  => __( 'Event submitted.', 'events-plugin' ),
            9  => sprintf(
                __( 'Event scheduled for: <strong>%1$s</strong>.', 'events-plugin' ),
                date_i18n( __( 'M j, Y @ G:i', 'events-plugin' ), strtotime( $post->post_date ) )
            ),
            10 => __( 'Event draft updated.', 'events-plugin' ),
        );
        
        return $messages;
    }
}

// Initialize
new Event_Post_Type();</code></pre>
                                    </div>
                                </div>
                            </section>

                            <!-- Best Practices -->
                            <section>
                                <h2>Best Practices</h2>
                                
                                <div class="tip-box">
                                    <h4>‚úÖ Do's</h4>
                                    <ul>
                                        <li>Always use text domain for internationalization</li>
                                        <li>Register CPTs on the 'init' action hook</li>
                                        <li>Use descriptive, unique post type names (max 20 chars)</li>
                                        <li>Enable REST API support for modern features</li>
                                        <li>Flush rewrite rules only on activation/deactivation</li>
                                        <li>Consider SEO when setting up permalinks</li>
                                        <li>Test with different user roles and capabilities</li>
                                        <li>Provide all necessary labels for better UX</li>
                                    </ul>
                                </div>

                                <div class="warning-box">
                                    <h4>‚ùå Don'ts</h4>
                                    <ul>
                                        <li>Don't use WordPress reserved terms</li>
                                        <li>Don't flush rewrite rules on every page load</li>
                                        <li>Don't forget to handle plugin deactivation</li>
                                        <li>Don't use spaces or special characters in post type names</li>
                                        <li>Don't register before 'init' or after 'init'</li>
                                        <li>Don't forget about capability mapping</li>
                                        <li>Don't hardcode text strings without translation</li>
                                    </ul>
                                </div>
                            </section>

                            <!-- Troubleshooting -->
                            <section>
                                <h2>Common Issues and Solutions</h2>
                                
                                <div class="register-concept">
                                    <h3>Troubleshooting Guide</h3>
                                    
                                    <div class="tip-box">
                                        <h4>404 Errors on CPT Pages</h4>
                                        <p><strong>Solution:</strong> Flush rewrite rules. Go to Settings ‚Üí Permalinks and click Save.</p>
                                    </div>
                                    
                                    <div class="tip-box">
                                        <h4>CPT Not Showing in Admin Menu</h4>
                                        <p><strong>Check:</strong> 'show_in_menu' => true, 'show_ui' => true</p>
                                    </div>
                                    
                                    <div class="tip-box">
                                        <h4>Gutenberg Not Available</h4>
                                        <p><strong>Add:</strong> 'show_in_rest' => true</p>
                                    </div>
                                    
                                    <div class="tip-box">
                                        <h4>Can't Query CPT on Frontend</h4>
                                        <p><strong>Check:</strong> 'publicly_queryable' => true</p>
                                    </div>
                                </div>
                            </section>

                            <!-- Practice Exercise -->
                            <section>
                                <h2>Practice Exercise</h2>
                                <div class="alert alert-success">
                                    <div class="alert-icon">üíª</div>
                                    <div class="alert-content">
                                        <div class="alert-title">Create a Real Estate Plugin</div>
                                        <div class="alert-message">
                                            <p>Build a plugin that registers a "Property" custom post type with:</p>
                                            <ol>
                                                <li>Complete labels in multiple languages</li>
                                                <li>Custom icon and menu position</li>
                                                <li>REST API support for mobile app</li>
                                                <li>Custom rewrite rules for SEO-friendly URLs</li>
                                                <li>Hierarchical structure for property types</li>
                                                <li>Custom capabilities for agents vs admins</li>
                                                <li>Proper activation/deactivation handling</li>
                                            </ol>
                                            <p><strong>Bonus:</strong> Add custom admin columns for property details.</p>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <!-- Resources -->
                            <section class="resources">
                                <h2>Additional Resources</h2>
                                <ul>
                                    <li><a href="https://developer.wordpress.org/reference/functions/register_post_type/" target="_blank">register_post_type() Documentation</a></li>
                                    <li><a href="https://developer.wordpress.org/plugins/post-types/registering-custom-post-types/" target="_blank">Registering Custom Post Types Guide</a></li>
                                    <li><a href="https://developer.wordpress.org/rest-api/extending-the-rest-api/adding-custom-endpoints/" target="_blank">REST API for Custom Post Types</a></li>
                                    <li><a href="https://developer.wordpress.org/reference/functions/flush_rewrite_rules/" target="_blank">flush_rewrite_rules() Reference</a></li>
                                    <li><a href="https://generatewp.com/post-type/" target="_blank">CPT Code Generator</a></li>
                                </ul>
                            </section>
                        </div>

                        <!-- Lesson Navigation -->
                        <div class="lesson-navigation">
                            <a href="/06module/introduction_to_cpt.html" class="lesson-nav-button prev">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z"/>
                                </svg>
                                <span>
                                    <small>Previous</small><br>
                                    Introduction to CPT
                                </span>
                            </a>
                            
                            <button class="complete-lesson-btn">
                                Mark as Complete
                            </button>
                            
                            <a href="/06module/custom_fields.html" class="lesson-nav-button next">
                                <span>
                                    <small>Next</small><br>
                                    Custom Fields & Meta Boxes
                                </span>
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"/>
                                </svg>
                            </a>
                        </div>
                    </article>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="site-footer" role="contentinfo">
            <div class="footer-container">
                <div class="footer-content">
                    <div class="footer-section footer-about">
                        <h3>PHP WordPress Development</h3>
                        <p>Complete Web Development Course</p>
                    </div>
                    
                    <div class="footer-section">
                        <h4>Quick Links</h4>
                        <ul class="footer-links">
                            <li><a href="/">Home</a></li>
                            <li><a href="/module6.html">Module 6</a></li>
                            <li><a href="/resources.html">Resources</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-section">
                        <h4>Support</h4>
                        <ul class="footer-links">
                            <li><a href="/about.html">About</a></li>
                            <li><a href="/contact.html">Contact</a></li>
                        </ul>
                    </div>
                </div>
                
                <div class="footer-bottom">
                    <p>&copy; 2024 PHP WordPress Course. All rights reserved.</p>
                    <p>This course material is for educational purposes only.</p>
                </div>
            </div>
        </footer>
    </div>
    
    <!-- JavaScript -->
    <script src="/assets/js/prism.js"></script>
    <script src="/assets/js/main.js"></script>
    <script src="/assets/js/sidebar-toggle.js"></script>
    <script src="/assets/js/progress-tracker.js"></script>
    <script src="/assets/js/search.js"></script>
    <script src="/assets/js/theme-toggle.js"></script>
</body>
</html>