<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Internationalization and Localization - WordPress Plugin Development</title>
    <meta name="description" content="Learn how to make WordPress plugins translation-ready. Master i18n and l10n best practices for global plugin distribution.">
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/sidebar-enhanced.css">
    <style>
        .i18n-header {
            background: linear-gradient(135deg, #ec4899 0%, #be185d 100%);
            color: white;
            padding: 3rem 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            text-align: center;
        }
        .i18n-section {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }
        .code-example {
            background: #1e293b;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="page-wrapper">
        <header class="site-header">
            <div class="header-container">
                <div class="site-branding">
                    <a href="/" class="site-logo">
                        <h1 class="site-title">PHP WordPress Development</h1>
                    </a>
                </div>
            </div>
        </header>
        
        <nav class="breadcrumb container">
            <ol class="breadcrumb-list">
                <li class="breadcrumb-item"><a href="/">Home</a> /</li>
                <li class="breadcrumb-item"><a href="/module6.html">Module 6</a> /</li>
                <li class="breadcrumb-item">Internationalization & Localization</li>
            </ol>
        </nav>
        
        <main class="main-content">
            <div class="container">
                <div class="content-with-sidebar">
                    <aside class="sidebar">
                        <div class="sidebar-nav">
                            <h3 class="sidebar-title">Session 10: Distribution & Maintenance</h3>
                            <ul class="sidebar-menu">
                                <li><a href="/06module/plugin_development_workflow.html">Development Workflow</a></li>
                                <li><a href="/06module/version_control_plugins.html">Version Control</a></li>
                                <li><a href="/06module/plugin_testing_strategies.html">Testing Strategies</a></li>
                                <li><a href="/06module/documentation_best_practices.html">Documentation</a></li>
                                <li class="active"><a href="/06module/internationalization_localization.html">i18n & l10n</a></li>
                                <li><a href="/06module/preparing_distribution.html">Preparing for Distribution</a></li>
                                <li><a href="/06module/wordpress_org_guidelines.html">WordPress.org Guidelines</a></li>
                                <li><a href="/06module/plugin_maintenance_updates.html">Maintenance & Updates</a></li>
                                <li><a href="/06module/final_project.html">Final Project</a></li>
                            </ul>
                        </div>
                    </aside>
                    
                    <article class="lesson-content">
                        <div class="i18n-header">
                            <h1>üåç Internationalization & Localization</h1>
                            <p class="lead">Make your plugin accessible worldwide</p>
                        </div>

                        <div class="lesson-objectives">
                            <h2>Learning Objectives</h2>
                            <ul>
                                <li>Understand i18n and l10n concepts</li>
                                <li>Implement translation functions</li>
                                <li>Create POT files</li>
                                <li>Handle JavaScript translations</li>
                                <li>Support RTL languages</li>
                            </ul>
                        </div>
                        
                        <div class="lesson-body">
                            <section>
                                <h2>Understanding i18n and l10n</h2>
                                <div class="i18n-section">
                                    <h3>Key Concepts</h3>
                                    <ul>
                                        <li><strong>i18n (Internationalization):</strong> Making plugin translation-ready</li>
                                        <li><strong>l10n (Localization):</strong> Actual translation process</li>
                                        <li><strong>Text Domain:</strong> Unique identifier for translations</li>
                                        <li><strong>POT/PO/MO files:</strong> Translation file formats</li>
                                    </ul>
                                </div>
                            </section>

                            <section>
                                <h2>Translation Functions</h2>
                                <div class="i18n-section">
                                    <h3>Basic Translation Functions</h3>
                                    <div class="code-example">
                                        <pre><code>// Basic translation
__( 'Hello World', 'my-plugin' );

// Echo translation
_e( 'Welcome to my plugin', 'my-plugin' );

// With context
_x( 'Post', 'noun', 'my-plugin' );
_x( 'Post', 'verb', 'my-plugin' );

// Plural forms
sprintf(
    _n(
        'You have %s item',
        'You have %s items',
        $count,
        'my-plugin'
    ),
    number_format_i18n( $count )
);

// Escape and translate
esc_html__( 'Settings saved', 'my-plugin' );
esc_html_e( 'Enter your name', 'my-plugin' );
esc_attr__( 'Save changes', 'my-plugin' );

// With placeholders
sprintf(
    /* translators: %1$s: user name, %2$s: date */
    __( 'Posted by %1$s on %2$s', 'my-plugin' ),
    $author,
    $date
);</code></pre>
                                    </div>
                                </div>
                            </section>

                            <section>
                                <h2>Loading Text Domain</h2>
                                <div class="i18n-section">
                                    <div class="code-example">
                                        <pre><code>class My_Plugin {
    
    public function __construct() {
        add_action( 'init', array( $this, 'load_textdomain' ) );
    }
    
    /**
     * Load plugin textdomain.
     */
    public function load_textdomain() {
        load_plugin_textdomain(
            'my-plugin',
            false,
            dirname( plugin_basename( __FILE__ ) ) . '/languages'
        );
    }
}

// For themes
load_theme_textdomain( 'my-theme', get_template_directory() . '/languages' );

// For must-use plugins
load_muplugin_textdomain( 'my-mu-plugin', dirname( plugin_basename( __FILE__ ) ) . '/languages' );</code></pre>
                                    </div>
                                </div>
                            </section>

                            <section>
                                <h2>Creating POT Files</h2>
                                <div class="i18n-section">
                                    <h3>Using WP-CLI</h3>
                                    <div class="code-example">
                                        <pre><code># Install WP-CLI i18n command
wp package install wp-cli/i18n-command

# Generate POT file
wp i18n make-pot . languages/my-plugin.pot

# With custom headers
wp i18n make-pot . languages/my-plugin.pot \
    --domain=my-plugin \
    --exclude=node_modules,vendor,tests

# Generate JSON files for JavaScript
wp i18n make-json languages --no-purge</code></pre>
                                    </div>
                                    
                                    <h3>POT File Header</h3>
                                    <div class="code-example">
                                        <pre><code># Copyright (C) 2024 Plugin Author
# This file is distributed under the GPL v2 or later.
msgid ""
msgstr ""
"Project-Id-Version: My Plugin 1.0.0\n"
"Report-Msgid-Bugs-To: https://wordpress.org/support/plugin/my-plugin\n"
"POT-Creation-Date: 2024-01-01 00:00:00+00:00\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"</code></pre>
                                    </div>
                                </div>
                            </section>

                            <section>
                                <h2>JavaScript Translations</h2>
                                <div class="i18n-section">
                                    <div class="code-example">
                                        <pre><code>// PHP: Register and localize script
wp_register_script(
    'my-plugin-script',
    plugin_dir_url( __FILE__ ) . 'js/script.js',
    array( 'wp-i18n' ),
    '1.0.0'
);

wp_set_script_translations(
    'my-plugin-script',
    'my-plugin',
    plugin_dir_path( __FILE__ ) . 'languages'
);

// JavaScript: Use translations
const { __ } = wp.i18n;

const message = __( 'Hello World', 'my-plugin' );
const plural = sprintf(
    _n( '%d item', '%d items', count, 'my-plugin' ),
    count
);

// React component
function MyComponent() {
    return (
        <div>
            <h1>{__( 'Welcome', 'my-plugin' )}</h1>
            <p>{__( 'This is a translatable text.', 'my-plugin' )}</p>
        </div>
    );
}</code></pre>
                                    </div>
                                </div>
                            </section>

                            <section>
                                <h2>RTL Support</h2>
                                <div class="i18n-section">
                                    <h3>Supporting Right-to-Left Languages</h3>
                                    <div class="code-example">
                                        <pre><code>// Enqueue RTL stylesheet
function enqueue_plugin_styles() {
    wp_enqueue_style(
        'my-plugin-style',
        plugin_dir_url( __FILE__ ) . 'css/style.css'
    );
    
    // Load RTL stylesheet if needed
    if ( is_rtl() ) {
        wp_enqueue_style(
            'my-plugin-rtl',
            plugin_dir_url( __FILE__ ) . 'css/style-rtl.css'
        );
    }
}

// CSS for RTL
/* style-rtl.css */
.my-plugin-container {
    direction: rtl;
    text-align: right;
}

.my-plugin-icon {
    float: left; /* Instead of right */
    margin-left: 0;
    margin-right: 10px;
}

// PHP: Check if RTL
if ( is_rtl() ) {
    $alignment = 'right';
} else {
    $alignment = 'left';
}</code></pre>
                                    </div>
                                </div>
                            </section>

                            <section>
                                <h2>Translation Best Practices</h2>
                                <ul>
                                    <li>Always use a unique text domain</li>
                                    <li>Don't use variables in translation functions</li>
                                    <li>Provide context for translators with comments</li>
                                    <li>Use proper plural forms</li>
                                    <li>Escape translations when outputting</li>
                                    <li>Keep sentences complete (don't concatenate)</li>
                                    <li>Test with actual translations</li>
                                    <li>Support RTL languages</li>
                                </ul>
                            </section>

                            <section class="resources">
                                <h2>Resources</h2>
                                <ul>
                                    <li><a href="https://developer.wordpress.org/plugins/internationalization/">Plugin i18n Handbook</a></li>
                                    <li><a href="https://translate.wordpress.org/">WordPress Translation Platform</a></li>
                                    <li><a href="https://poedit.net/">Poedit Translation Editor</a></li>
                                </ul>
                            </section>
                        </div>

                        <div class="lesson-navigation">
                            <a href="/06module/documentation_best_practices.html" class="lesson-nav-button prev">Previous: Documentation</a>
                            <button class="complete-lesson-btn">Mark as Complete</button>
                            <a href="/06module/preparing_distribution.html" class="lesson-nav-button next">Next: Preparing for Distribution</a>
                        </div>
                    </article>
                </div>
            </div>
        </main>

        <footer class="site-footer">
            <div class="footer-container">
                <p>&copy; 2024 PHP WordPress Course. All rights reserved.</p>
            </div>
        </footer>
    </div>
    
    <script src="/assets/js/main.js"></script>
    <script src="/assets/js/progress-tracker.js"></script>
</body>
</html>