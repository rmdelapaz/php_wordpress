<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preparing Plugins for Distribution - WordPress Plugin Development</title>
    <meta name="description" content="Learn how to prepare WordPress plugins for distribution. Master packaging, licensing, and distribution channels.">
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/sidebar-enhanced.css">
    <style>
        .distribution-header {
            background: linear-gradient(135deg, #14b8a6 0%, #0d9488 100%);
            color: white;
            padding: 3rem 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            text-align: center;
        }
        .distribution-section {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }
        .code-example {
            background: #1e293b;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            overflow-x: auto;
        }
        .checklist {
            background: #f0fdf4;
            border: 2px solid #10b981;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
        }
        .checklist-item {
            margin: 0.5rem 0;
        }
    </style>
</head>
<body>
    <div class="page-wrapper">
        <header class="site-header">
            <div class="header-container">
                <div class="site-branding">
                    <a href="/" class="site-logo">
                        <h1 class="site-title">PHP WordPress Development</h1>
                    </a>
                </div>
            </div>
        </header>
        
        <nav class="breadcrumb container">
            <ol class="breadcrumb-list">
                <li class="breadcrumb-item"><a href="/">Home</a> /</li>
                <li class="breadcrumb-item"><a href="/module6.html">Module 6</a> /</li>
                <li class="breadcrumb-item">Preparing for Distribution</li>
            </ol>
        </nav>
        
        <main class="main-content">
            <div class="container">
                <div class="content-with-sidebar">
                    <aside class="sidebar">
                        <div class="sidebar-nav">
                            <h3 class="sidebar-title">Session 10: Distribution & Maintenance</h3>
                            <ul class="sidebar-menu">
                                <li><a href="/06module/plugin_development_workflow.html">Development Workflow</a></li>
                                <li><a href="/06module/version_control_plugins.html">Version Control</a></li>
                                <li><a href="/06module/plugin_testing_strategies.html">Testing Strategies</a></li>
                                <li><a href="/06module/documentation_best_practices.html">Documentation</a></li>
                                <li><a href="/06module/internationalization_localization.html">i18n & l10n</a></li>
                                <li class="active"><a href="/06module/preparing_distribution.html">Preparing for Distribution</a></li>
                                <li><a href="/06module/wordpress_org_guidelines.html">WordPress.org Guidelines</a></li>
                                <li><a href="/06module/plugin_maintenance_updates.html">Maintenance & Updates</a></li>
                                <li><a href="/06module/final_project.html">Final Project</a></li>
                            </ul>
                        </div>
                    </aside>
                    
                    <article class="lesson-content">
                        <div class="distribution-header">
                            <h1>üì¶ Preparing Plugins for Distribution</h1>
                            <p class="lead">Get your plugin ready for the world</p>
                        </div>

                        <div class="lesson-objectives">
                            <h2>Learning Objectives</h2>
                            <ul>
                                <li>Prepare plugin for release</li>
                                <li>Choose appropriate licensing</li>
                                <li>Create distribution packages</li>
                                <li>Set up update mechanisms</li>
                                <li>Choose distribution channels</li>
                            </ul>
                        </div>
                        
                        <div class="lesson-body">
                            <section>
                                <h2>Pre-Release Checklist</h2>
                                <div class="checklist">
                                    <h3>‚úÖ Final Checks Before Release</h3>
                                    <div class="checklist-item">‚òê All features tested and working</div>
                                    <div class="checklist-item">‚òê No PHP errors or warnings</div>
                                    <div class="checklist-item">‚òê JavaScript console clean</div>
                                    <div class="checklist-item">‚òê Security audit completed</div>
                                    <div class="checklist-item">‚òê Performance optimized</div>
                                    <div class="checklist-item">‚òê Documentation complete</div>
                                    <div class="checklist-item">‚òê Translation ready (POT file)</div>
                                    <div class="checklist-item">‚òê License chosen and added</div>
                                    <div class="checklist-item">‚òê readme.txt validated</div>
                                    <div class="checklist-item">‚òê Screenshots prepared</div>
                                    <div class="checklist-item">‚òê Version numbers consistent</div>
                                    <div class="checklist-item">‚òê Tested on minimum WP version</div>
                                    <div class="checklist-item">‚òê Tested with latest WP version</div>
                                    <div class="checklist-item">‚òê PHP compatibility checked</div>
                                </div>
                            </section>

                            <section>
                                <h2>Licensing</h2>
                                <div class="distribution-section">
                                    <h3>Choosing a License</h3>
                                    <div class="code-example">
                                        <pre><code>/**
 * Plugin Name: My Awesome Plugin
 * Plugin URI: https://example.com/my-plugin
 * Description: A brief description of the plugin
 * Version: 1.0.0
 * Author: Your Name
 * Author URI: https://example.com
 * License: GPL v2 or later
 * License URI: https://www.gnu.org/licenses/gpl-2.0.html
 * Text Domain: my-plugin
 * Domain Path: /languages
 */

/*
My Awesome Plugin is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 2 of the License, or
any later version.

My Awesome Plugin is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with My Awesome Plugin. If not, see https://www.gnu.org/licenses/gpl-2.0.html.
*/</code></pre>
                                    </div>
                                </div>
                            </section>

                            <section>
                                <h2>Creating Distribution Package</h2>
                                <div class="distribution-section">
                                    <h3>Build Script</h3>
                                    <div class="code-example">
                                        <pre><code>#!/bin/bash
# build-release.sh

VERSION=$(grep "Version:" my-plugin.php | awk '{print $2}')
PLUGIN_SLUG="my-awesome-plugin"

echo "Building $PLUGIN_SLUG version $VERSION"

# Clean build directory
rm -rf build/
mkdir -p build/$PLUGIN_SLUG

# Copy files
rsync -av --exclude-from='.distignore' . build/$PLUGIN_SLUG/

# .distignore file
cat > .distignore << EOL
.git
.gitignore
.distignore
.editorconfig
.travis.yml
.phpcs.xml
node_modules
vendor
tests
bin
composer.json
composer.lock
package.json
package-lock.json
webpack.config.js
Gruntfile.js
gulpfile.js
README.md
phpunit.xml
.wp-env.json
*.zip
build
assets/src
**/*.map
**/.DS_Store
**/Thumbs.db
EOL

# Install production dependencies
cd build/$PLUGIN_SLUG
composer install --no-dev --optimize-autoloader
npm ci --production

# Build assets
npm run build

# Generate POT file
wp i18n make-pot . languages/$PLUGIN_SLUG.pot

# Remove build files
rm -rf node_modules
rm package*.json
rm composer.*

# Create zip
cd ..
zip -r $PLUGIN_SLUG-$VERSION.zip $PLUGIN_SLUG

echo "Package created: build/$PLUGIN_SLUG-$VERSION.zip"</code></pre>
                                    </div>
                                </div>
                            </section>

                            <section>
                                <h2>Update Mechanism</h2>
                                <div class="distribution-section">
                                    <h3>Custom Update Server</h3>
                                    <div class="code-example">
                                        <pre><code>class Plugin_Updater {
    
    private $plugin_data;
    private $plugin_file;
    private $plugin_slug;
    private $update_server;
    
    public function __construct( $plugin_file ) {
        $this->plugin_file = $plugin_file;
        $this->plugin_data = get_plugin_data( $this->plugin_file );
        $this->plugin_slug = plugin_basename( $this->plugin_file );
        $this->update_server = 'https://api.example.com/plugin-updates/';
        
        add_filter( 'pre_set_site_transient_update_plugins', array( $this, 'check_update' ) );
        add_filter( 'plugins_api', array( $this, 'plugin_info' ), 20, 3 );
    }
    
    public function check_update( $transient ) {
        if ( empty( $transient->checked ) ) {
            return $transient;
        }
        
        $remote_version = $this->get_remote_version();
        
        if ( version_compare( $this->plugin_data['Version'], $remote_version->version, '<' ) ) {
            $transient->response[ $this->plugin_slug ] = $remote_version;
        }
        
        return $transient;
    }
    
    private function get_remote_version() {
        $request = wp_remote_get( $this->update_server . '?slug=' . $this->plugin_slug );
        
        if ( ! is_wp_error( $request ) ) {
            return json_decode( wp_remote_retrieve_body( $request ) );
        }
        
        return false;
    }
}</code></pre>
                                    </div>
                                </div>
                            </section>

                            <section>
                                <h2>Distribution Channels</h2>
                                <div class="distribution-section">
                                    <h3>Available Options</h3>
                                    <ul>
                                        <li><strong>WordPress.org Repository</strong>
                                            <ul>
                                                <li>Free hosting</li>
                                                <li>Automatic updates</li>
                                                <li>Built-in user base</li>
                                                <li>Review process required</li>
                                            </ul>
                                        </li>
                                        <li><strong>GitHub Releases</strong>
                                            <ul>
                                                <li>Version control integration</li>
                                                <li>Developer-friendly</li>
                                                <li>GitHub Updater support</li>
                                            </ul>
                                        </li>
                                        <li><strong>Commercial Marketplaces</strong>
                                            <ul>
                                                <li>CodeCanyon</li>
                                                <li>Creative Market</li>
                                                <li>Gumroad</li>
                                            </ul>
                                        </li>
                                        <li><strong>Self-Hosted</strong>
                                            <ul>
                                                <li>Complete control</li>
                                                <li>Custom licensing</li>
                                                <li>Direct customer relationship</li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                            </section>

                            <section>
                                <h2>Marketing Materials</h2>
                                <div class="distribution-section">
                                    <h3>Essential Assets</h3>
                                    <ul>
                                        <li>Plugin icon (256x256px and 128x128px)</li>
                                        <li>Banner images (772x250px and 1544x500px)</li>
                                        <li>Screenshots (recommended 1280x720px)</li>
                                        <li>Demo site or video</li>
                                        <li>Feature list</li>
                                        <li>Comparison table</li>
                                        <li>User testimonials</li>
                                    </ul>
                                </div>
                            </section>

                            <section class="resources">
                                <h2>Resources</h2>
                                <ul>
                                    <li><a href="https://developer.wordpress.org/plugins/wordpress-org/">WordPress.org Plugin Handbook</a></li>
                                    <li><a href="https://choosealicense.com/">Choose a License</a></li>
                                    <li><a href="https://github.com/afragen/github-updater">GitHub Updater</a></li>
                                </ul>
                            </section>
                        </div>

                        <div class="lesson-navigation">
                            <a href="/06module/internationalization_localization.html" class="lesson-nav-button prev">Previous: i18n & l10n</a>
                            <button class="complete-lesson-btn">Mark as Complete</button>
                            <a href="/06module/wordpress_org_guidelines.html" class="lesson-nav-button next">Next: WordPress.org Guidelines</a>
                        </div>
                    </article>
                </div>
            </div>
        </main>

        <footer class="site-footer">
            <div class="footer-container">
                <p>&copy; 2024 PHP WordPress Course. All rights reserved.</p>
            </div>
        </footer>
    </div>
    
    <script src="/assets/js/main.js"></script>
    <script src="/assets/js/progress-tracker.js"></script>
</body>
</html>