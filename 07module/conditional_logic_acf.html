<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <!-- SEO Meta Tags -->
    <title>Conditional Logic with ACF - PHP WordPress Course</title>
    <meta name="description" content="Master conditional logic in Advanced Custom Fields. Create dynamic, intelligent forms with show/hide rules and complex conditions.">
    <meta name="keywords" content="WordPress, ACF, conditional logic, dynamic fields, form logic">
    <meta name="author" content="PHP WordPress Course">
    
    <!-- Open Graph Tags -->
    <meta property="og:title" content="Conditional Logic with ACF">
    <meta property="og:description" content="Create intelligent, dynamic forms with ACF conditional logic">
    <meta property="og:type" content="article">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="apple-touch-icon" href="/favicon.png">
    
    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    
    <!-- Prism.js for syntax highlighting -->
    <link href="/assets/css/prism.css" rel="stylesheet">
</head>
<body>
    <!-- Skip to main content -->
    <a href="#main-content" class="sr-only">Skip to main content</a>
    
    <div class="page-wrapper">
        <!-- Header -->
        <header class="site-header" role="banner">
            <div class="header-container">
                <div class="site-branding">
                    <a href="/" class="site-logo">
                        <h1 class="site-title">PHP WordPress Development</h1>
                    </a>
                </div>
                
                <nav class="main-navigation" role="navigation" aria-label="Main navigation">
                    <button class="mobile-menu-btn" aria-label="Toggle navigation" aria-expanded="false">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    
                    <div class="nav-menu">
                        <ul class="nav-list">
                            <li class="nav-item"><a href="/" class="nav-link">Home</a></li>
                            <li class="nav-item dropdown">
                                <button class="nav-link dropdown-toggle active" aria-haspopup="true">Modules</button>
                                <div class="dropdown-menu">
                                    <a href="/module1.html" class="dropdown-item">Module 1: Web Fundamentals</a>
                                    <a href="/module2.html" class="dropdown-item">Module 2: PHP Fundamentals</a>
                                    <a href="/module3.html" class="dropdown-item">Module 3: MySQL Database</a>
                                    <a href="/module4.html" class="dropdown-item">Module 4: WordPress & Docker</a>
                                    <a href="/module5.html" class="dropdown-item">Module 5: Theme Development</a>
                                    <a href="/module6.html" class="dropdown-item">Module 6: Plugin Development</a>
                                    <a href="/module7.html" class="dropdown-item active">Module 7: Advanced WordPress</a>
                                    <a href="/module8.html" class="dropdown-item">Module 8: Deployment</a>
                                    <a href="/module9.html" class="dropdown-item">Module 9: Final Project</a>
                                </div>
                            </li>
                            <li class="nav-item"><a href="/resources.html" class="nav-link">Resources</a></li>
                            <li class="nav-item"><a href="/about.html" class="nav-link">About</a></li>
                        </ul>
                    </div>
                </nav>
                
                <div class="search-container">
                    <div class="search-input-wrapper">
                        <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
                        </svg>
                        <input type="search" class="search-input" placeholder="Search lessons..." aria-label="Search">
                    </div>
                    <div class="search-results"></div>
                </div>
            </div>
        </header>
        
        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-header">
                <h2 class="progress-title">Course Progress</h2>
                <span class="progress-text">Loading...</span>
            </div>
            <div class="progress-bar">
                <div class="progress-bar-fill">
                    <span class="progress-bar-text"></span>
                </div>
            </div>
        </div>
        
        <!-- Breadcrumb -->
        <nav class="breadcrumb container" aria-label="Breadcrumb">
            <ol class="breadcrumb-list">
                <li class="breadcrumb-item">
                    <a href="/">Home</a>
                    <span class="breadcrumb-separator">/</span>
                </li>
                <li class="breadcrumb-item">
                    <a href="/module7.html">Module 7</a>
                    <span class="breadcrumb-separator">/</span>
                </li>
                <li class="breadcrumb-item">
                    <span aria-current="page">Conditional Logic</span>
                </li>
            </ol>
        </nav>
        
        <!-- Main Content -->
        <main id="main-content" class="main-content" role="main">
            <div class="container">
                <!-- Lesson Header -->
                <div class="lesson-header">
                    <h1 class="lesson-title">Conditional Logic with ACF</h1>
                    <p class="lesson-subtitle">Create dynamic, intelligent forms with advanced conditional logic</p>
                </div>
                
                <!-- Learning Objectives -->
                <div class="lesson-objectives">
                    <h2>Learning Objectives</h2>
                    <p>By the end of this lesson, you will be able to:</p>
                    <ul>
                        <li>Implement basic conditional logic rules</li>
                        <li>Create complex multi-condition logic</li>
                        <li>Build dynamic form workflows</li>
                        <li>Use JavaScript for custom conditions</li>
                        <li>Debug conditional logic issues</li>
                        <li>Optimize performance with conditional fields</li>
                    </ul>
                </div>
                
                <!-- Lesson Body -->
                <div class="lesson-body">
                    <!-- Introduction to Conditional Logic -->
                    <section>
                        <h2>Understanding Conditional Logic</h2>
                        
                        <p>Conditional logic in ACF allows you to show or hide fields based on the values of other fields. This creates dynamic, contextual forms that adapt to user input.</p>
                        
                        <div class="info-box">
                            <h3>Benefits of Conditional Logic</h3>
                            <ul>
                                <li><strong>Improved UX:</strong> Show only relevant fields to users</li>
                                <li><strong>Cleaner Interface:</strong> Reduce form clutter</li>
                                <li><strong>Data Validation:</strong> Ensure related fields are filled together</li>
                                <li><strong>Workflow Automation:</strong> Guide users through complex processes</li>
                                <li><strong>Context-Aware Forms:</strong> Adapt to different scenarios</li>
                            </ul>
                        </div>
                    </section>
                    
                    <!-- Basic Conditional Logic -->
                    <section>
                        <h2>Basic Conditional Logic</h2>
                        
                        <h3>Simple Show/Hide Rules</h3>
                        <pre><code class="language-php">
// Basic conditional field setup
acf_add_local_field_group([
    'key' => 'group_event_details',
    'title' => 'Event Details',
    'fields' => [
        // Trigger field
        [
            'key' => 'field_event_type',
            'label' => 'Event Type',
            'name' => 'event_type',
            'type' => 'select',
            'choices' => [
                'online' => 'Online Event',
                'physical' => 'Physical Event',
                'hybrid' => 'Hybrid Event'
            ],
            'default_value' => 'online'
        ],
        
        // Show only for online events
        [
            'key' => 'field_meeting_link',
            'label' => 'Meeting Link',
            'name' => 'meeting_link',
            'type' => 'url',
            'conditional_logic' => [
                [
                    [
                        'field' => 'field_event_type',
                        'operator' => '==',
                        'value' => 'online'
                    ]
                ]
            ]
        ],
        
        // Show only for physical events
        [
            'key' => 'field_venue_address',
            'label' => 'Venue Address',
            'name' => 'venue_address',
            'type' => 'textarea',
            'conditional_logic' => [
                [
                    [
                        'field' => 'field_event_type',
                        'operator' => '==',
                        'value' => 'physical'
                    ]
                ]
            ]
        ],
        
        // Show for both physical and hybrid
        [
            'key' => 'field_venue_details',
            'label' => 'Venue Details',
            'name' => 'venue_details',
            'type' => 'wysiwyg',
            'conditional_logic' => [
                [
                    [
                        'field' => 'field_event_type',
                        'operator' => '!=',
                        'value' => 'online'
                    ]
                ]
            ]
        ]
    ],
    'location' => [
        [
            [
                'param' => 'post_type',
                'operator' => '==',
                'value' => 'event'
            ]
        ]
    ]
]);
                        </code></pre>
                        
                        <h3>Operators Available</h3>
                        <pre><code class="language-php">
// All available operators for conditional logic
$operators = [
    '==' => 'is equal to',
    '!=' => 'is not equal to',
    '>' => 'is greater than',
    '<' => 'is less than',
    'pattern' => 'matches pattern',
    'contains' => 'contains',
    'empty' => 'is empty',
    '!empty' => 'is not empty'
];

// Examples using different operators
[
    'key' => 'field_discount_amount',
    'label' => 'Discount Amount',
    'name' => 'discount_amount',
    'type' => 'number',
    'conditional_logic' => [
        [
            [
                'field' => 'field_order_total',
                'operator' => '>',
                'value' => '100'
            ]
        ]
    ]
],
[
    'key' => 'field_custom_message',
    'label' => 'Custom Message',
    'name' => 'custom_message',
    'type' => 'textarea',
    'conditional_logic' => [
        [
            [
                'field' => 'field_message_type',
                'operator' => 'contains',
                'value' => 'custom'
            ]
        ]
    ]
],
[
    'key' => 'field_fallback_option',
    'label' => 'Fallback Option',
    'name' => 'fallback_option',
    'type' => 'text',
    'conditional_logic' => [
        [
            [
                'field' => 'field_primary_option',
                'operator' => 'empty',
                'value' => ''
            ]
        ]
    ]
]
                        </code></pre>
                    </section>
                    
                    <!-- Complex Conditional Logic -->
                    <section>
                        <h2>Complex Conditional Logic</h2>
                        
                        <h3>Multiple Conditions (AND Logic)</h3>
                        <pre><code class="language-php">
// Show field only when ALL conditions are met
[
    'key' => 'field_premium_features',
    'label' => 'Premium Features',
    'name' => 'premium_features',
    'type' => 'checkbox',
    'choices' => [
        'feature1' => 'Advanced Analytics',
        'feature2' => 'Priority Support',
        'feature3' => 'Custom Branding'
    ],
    'conditional_logic' => [
        [
            // AND condition - all must be true
            [
                'field' => 'field_account_type',
                'operator' => '==',
                'value' => 'premium'
            ],
            [
                'field' => 'field_payment_status',
                'operator' => '==',
                'value' => 'active'
            ],
            [
                'field' => 'field_subscription_months',
                'operator' => '>',
                'value' => '3'
            ]
        ]
    ]
]
                        </code></pre>
                        
                        <h3>Alternative Conditions (OR Logic)</h3>
                        <pre><code class="language-php">
// Show field when ANY condition group is met
[
    'key' => 'field_support_options',
    'label' => 'Support Options',
    'name' => 'support_options',
    'type' => 'select',
    'choices' => [
        'email' => 'Email Support',
        'chat' => 'Live Chat',
        'phone' => 'Phone Support',
        'priority' => 'Priority Support'
    ],
    'conditional_logic' => [
        // OR Group 1: Premium users
        [
            [
                'field' => 'field_account_type',
                'operator' => '==',
                'value' => 'premium'
            ]
        ],
        // OR Group 2: Long-term users
        [
            [
                'field' => 'field_account_age_months',
                'operator' => '>',
                'value' => '12'
            ]
        ],
        // OR Group 3: High-value customers
        [
            [
                'field' => 'field_total_purchases',
                'operator' => '>',
                'value' => '1000'
            ]
        ]
    ]
]
                        </code></pre>
                        
                        <h3>Nested Conditional Logic</h3>
                        <pre><code class="language-php">
// Complex nested conditions
acf_add_local_field_group([
    'key' => 'group_product_variations',
    'title' => 'Product Variations',
    'fields' => [
        // Level 1: Product type
        [
            'key' => 'field_has_variations',
            'label' => 'Has Variations?',
            'name' => 'has_variations',
            'type' => 'true_false',
            'ui' => 1
        ],
        
        // Level 2: Variation type (shows if has_variations is true)
        [
            'key' => 'field_variation_type',
            'label' => 'Variation Type',
            'name' => 'variation_type',
            'type' => 'select',
            'choices' => [
                'size' => 'Size',
                'color' => 'Color',
                'both' => 'Size and Color'
            ],
            'conditional_logic' => [
                [
                    [
                        'field' => 'field_has_variations',
                        'operator' => '==',
                        'value' => '1'
                    ]
                ]
            ]
        ],
        
        // Level 3: Size options (shows if variation_type includes size)
        [
            'key' => 'field_size_options',
            'label' => 'Size Options',
            'name' => 'size_options',
            'type' => 'checkbox',
            'choices' => [
                'xs' => 'XS',
                's' => 'S',
                'm' => 'M',
                'l' => 'L',
                'xl' => 'XL',
                'xxl' => 'XXL'
            ],
            'conditional_logic' => [
                [
                    [
                        'field' => 'field_has_variations',
                        'operator' => '==',
                        'value' => '1'
                    ],
                    [
                        'field' => 'field_variation_type',
                        'operator' => '!=',
                        'value' => 'color'
                    ]
                ]
            ]
        ],
        
        // Level 3: Color options (shows if variation_type includes color)
        [
            'key' => 'field_color_options',
            'label' => 'Color Options',
            'name' => 'color_options',
            'type' => 'repeater',
            'conditional_logic' => [
                [
                    [
                        'field' => 'field_has_variations',
                        'operator' => '==',
                        'value' => '1'
                    ],
                    [
                        'field' => 'field_variation_type',
                        'operator' => '!=',
                        'value' => 'size'
                    ]
                ]
            ],
            'sub_fields' => [
                [
                    'key' => 'field_color_name',
                    'label' => 'Color Name',
                    'name' => 'color_name',
                    'type' => 'text'
                ],
                [
                    'key' => 'field_color_hex',
                    'label' => 'Color Code',
                    'name' => 'color_hex',
                    'type' => 'color_picker'
                ]
            ]
        ]
    ],
    'location' => [
        [
            [
                'param' => 'post_type',
                'operator' => '==',
                'value' => 'product'
            ]
        ]
    ]
]);
                        </code></pre>
                    </section>
                    
                    <!-- Dynamic Form Workflows -->
                    <section>
                        <h2>Dynamic Form Workflows</h2>
                        
                        <h3>Progressive Disclosure Pattern</h3>
                        <pre><code class="language-php">
// Step-by-step form with progressive disclosure
acf_add_local_field_group([
    'key' => 'group_application_form',
    'title' => 'Application Form',
    'fields' => [
        // Step 1: Basic Info
        [
            'key' => 'field_step1_complete',
            'label' => 'Personal Information',
            'name' => 'step1_complete',
            'type' => 'true_false',
            'ui' => 1,
            'ui_on_text' => 'Complete',
            'ui_off_text' => 'Incomplete'
        ],
        [
            'key' => 'field_first_name',
            'label' => 'First Name',
            'name' => 'first_name',
            'type' => 'text',
            'required' => 1
        ],
        [
            'key' => 'field_last_name',
            'label' => 'Last Name',
            'name' => 'last_name',
            'type' => 'text',
            'required' => 1
        ],
        
        // Step 2: Only shows after Step 1 is complete
        [
            'key' => 'field_step2_header',
            'label' => 'Employment Information',
            'name' => '',
            'type' => 'message',
            'message' => '&lt;h3&gt;Step 2: Employment Details&lt;/h3&gt;',
            'conditional_logic' => [
                [
                    [
                        'field' => 'field_step1_complete',
                        'operator' => '==',
                        'value' => '1'
                    ]
                ]
            ]
        ],
        [
            'key' => 'field_employment_status',
            'label' => 'Employment Status',
            'name' => 'employment_status',
            'type' => 'select',
            'choices' => [
                'employed' => 'Employed',
                'self_employed' => 'Self-Employed',
                'unemployed' => 'Unemployed',
                'student' => 'Student',
                'retired' => 'Retired'
            ],
            'conditional_logic' => [
                [
                    [
                        'field' => 'field_step1_complete',
                        'operator' => '==',
                        'value' => '1'
                    ]
                ]
            ]
        ],
        
        // Sub-fields for employed users
        [
            'key' => 'field_employer_name',
            'label' => 'Employer Name',
            'name' => 'employer_name',
            'type' => 'text',
            'conditional_logic' => [
                [
                    [
                        'field' => 'field_step1_complete',
                        'operator' => '==',
                        'value' => '1'
                    ],
                    [
                        'field' => 'field_employment_status',
                        'operator' => '==',
                        'value' => 'employed'
                    ]
                ]
            ]
        ],
        [
            'key' => 'field_job_title',
            'label' => 'Job Title',
            'name' => 'job_title',
            'type' => 'text',
            'conditional_logic' => [
                [
                    [
                        'field' => 'field_step1_complete',
                        'operator' => '==',
                        'value' => '1'
                    ],
                    [
                        'field' => 'field_employment_status',
                        'operator' => '==',
                        'value' => 'employed'
                    ]
                ]
            ]
        ],
        
        // Sub-fields for self-employed users
        [
            'key' => 'field_business_name',
            'label' => 'Business Name',
            'name' => 'business_name',
            'type' => 'text',
            'conditional_logic' => [
                [
                    [
                        'field' => 'field_step1_complete',
                        'operator' => '==',
                        'value' => '1'
                    ],
                    [
                        'field' => 'field_employment_status',
                        'operator' => '==',
                        'value' => 'self_employed'
                    ]
                ]
            ]
        ],
        [
            'key' => 'field_business_type',
            'label' => 'Business Type',
            'name' => 'business_type',
            'type' => 'text',
            'conditional_logic' => [
                [
                    [
                        'field' => 'field_step1_complete',
                        'operator' => '==',
                        'value' => '1'
                    ],
                    [
                        'field' => 'field_employment_status',
                        'operator' => '==',
                        'value' => 'self_employed'
                    ]
                ]
            ]
        ]
    ],
    'location' => [
        [
            [
                'param' => 'post_type',
                'operator' => '==',
                'value' => 'application'
            ]
        ]
    ]
]);
                        </code></pre>
                        
                        <h3>Branching Logic Workflow</h3>
                        <pre><code class="language-php">
// Branching form based on user choices
[
    'key' => 'field_service_type',
    'label' => 'What service do you need?',
    'name' => 'service_type',
    'type' => 'radio',
    'choices' => [
        'consulting' => 'Consulting',
        'development' => 'Development',
        'design' => 'Design',
        'support' => 'Support'
    ],
    'layout' => 'vertical'
],

// Consulting branch
[
    'key' => 'field_consulting_hours',
    'label' => 'Estimated Hours Needed',
    'name' => 'consulting_hours',
    'type' => 'number',
    'conditional_logic' => [
        [
            [
                'field' => 'field_service_type',
                'operator' => '==',
                'value' => 'consulting'
            ]
        ]
    ]
],
[
    'key' => 'field_consulting_topics',
    'label' => 'Topics to Cover',
    'name' => 'consulting_topics',
    'type' => 'checkbox',
    'choices' => [
        'strategy' => 'Business Strategy',
        'technical' => 'Technical Architecture',
        'process' => 'Process Improvement'
    ],
    'conditional_logic' => [
        [
            [
                'field' => 'field_service_type',
                'operator' => '==',
                'value' => 'consulting'
            ]
        ]
    ]
],

// Development branch
[
    'key' => 'field_project_type',
    'label' => 'Project Type',
    'name' => 'project_type',
    'type' => 'select',
    'choices' => [
        'new' => 'New Development',
        'maintenance' => 'Maintenance',
        'migration' => 'Migration',
        'integration' => 'Integration'
    ],
    'conditional_logic' => [
        [
            [
                'field' => 'field_service_type',
                'operator' => '==',
                'value' => 'development'
            ]
        ]
    ]
],
[
    'key' => 'field_technology_stack',
    'label' => 'Technology Stack',
    'name' => 'technology_stack',
    'type' => 'checkbox',
    'choices' => [
        'wordpress' => 'WordPress',
        'react' => 'React',
        'vue' => 'Vue.js',
        'laravel' => 'Laravel',
        'node' => 'Node.js'
    ],
    'conditional_logic' => [
        [
            [
                'field' => 'field_service_type',
                'operator' => '==',
                'value' => 'development'
            ],
            [
                'field' => 'field_project_type',
                'operator' => '==',
                'value' => 'new'
            ]
        ]
    ]
]
                        </code></pre>
                    </section>
                    
                    <!-- JavaScript Conditional Logic -->
                    <section>
                        <h2>JavaScript Conditional Logic</h2>
                        
                        <h3>Custom JavaScript Conditions</h3>
                        <pre><code class="language-javascript">
// Advanced conditional logic with JavaScript
(function($) {
    
    // Wait for ACF to be ready
    acf.addAction('ready', function() {
        
        // Custom validation based on conditional fields
        acf.addFilter('validation_complete', function(json, $form) {
            
            // Get field values
            var productType = acf.getField('field_product_type').val();
            var price = acf.getField('field_price').val();
            var salePrice = acf.getField('field_sale_price').val();
            
            // Custom validation logic
            if (productType === 'on_sale' && (!salePrice || salePrice >= price)) {
                json.valid = 0;
                json.errors = json.errors || [];
                json.errors.push({
                    input: 'acf[field_sale_price]',
                    message: 'Sale price must be less than regular price'
                });
            }
            
            return json;
        });
        
        // Dynamic field updates based on conditions
        acf.addAction('change', function($el) {
            var field = acf.getField($el);
            
            if (field && field.data.name === 'country') {
                updateStateField(field.val());
            }
        });
        
        function updateStateField(country) {
            var stateField = acf.getField('field_state');
            var $select = stateField.$el.find('select');
            
            // Clear current options
            $select.empty();
            
            // Load states based on country
            if (country === 'US') {
                loadUSStates($select);
            } else if (country === 'CA') {
                loadCanadianProvinces($select);
            } else {
                $select.append('&lt;option value=""&gt;N/A&lt;/option&gt;');
            }
        }
        
        function loadUSStates($select) {
            var states = {
                'AL': 'Alabama',
                'AK': 'Alaska',
                'AZ': 'Arizona',
                // ... more states
            };
            
            $.each(states, function(code, name) {
                $select.append('&lt;option value="' + code + '"&gt;' + name + '&lt;/option&gt;');
            });
        }
    });
    
    // Real-time calculations based on field values
    acf.addAction('change', function($el) {
        calculateTotal();
    });
    
    function calculateTotal() {
        var quantity = parseFloat(acf.getField('field_quantity').val()) || 0;
        var price = parseFloat(acf.getField('field_price').val()) || 0;
        var taxRate = parseFloat(acf.getField('field_tax_rate').val()) || 0;
        
        var subtotal = quantity * price;
        var tax = subtotal * (taxRate / 100);
        var total = subtotal + tax;
        
        // Update display fields
        acf.getField('field_subtotal').$el.find('input').val(subtotal.toFixed(2));
        acf.getField('field_tax_amount').$el.find('input').val(tax.toFixed(2));
        acf.getField('field_total').$el.find('input').val(total.toFixed(2));
    }
    
})(jQuery);
                        </code></pre>
                        
                        <h3>AJAX-Based Conditional Logic</h3>
                        <pre><code class="language-javascript">
// Load fields dynamically via AJAX
acf.addAction('change', function($el) {
    var field = acf.getField($el);
    
    if (field && field.data.name === 'template_selection') {
        loadTemplateFields(field.val());
    }
});

function loadTemplateFields(templateId) {
    if (!templateId) return;
    
    // Show loading indicator
    var $container = $('#dynamic-fields-container');
    $container.html('&lt;div class="spinner is-active"&gt;&lt;/div&gt;');
    
    // AJAX request
    $.ajax({
        url: acf.get('ajaxurl'),
        method: 'POST',
        data: {
            action: 'load_template_fields',
            template_id: templateId,
            nonce: acf.get('nonce')
        },
        success: function(response) {
            if (response.success) {
                $container.html(response.data.html);
                
                // Initialize ACF fields in loaded content
                acf.doAction('append', $container);
            }
        },
        error: function() {
            $container.html('&lt;p class="error"&gt;Failed to load fields&lt;/p&gt;');
        }
    });
}

// PHP handler for AJAX request
add_action('wp_ajax_load_template_fields', 'handle_load_template_fields');
function handle_load_template_fields() {
    check_ajax_referer('acf_nonce', 'nonce');
    
    $template_id = intval($_POST['template_id']);
    
    // Get fields for this template
    $fields = get_template_fields($template_id);
    
    ob_start();
    foreach ($fields as $field) {
        acf_render_field($field);
    }
    $html = ob_get_clean();
    
    wp_send_json_success(['html' => $html]);
}
                        </code></pre>
                    </section>
                    
                    <!-- Conditional Logic in Repeaters -->
                    <section>
                        <h2>Conditional Logic in Repeaters and Flexible Content</h2>
                        
                        <h3>Repeater Field Conditions</h3>
                        <pre><code class="language-php">
// Conditional logic within repeater fields
[
    'key' => 'field_team_members',
    'label' => 'Team Members',
    'name' => 'team_members',
    'type' => 'repeater',
    'layout' => 'row',
    'sub_fields' => [
        [
            'key' => 'field_member_type',
            'label' => 'Member Type',
            'name' => 'member_type',
            'type' => 'select',
            'choices' => [
                'employee' => 'Employee',
                'contractor' => 'Contractor',
                'intern' => 'Intern'
            ]
        ],
        [
            'key' => 'field_employee_id',
            'label' => 'Employee ID',
            'name' => 'employee_id',
            'type' => 'text',
            'conditional_logic' => [
                [
                    [
                        'field' => 'field_member_type',
                        'operator' => '==',
                        'value' => 'employee'
                    ]
                ]
            ]
        ],
        [
            'key' => 'field_contract_end',
            'label' => 'Contract End Date',
            'name' => 'contract_end',
            'type' => 'date_picker',
            'conditional_logic' => [
                [
                    [
                        'field' => 'field_member_type',
                        'operator' => '==',
                        'value' => 'contractor'
                    ]
                ]
            ]
        ],
        [
            'key' => 'field_university',
            'label' => 'University',
            'name' => 'university',
            'type' => 'text',
            'conditional_logic' => [
                [
                    [
                        'field' => 'field_member_type',
                        'operator' => '==',
                        'value' => 'intern'
                    ]
                ]
            ]
        ]
    ]
]
                        </code></pre>
                        
                        <h3>Flexible Content Conditional Layouts</h3>
                        <pre><code class="language-php">
// Dynamic layouts in flexible content
[
    'key' => 'field_page_builder',
    'label' => 'Page Builder',
    'name' => 'page_builder',
    'type' => 'flexible_content',
    'layouts' => [
        [
            'key' => 'layout_content_block',
            'name' => 'content_block',
            'label' => 'Content Block',
            'sub_fields' => [
                [
                    'key' => 'field_content_type',
                    'label' => 'Content Type',
                    'name' => 'content_type',
                    'type' => 'radio',
                    'choices' => [
                        'text' => 'Text',
                        'video' => 'Video',
                        'gallery' => 'Gallery'
                    ]
                ],
                // Text content fields
                [
                    'key' => 'field_text_content',
                    'label' => 'Text Content',
                    'name' => 'text_content',
                    'type' => 'wysiwyg',
                    'conditional_logic' => [
                        [
                            [
                                'field' => 'field_content_type',
                                'operator' => '==',
                                'value' => 'text'
                            ]
                        ]
                    ]
                ],
                // Video fields
                [
                    'key' => 'field_video_source',
                    'label' => 'Video Source',
                    'name' => 'video_source',
                    'type' => 'select',
                    'choices' => [
                        'youtube' => 'YouTube',
                        'vimeo' => 'Vimeo',
                        'upload' => 'Upload'
                    ],
                    'conditional_logic' => [
                        [
                            [
                                'field' => 'field_content_type',
                                'operator' => '==',
                                'value' => 'video'
                            ]
                        ]
                    ]
                ],
                [
                    'key' => 'field_youtube_id',
                    'label' => 'YouTube Video ID',
                    'name' => 'youtube_id',
                    'type' => 'text',
                    'conditional_logic' => [
                        [
                            [
                                'field' => 'field_content_type',
                                'operator' => '==',
                                'value' => 'video'
                            ],
                            [
                                'field' => 'field_video_source',
                                'operator' => '==',
                                'value' => 'youtube'
                            ]
                        ]
                    ]
                ],
                // Gallery fields
                [
                    'key' => 'field_gallery_images',
                    'label' => 'Gallery Images',
                    'name' => 'gallery_images',
                    'type' => 'gallery',
                    'conditional_logic' => [
                        [
                            [
                                'field' => 'field_content_type',
                                'operator' => '==',
                                'value' => 'gallery'
                            ]
                        ]
                    ]
                ]
            ]
        ]
    ]
]
                        </code></pre>
                    </section>
                    
                    <!-- Performance Optimization -->
                    <section>
                        <h2>Performance Optimization</h2>
                        
                        <h3>Optimizing Conditional Logic</h3>
                        <pre><code class="language-php">
// Best practices for performance

// 1. Use field keys instead of field names
'conditional_logic' => [
    [
        [
            'field' => 'field_5f4b8c9d12345', // Use key, not name
            'operator' => '==',
            'value' => 'yes'
        ]
    ]
]

// 2. Minimize nested conditions
// Instead of deep nesting, use combined conditions

// 3. Lazy load complex fields
add_filter('acf/load_field/name=complex_field', function($field) {
    // Only load choices when needed
    if (get_field('trigger_field') === 'load') {
        $field['choices'] = get_complex_choices();
    }
    return $field;
});

// 4. Cache conditional results
add_filter('acf/prepare_field', function($field) {
    static $cache = [];
    
    $cache_key = $field['key'] . '_' . get_the_ID();
    
    if (isset($cache[$cache_key])) {
        return $cache[$cache_key];
    }
    
    // Process field
    if ($field['conditional_logic']) {
        // Complex processing
    }
    
    $cache[$cache_key] = $field;
    return $field;
});
                        </code></pre>
                        
                        <h3>Debugging Conditional Logic</h3>
                        <pre><code class="language-javascript">
// Debug conditional logic in browser console
acf.addAction('ready', function() {
    
    // Log all field changes
    acf.addAction('change', function($el) {
        var field = acf.getField($el);
        console.log('Field changed:', field.data.name, 'Value:', field.val());
    });
    
    // Monitor conditional logic evaluation
    acf.addFilter('conditional_logic', function(result, field, conditions) {
        console.log('Evaluating conditions for:', field.data.name);
        console.log('Conditions:', conditions);
        console.log('Result:', result);
        return result;
    });
    
    // Check field visibility
    function checkFieldVisibility(fieldKey) {
        var field = acf.getField(fieldKey);
        console.log('Field:', fieldKey);
        console.log('Visible:', field.$el.is(':visible'));
        console.log('Disabled:', field.$el.find('input').prop('disabled'));
    }
    
    // Expose for console debugging
    window.acfDebug = {
        checkField: checkFieldVisibility,
        getAllFields: function() {
            return acf.getFields();
        },
        getFieldValue: function(key) {
            return acf.getField(key).val();
        }
    };
});
                        </code></pre>
                    </section>
                    
                    <!-- Real-World Examples -->
                    <section>
                        <h2>Real-World Examples</h2>
                        
                        <h3>E-commerce Product Form</h3>
                        <pre><code class="language-php">
// Complete e-commerce product form with conditional logic
acf_add_local_field_group([
    'key' => 'group_ecommerce_product',
    'title' => 'Product Details',
    'fields' => [
        [
            'key' => 'field_product_type',
            'label' => 'Product Type',
            'name' => 'product_type',
            'type' => 'select',
            'choices' => [
                'simple' => 'Simple Product',
                'variable' => 'Variable Product',
                'grouped' => 'Grouped Product',
                'external' => 'External/Affiliate Product',
                'downloadable' => 'Downloadable Product'
            ]
        ],
        
        // Simple product fields
        [
            'key' => 'field_simple_price',
            'label' => 'Price',
            'name' => 'simple_price',
            'type' => 'number',
            'prepend' => '$',
            'conditional_logic' => [
                [
                    [
                        'field' => 'field_product_type',
                        'operator' => '==',
                        'value' => 'simple'
                    ]
                ]
            ]
        ],
        
        // Variable product fields
        [
            'key' => 'field_variations',
            'label' => 'Product Variations',
            'name' => 'variations',
            'type' => 'repeater',
            'conditional_logic' => [
                [
                    [
                        'field' => 'field_product_type',
                        'operator' => '==',
                        'value' => 'variable'
                    ]
                ]
            ],
            'sub_fields' => [
                [
                    'key' => 'field_variation_name',
                    'label' => 'Variation Name',
                    'name' => 'variation_name',
                    'type' => 'text'
                ],
                [
                    'key' => 'field_variation_price',
                    'label' => 'Price',
                    'name' => 'variation_price',
                    'type' => 'number',
                    'prepend' => '$'
                ],
                [
                    'key' => 'field_variation_stock',
                    'label' => 'Stock',
                    'name' => 'variation_stock',
                    'type' => 'number'
                ]
            ]
        ],
        
        // External product fields
        [
            'key' => 'field_external_url',
            'label' => 'Product URL',
            'name' => 'external_url',
            'type' => 'url',
            'conditional_logic' => [
                [
                    [
                        'field' => 'field_product_type',
                        'operator' => '==',
                        'value' => 'external'
                    ]
                ]
            ]
        ],
        [
            'key' => 'field_button_text',
            'label' => 'Button Text',
            'name' => 'button_text',
            'type' => 'text',
            'default_value' => 'Buy Now',
            'conditional_logic' => [
                [
                    [
                        'field' => 'field_product_type',
                        'operator' => '==',
                        'value' => 'external'
                    ]
                ]
            ]
        ],
        
        // Downloadable product fields
        [
            'key' => 'field_download_files',
            'label' => 'Downloadable Files',
            'name' => 'download_files',
            'type' => 'repeater',
            'conditional_logic' => [
                [
                    [
                        'field' => 'field_product_type',
                        'operator' => '==',
                        'value' => 'downloadable'
                    ]
                ]
            ],
            'sub_fields' => [
                [
                    'key' => 'field_file_name',
                    'label' => 'File Name',
                    'name' => 'file_name',
                    'type' => 'text'
                ],
                [
                    'key' => 'field_file_upload',
                    'label' => 'File',
                    'name' => 'file_upload',
                    'type' => 'file'
                ]
            ]
        ],
        
        // Shipping options (not for downloadable or external)
        [
            'key' => 'field_requires_shipping',
            'label' => 'Requires Shipping',
            'name' => 'requires_shipping',
            'type' => 'true_false',
            'conditional_logic' => [
                [
                    [
                        'field' => 'field_product_type',
                        'operator' => '!=',
                        'value' => 'downloadable'
                    ],
                    [
                        'field' => 'field_product_type',
                        'operator' => '!=',
                        'value' => 'external'
                    ]
                ]
            ]
        ],
        [
            'key' => 'field_shipping_class',
            'label' => 'Shipping Class',
            'name' => 'shipping_class',
            'type' => 'select',
            'choices' => [
                'standard' => 'Standard',
                'express' => 'Express',
                'freight' => 'Freight'
            ],
            'conditional_logic' => [
                [
                    [
                        'field' => 'field_requires_shipping',
                        'operator' => '==',
                        'value' => '1'
                    ]
                ]
            ]
        ]
    ],
    'location' => [
        [
            [
                'param' => 'post_type',
                'operator' => '==',
                'value' => 'product'
            ]
        ]
    ]
]);
                        </code></pre>
                    </section>
                    
                    <!-- Summary -->
                    <section>
                        <h2>Summary</h2>
                        
                        <div class="summary-box">
                            <h3>Key Takeaways</h3>
                            <ul>
                                <li>Conditional logic creates dynamic, contextual forms</li>
                                <li>Use AND/OR logic for complex conditions</li>
                                <li>JavaScript enables advanced custom conditions</li>
                                <li>Progressive disclosure improves user experience</li>
                                <li>Conditional logic works within repeaters and flexible content</li>
                                <li>Optimize performance by caching and lazy loading</li>
                                <li>Debug using browser console and ACF actions</li>
                            </ul>
                        </div>
                        
                        <div class="best-practices">
                            <h3>Conditional Logic Best Practices</h3>
                            <ul>
                                <li>Plan your form flow before implementing</li>
                                <li>Use field keys for reliability</li>
                                <li>Keep conditions simple when possible</li>
                                <li>Test all condition branches thoroughly</li>
                                <li>Consider mobile experience</li>
                                <li>Document complex logic flows</li>
                                <li>Provide clear user guidance</li>
                            </ul>
                        </div>
                    </section>
                    
                    <!-- Additional Resources -->
                    <section class="resources">
                        <h2>Additional Resources</h2>
                        <ul>
                            <li><a href="https://www.advancedcustomfields.com/resources/conditional-logic/" target="_blank">ACF Conditional Logic Documentation</a></li>
                            <li><a href="https://www.advancedcustomfields.com/resources/javascript-api/" target="_blank">ACF JavaScript API</a></li>
                            <li><a href="https://www.advancedcustomfields.com/resources/acf-addaction/" target="_blank">ACF Actions Reference</a></li>
                            <li><a href="https://www.advancedcustomfields.com/resources/acf-addfilter/" target="_blank">ACF Filters Reference</a></li>
                        </ul>
                    </section>
                </div>
                
                <!-- Lesson Navigation -->
                <div class="lesson-navigation">
                    <a href="/07module/acf_field_types.html" class="lesson-nav-button prev">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z"/>
                        </svg>
                        <span>
                            <small>Previous</small><br>
                            Field Types & Groups
                        </span>
                    </a>
                    
                    <button class="complete-lesson-btn">
                        Mark as Complete
                    </button>
                    
                    <a href="/07module/programmatic_acf.html" class="lesson-nav-button next">
                        <span>
                            <small>Next</small><br>
                            Programmatic ACF
                        </span>
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"/>
                        </svg>
                    </a>
                </div>
            </div>
        </main>
        
        <!-- Footer -->
        <footer class="site-footer" role="contentinfo">
            <div class="footer-container">
                <div class="footer-content">
                    <div class="footer-section footer-about">
                        <h3>PHP WordPress Development</h3>
                        <p>Complete Web Development Course - From HTML to WordPress</p>
                    </div>
                    
                    <div class="footer-section">
                        <h4>Quick Links</h4>
                        <ul class="footer-links">
                            <li><a href="/">Home</a></li>
                            <li><a href="/module7.html">Module 7</a></li>
                            <li><a href="/resources.html">Resources</a></li>
                            <li><a href="/about.html">About</a></li>
                        </ul>
                    </div>
                </div>
                
                <div class="footer-bottom">
                    <p>&copy; 2025 PHP WordPress Development Course. All rights reserved.</p>
                </div>
            </div>
        </footer>
    </div>
    
    <!-- JavaScript -->
    <script src="/assets/js/prism.js"></script>
    <script src="/assets/js/main.js"></script>
    <script src="/assets/js/lesson.js"></script>
</body>
</html>