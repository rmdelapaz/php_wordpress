<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <!-- SEO Meta Tags -->
    <title>Block Development Environment Setup - PHP WordPress Course</title>
    <meta name="description" content="Learn to set up a modern WordPress block development environment with build tools, webpack, and development workflows.">
    <meta name="keywords" content="WordPress, Gutenberg, development environment, webpack, build tools">
    <meta name="author" content="PHP WordPress Course">
    
    <!-- Open Graph Tags -->
    <meta property="og:title" content="Block Development Environment">
    <meta property="og:description" content="Set up your Gutenberg block development workflow">
    <meta property="og:type" content="article">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="apple-touch-icon" href="/favicon.png">
    
    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    
    <!-- Prism.js for syntax highlighting -->
    <link href="/assets/css/prism.css" rel="stylesheet">
</head>
<body>
    <!-- Skip to main content -->
    <a href="#main-content" class="sr-only">Skip to main content</a>
    
    <div class="page-wrapper">
        <!-- Header -->
        <header class="site-header" role="banner">
            <div class="header-container">
                <div class="site-branding">
                    <a href="/" class="site-logo">
                        <h1 class="site-title">PHP WordPress Development</h1>
                    </a>
                </div>
                
                <nav class="main-navigation" role="navigation" aria-label="Main navigation">
                    <button class="mobile-menu-btn" aria-label="Toggle navigation" aria-expanded="false">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    
                    <div class="nav-menu">
                        <ul class="nav-list">
                            <li class="nav-item"><a href="/" class="nav-link">Home</a></li>
                            <li class="nav-item dropdown">
                                <button class="nav-link dropdown-toggle active" aria-haspopup="true">Modules</button>
                                <div class="dropdown-menu">
                                    <a href="/module1.html" class="dropdown-item">Module 1: Web Fundamentals</a>
                                    <a href="/module2.html" class="dropdown-item">Module 2: PHP Fundamentals</a>
                                    <a href="/module3.html" class="dropdown-item">Module 3: MySQL Database</a>
                                    <a href="/module4.html" class="dropdown-item">Module 4: WordPress & Docker</a>
                                    <a href="/module5.html" class="dropdown-item">Module 5: Theme Development</a>
                                    <a href="/module6.html" class="dropdown-item">Module 6: Plugin Development</a>
                                    <a href="/module7.html" class="dropdown-item active">Module 7: Advanced WordPress</a>
                                    <a href="/module8.html" class="dropdown-item">Module 8: Deployment</a>
                                    <a href="/module9.html" class="dropdown-item">Module 9: Final Project</a>
                                </div>
                            </li>
                            <li class="nav-item"><a href="/resources.html" class="nav-link">Resources</a></li>
                            <li class="nav-item"><a href="/about.html" class="nav-link">About</a></li>
                        </ul>
                    </div>
                </nav>
                
                <div class="search-container">
                    <div class="search-input-wrapper">
                        <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
                        </svg>
                        <input type="search" class="search-input" placeholder="Search lessons..." aria-label="Search">
                    </div>
                    <div class="search-results"></div>
                </div>
            </div>
        </header>
        
        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-header">
                <h2 class="progress-title">Course Progress</h2>
                <span class="progress-text">Loading...</span>
            </div>
            <div class="progress-bar">
                <div class="progress-bar-fill">
                    <span class="progress-bar-text"></span>
                </div>
            </div>
        </div>
        
        <!-- Breadcrumb -->
        <nav class="breadcrumb container" aria-label="Breadcrumb">
            <ol class="breadcrumb-list">
                <li class="breadcrumb-item">
                    <a href="/">Home</a>
                    <span class="breadcrumb-separator">/</span>
                </li>
                <li class="breadcrumb-item">
                    <a href="/module7.html">Module 7</a>
                    <span class="breadcrumb-separator">/</span>
                </li>
                <li class="breadcrumb-item">
                    <span aria-current="page">Development Environment</span>
                </li>
            </ol>
        </nav>
        
        <!-- Main Content -->
        <main id="main-content" class="main-content" role="main">
            <div class="container">
                <!-- Lesson Header -->
                <div class="lesson-header">
                    <h1 class="lesson-title">Setting Up Block Development Environment</h1>
                    <p class="lesson-subtitle">Configure modern build tools and workflows for Gutenberg block development</p>
                </div>
                
                <!-- Learning Objectives -->
                <div class="lesson-objectives">
                    <h2>Learning Objectives</h2>
                    <p>By the end of this lesson, you will be able to:</p>
                    <ul>
                        <li>Set up @wordpress/scripts build tools</li>
                        <li>Configure custom webpack setups</li>
                        <li>Implement hot module replacement</li>
                        <li>Set up ESLint and Prettier</li>
                        <li>Configure TypeScript for blocks</li>
                        <li>Create efficient development workflows</li>
                    </ul>
                </div>
                
                <!-- Lesson Body -->
                <div class="lesson-body">
                    <!-- WordPress Scripts Setup -->
                    <section>
                        <h2>WordPress Scripts Configuration</h2>
                        
                        <h3>Complete Project Setup</h3>
                        <pre><code class="language-bash">
# Create plugin directory structure
mkdir my-block-plugin && cd my-block-plugin

# Initialize npm project
npm init -y

# Install WordPress scripts and dependencies
npm install --save-dev @wordpress/scripts @wordpress/env

# Install WordPress packages
npm install @wordpress/blocks @wordpress/i18n @wordpress/element \
            @wordpress/block-editor @wordpress/components @wordpress/data \
            @wordpress/compose @wordpress/hooks

# Create directory structure
mkdir -p src/blocks src/components src/utils build
                        </code></pre>
                        
                        <h3>Enhanced package.json</h3>
                        <pre><code class="language-json">
{
  "name": "my-block-plugin",
  "version": "1.0.0",
  "description": "Modern WordPress block development",
  "author": "Your Name",
  "license": "GPL-2.0-or-later",
  "main": "build/index.js",
  "scripts": {
    "build": "wp-scripts build",
    "start": "wp-scripts start",
    "lint:js": "wp-scripts lint-js",
    "lint:css": "wp-scripts lint-style",
    "lint:pkg-json": "wp-scripts lint-pkg-json",
    "format": "wp-scripts format",
    "check-engines": "wp-scripts check-engines",
    "check-licenses": "wp-scripts check-licenses",
    "test:unit": "wp-scripts test-unit-js",
    "test:e2e": "wp-scripts test-e2e",
    "env:start": "wp-env start",
    "env:stop": "wp-env stop",
    "env:clean": "wp-env clean",
    "plugin-zip": "wp-scripts plugin-zip",
    "packages-update": "wp-scripts packages-update",
    "build:custom": "wp-scripts build src/index.js --output-path=build/",
    "start:custom": "wp-scripts start src/index.js --output-path=build/ --hot",
    "analyze": "wp-scripts build --webpack-bundle-analyzer"
  },
  "devDependencies": {
    "@wordpress/scripts": "^26.0.0",
    "@wordpress/env": "^8.0.0",
    "@wordpress/prettier-config": "^2.0.0",
    "@wordpress/stylelint-config": "^21.0.0",
    "@wordpress/e2e-test-utils": "^10.0.0",
    "@testing-library/react": "^13.0.0",
    "classnames": "^2.3.2"
  },
  "dependencies": {
    "@wordpress/block-editor": "^12.0.0",
    "@wordpress/blocks": "^12.0.0",
    "@wordpress/components": "^25.0.0",
    "@wordpress/compose": "^6.0.0",
    "@wordpress/data": "^9.0.0",
    "@wordpress/element": "^5.0.0",
    "@wordpress/hooks": "^3.0.0",
    "@wordpress/i18n": "^4.0.0",
    "@wordpress/icons": "^9.0.0",
    "lodash": "^4.17.21"
  },
  "prettier": "@wordpress/prettier-config",
  "stylelint": {
    "extends": "@wordpress/stylelint-config"
  },
  "eslintConfig": {
    "extends": "@wordpress/eslint-config/recommended"
  }
}
                        </code></pre>
                    </section>
                    
                    <!-- Custom Webpack Configuration -->
                    <section>
                        <h2>Custom Webpack Configuration</h2>
                        
                        <h3>webpack.config.js</h3>
                        <pre><code class="language-javascript">
/**
 * Custom Webpack configuration extending WordPress defaults
 */
const defaultConfig = require('@wordpress/scripts/config/webpack.config');
const path = require('path');
const glob = require('glob');
const MiniCssExtractPlugin = require('mini-css-extract-plugin');
const RemoveEmptyScriptsPlugin = require('webpack-remove-empty-scripts');
const CopyPlugin = require('copy-webpack-plugin');
const DependencyExtractionWebpackPlugin = require('@wordpress/dependency-extraction-webpack-plugin');
const BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin;

// Get all block directories
const blocks = glob.sync('./src/blocks/*/index.js').reduce((entries, item) => {
    const name = item.replace('./src/blocks/', '').replace('/index.js', '');
    entries[`blocks/${name}/index`] = item;
    return entries;
}, {});

// Add additional entry points
const entries = {
    // Main editor script
    'index': './src/index.js',
    
    // Frontend script
    'frontend': './src/frontend.js',
    
    // Admin script
    'admin': './src/admin/index.js',
    
    // Individual blocks
    ...blocks,
    
    // Styles
    'style': './src/style.scss',
    'editor': './src/editor.scss',
};

module.exports = {
    ...defaultConfig,
    
    entry: entries,
    
    output: {
        path: path.resolve(__dirname, 'build'),
        filename: '[name].js',
    },
    
    module: {
        ...defaultConfig.module,
        rules: [
            ...defaultConfig.module.rules,
            {
                test: /\.tsx?$/,
                use: 'ts-loader',
                exclude: /node_modules/,
            },
        ],
    },
    
    resolve: {
        ...defaultConfig.resolve,
        extensions: ['.tsx', '.ts', '.js', '.jsx'],
        alias: {
            '@components': path.resolve(__dirname, 'src/components'),
            '@blocks': path.resolve(__dirname, 'src/blocks'),
            '@utils': path.resolve(__dirname, 'src/utils'),
            '@hooks': path.resolve(__dirname, 'src/hooks'),
            '@styles': path.resolve(__dirname, 'src/styles'),
        },
    },
    
    plugins: [
        ...defaultConfig.plugins.filter(
            plugin => !(plugin instanceof DependencyExtractionWebpackPlugin)
        ),
        
        // Custom configuration for DependencyExtractionWebpackPlugin
        new DependencyExtractionWebpackPlugin({
            injectPolyfill: true,
            combineAssets: true,
            combinedOutputFile: 'assets.php',
            requestToExternal: (request) => {
                // Custom external mapping
                if (request === 'my-custom-library') {
                    return ['myLibrary', 'my-library-handle'];
                }
            },
            requestToHandle: (request) => {
                // Custom handle mapping
                if (request === 'my-custom-library') {
                    return 'my-library-handle';
                }
            },
        }),
        
        // Copy static assets
        new CopyPlugin({
            patterns: [
                {
                    from: 'src/blocks/*/block.json',
                    to: 'blocks/[1]/block.json',
                    context: 'src/blocks',
                    transformPath(targetPath, absolutePath) {
                        const matches = absolutePath.match(/blocks[\\\/](.+?)[\\\/]block\.json$/);
                        if (matches) {
                            return `blocks/${matches[1]}/block.json`;
                        }
                        return targetPath;
                    },
                },
                {
                    from: 'assets/images',
                    to: 'images',
                },
            ],
        }),
        
        // Bundle analyzer (only in production with --analyze flag)
        process.env.ANALYZE && new BundleAnalyzerPlugin(),
    ].filter(Boolean),
    
    optimization: {
        ...defaultConfig.optimization,
        splitChunks: {
            cacheGroups: {
                // Vendor chunk for node_modules
                vendor: {
                    test: /[\\/]node_modules[\\/]/,
                    name: 'vendors',
                    priority: 10,
                    chunks: 'all',
                },
                // Common components chunk
                components: {
                    test: /[\\/]src[\\/]components[\\/]/,
                    name: 'components',
                    priority: 5,
                    chunks: 'all',
                    minChunks: 2,
                },
                // Styles
                styles: {
                    name: 'styles',
                    test: /\.(css|scss)$/,
                    chunks: 'all',
                    enforce: true,
                },
            },
        },
    },
    
    // Development server configuration
    devServer: {
        ...defaultConfig.devServer,
        devMiddleware: {
            writeToDisk: true,
        },
        allowedHosts: 'all',
        host: 'localhost',
        port: 8080,
        proxy: {
            '/wp-json': {
                target: 'http://localhost:8888',
                secure: false,
                changeOrigin: true,
            },
        },
    },
    
    // Performance hints
    performance: {
        hints: process.env.NODE_ENV === 'production' ? 'warning' : false,
        maxEntrypointSize: 400000,
        maxAssetSize: 400000,
    },
};
                        </code></pre>
                    </section>
                    
                    <!-- WordPress Environment Setup -->
                    <section>
                        <h2>WordPress Environment (@wordpress/env)</h2>
                        
                        <h3>.wp-env.json Configuration</h3>
                        <pre><code class="language-json">
{
  "core": "WordPress/WordPress#6.4",
  "phpVersion": "8.0",
  "plugins": [
    ".",
    "https://downloads.wordpress.org/plugin/gutenberg.latest-stable.zip",
    "https://downloads.wordpress.org/plugin/query-monitor.latest-stable.zip"
  ],
  "themes": [
    "https://downloads.wordpress.org/theme/twentytwentyfour.latest-stable.zip"
  ],
  "mappings": {
    "wp-content/mu-plugins": "./tests/mu-plugins",
    "wp-content/debug.log": "./debug.log"
  },
  "config": {
    "WP_DEBUG": true,
    "WP_DEBUG_LOG": true,
    "WP_DEBUG_DISPLAY": false,
    "SCRIPT_DEBUG": true,
    "WP_ENVIRONMENT_TYPE": "local",
    "WP_DEVELOPMENT_MODE": "plugin"
  },
  "env": {
    "development": {
      "port": 8888,
      "mysqlPort": 3306,
      "plugins": [
        ".",
        "https://downloads.wordpress.org/plugin/debug-bar.latest-stable.zip"
      ]
    },
    "tests": {
      "port": 8889,
      "mysqlPort": 3307,
      "plugins": [
        "."
      ],
      "config": {
        "WP_DEBUG": false,
        "WP_PHPUNIT__TESTS_CONFIG": "phpunit.xml.dist"
      }
    }
  },
  "lifecycleScripts": {
    "afterStart": "bash ./scripts/after-start.sh",
    "afterClean": "bash ./scripts/after-clean.sh",
    "afterDestroy": "bash ./scripts/after-destroy.sh"
  }
}
                        </code></pre>
                        
                        <h3>Environment Helper Scripts</h3>
                        <pre><code class="language-bash">
#!/bin/bash
# scripts/after-start.sh

echo "Setting up WordPress environment..."

# Install additional plugins
wp-env run cli wp plugin install advanced-custom-fields --activate

# Create test content
wp-env run cli wp post create --post_title="Test Post" --post_status=publish

# Create test users
wp-env run cli wp user create editor editor@example.com --role=editor --user_pass=password
wp-env run cli wp user create author author@example.com --role=author --user_pass=password

# Import test data
wp-env run cli wp import ./tests/data/test-content.xml --authors=create

# Set permalinks
wp-env run cli wp rewrite structure '/%postname%/'

# Activate theme
wp-env run cli wp theme activate twentytwentyfour

echo "WordPress environment ready!"
                        </code></pre>
                    </section>
                    
                    <!-- TypeScript Configuration -->
                    <section>
                        <h2>TypeScript Setup for Blocks</h2>
                        
                        <h3>tsconfig.json</h3>
                        <pre><code class="language-json">
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "ESNext",
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "jsx": "react",
    "jsxFactory": "createElement",
    "jsxFragmentFactory": "Fragment",
    "declaration": true,
    "declarationMap": true,
    "sourceMap": true,
    "outDir": "./build",
    "rootDir": "./src",
    "strict": true,
    "noImplicitAny": true,
    "strictNullChecks": true,
    "strictFunctionTypes": true,
    "strictBindCallApply": true,
    "strictPropertyInitialization": true,
    "noImplicitThis": true,
    "alwaysStrict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "allowSyntheticDefaultImports": true,
    "forceConsistentCasingInFileNames": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "moduleResolution": "node",
    "baseUrl": ".",
    "paths": {
      "@components/*": ["src/components/*"],
      "@blocks/*": ["src/blocks/*"],
      "@utils/*": ["src/utils/*"],
      "@hooks/*": ["src/hooks/*"],
      "@types/*": ["src/types/*"]
    },
    "types": [
      "wordpress__blocks",
      "wordpress__block-editor",
      "wordpress__components",
      "wordpress__element",
      "wordpress__data",
      "wordpress__i18n"
    ]
  },
  "include": [
    "src/**/*"
  ],
  "exclude": [
    "node_modules",
    "build",
    "dist"
  ]
}
                        </code></pre>
                        
                        <h3>TypeScript Block Example</h3>
                        <pre><code class="language-typescript">
// src/blocks/typed-block/index.tsx
import { registerBlockType } from '@wordpress/blocks';
import { useBlockProps, RichText, InspectorControls } from '@wordpress/block-editor';
import { PanelBody, TextControl, RangeControl } from '@wordpress/components';
import { __ } from '@wordpress/i18n';
import { FC } from '@wordpress/element';

// Type definitions
interface BlockAttributes {
    content: string;
    fontSize: number;
    textColor: string;
    alignment: 'left' | 'center' | 'right';
}

interface EditProps {
    attributes: BlockAttributes;
    setAttributes: (attributes: Partial<BlockAttributes>) => void;
    className?: string;
    clientId: string;
    isSelected: boolean;
}

interface SaveProps {
    attributes: BlockAttributes;
    className?: string;
}

// Edit component
const Edit: FC<EditProps> = ({ 
    attributes, 
    setAttributes, 
    isSelected 
}) => {
    const { content, fontSize, textColor, alignment } = attributes;
    
    const blockProps = useBlockProps({
        style: {
            fontSize: `${fontSize}px`,
            color: textColor,
            textAlign: alignment
        }
    });
    
    const updateAttribute = <K extends keyof BlockAttributes>(
        key: K,
        value: BlockAttributes[K]
    ) => {
        setAttributes({ [key]: value });
    };
    
    return (
        <>
            <InspectorControls>
                <PanelBody title={__('Typography', 'textdomain')}>
                    <RangeControl
                        label={__('Font Size', 'textdomain')}
                        value={fontSize}
                        onChange={(value) => updateAttribute('fontSize', value || 16)}
                        min={12}
                        max={48}
                    />
                    <TextControl
                        label={__('Text Color', 'textdomain')}
                        value={textColor}
                        onChange={(value) => updateAttribute('textColor', value)}
                    />
                </PanelBody>
            </InspectorControls>
            
            <div {...blockProps}>
                <RichText
                    tagName="p"
                    value={content}
                    onChange={(value) => updateAttribute('content', value)}
                    placeholder={__('Enter text...', 'textdomain')}
                />
            </div>
        </>
    );
};

// Save component
const Save: FC<SaveProps> = ({ attributes }) => {
    const { content, fontSize, textColor, alignment } = attributes;
    
    const blockProps = useBlockProps.save({
        style: {
            fontSize: `${fontSize}px`,
            color: textColor,
            textAlign: alignment
        }
    });
    
    return (
        <div {...blockProps}>
            <RichText.Content tagName="p" value={content} />
        </div>
    );
};

// Register block
registerBlockType<BlockAttributes>('myplugin/typed-block', {
    title: __('Typed Block', 'textdomain'),
    description: __('A TypeScript-powered block', 'textdomain'),
    category: 'widgets',
    icon: 'edit',
    attributes: {
        content: {
            type: 'string',
            source: 'html',
            selector: 'p',
            default: ''
        },
        fontSize: {
            type: 'number',
            default: 16
        },
        textColor: {
            type: 'string',
            default: '#000000'
        },
        alignment: {
            type: 'string',
            default: 'left'
        }
    },
    edit: Edit,
    save: Save
});
                        </code></pre>
                    </section>
                    
                    <!-- ESLint and Prettier -->
                    <section>
                        <h2>Code Quality Tools</h2>
                        
                        <h3>.eslintrc.js</h3>
                        <pre><code class="language-javascript">
module.exports = {
    extends: [
        'plugin:@wordpress/eslint-plugin/recommended',
        'plugin:react-hooks/recommended'
    ],
    env: {
        browser: true,
        es2021: true,
        node: true
    },
    parser: '@babel/eslint-parser',
    parserOptions: {
        ecmaFeatures: {
            jsx: true
        },
        ecmaVersion: 12,
        sourceType: 'module',
        requireConfigFile: false,
        babelOptions: {
            presets: ['@wordpress/babel-preset-default']
        }
    },
    globals: {
        wp: 'readonly',
        window: 'readonly',
        document: 'readonly'
    },
    rules: {
        // Custom rules
        'no-console': ['warn', { allow: ['warn', 'error'] }],
        'react/prop-types': 'off',
        'react/react-in-jsx-scope': 'off',
        '@wordpress/no-unsafe-wp-apis': 'warn',
        '@wordpress/i18n-text-domain': ['error', {
            'text-domain': 'myplugin'
        }],
        'jsdoc/require-param': 'off',
        'jsdoc/require-returns': 'off',
        'import/no-unresolved': ['error', {
            ignore: ['^@wordpress/']
        }],
        'import/order': ['error', {
            groups: [
                'builtin',
                'external',
                'internal',
                'parent',
                'sibling',
                'index'
            ],
            'newlines-between': 'always',
            alphabetize: {
                order: 'asc',
                caseInsensitive: true
            }
        }]
    },
    overrides: [
        {
            files: ['*.ts', '*.tsx'],
            parser: '@typescript-eslint/parser',
            extends: [
                'plugin:@typescript-eslint/recommended'
            ],
            rules: {
                '@typescript-eslint/explicit-function-return-type': 'off',
                '@typescript-eslint/explicit-module-boundary-types': 'off',
                '@typescript-eslint/no-explicit-any': 'warn'
            }
        }
    ],
    settings: {
        react: {
            version: 'detect'
        },
        'import/resolver': {
            node: {
                extensions: ['.js', '.jsx', '.ts', '.tsx']
            },
            webpack: {
                config: './webpack.config.js'
            }
        }
    }
};
                        </code></pre>
                        
                        <h3>.prettierrc</h3>
                        <pre><code class="language-json">
{
  "extends": "@wordpress/prettier-config",
  "useTabs": true,
  "tabWidth": 4,
  "singleQuote": true,
  "trailingComma": "es5",
  "bracketSpacing": true,
  "bracketSameLine": false,
  "arrowParens": "always",
  "printWidth": 100,
  "overrides": [
    {
      "files": "*.scss",
      "options": {
        "singleQuote": false
      }
    },
    {
      "files": ["*.json", "*.yml"],
      "options": {
        "useTabs": false,
        "tabWidth": 2
      }
    }
  ]
}
                        </code></pre>
                        
                        <h3>stylelint.config.js</h3>
                        <pre><code class="language-javascript">
module.exports = {
    extends: '@wordpress/stylelint-config',
    rules: {
        'selector-class-pattern': null,
        'rule-empty-line-before': null,
        'at-rule-empty-line-before': null,
        'no-duplicate-selectors': null,
        'font-weight-notation': null,
        'selector-id-pattern': null,
        'max-line-length': 120,
        'declaration-block-no-duplicate-properties': [
            true,
            {
                ignore: ['consecutive-duplicates-with-different-values']
            }
        ],
        'property-no-unknown': [
            true,
            {
                ignoreProperties: ['text-underline-offset']
            }
        ]
    },
    ignoreFiles: [
        'build/**',
        'vendor/**',
        'node_modules/**'
    ]
};
                        </code></pre>
                    </section>
                    
                    <!-- Development Workflow -->
                    <section>
                        <h2>Development Workflow Tools</h2>
                        
                        <h3>Hot Module Replacement Setup</h3>
                        <pre><code class="language-javascript">
// src/hmr.js - Hot Module Replacement for blocks
if (module.hot) {
    module.hot.accept('./blocks', () => {
        // Re-register blocks on hot update
        const { unregisterBlockType, getBlockTypes } = wp.blocks;
        const { dispatch } = wp.data;
        
        // Unregister all custom blocks
        getBlockTypes()
            .filter(block => block.name.startsWith('myplugin/'))
            .forEach(block => unregisterBlockType(block.name));
        
        // Re-import and register blocks
        require('./blocks');
        
        // Refresh editor
        dispatch('core/editor').refreshPost();
    });
    
    module.hot.accept('./styles/editor.scss', () => {
        // Hot reload styles
        const link = document.querySelector('link[href*="editor.css"]');
        if (link) {
            const newLink = link.cloneNode();
            newLink.href = link.href.split('?')[0] + '?t=' + Date.now();
            link.parentNode.replaceChild(newLink, link);
        }
    });
}

// Browser-sync configuration for live reload
const browserSync = require('browser-sync').create();

browserSync.init({
    proxy: 'http://localhost:8888',
    files: [
        'build/**/*.js',
        'build/**/*.css',
        '**/*.php'
    ],
    reloadDelay: 500,
    notify: false,
    open: false
});
                        </code></pre>
                        
                        <h3>VSCode Configuration</h3>
                        <pre><code class="language-json">
// .vscode/settings.json
{
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true,
    "source.fixAll.stylelint": true
  },
  "[javascript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[typescript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[scss]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "eslint.validate": [
    "javascript",
    "javascriptreact",
    "typescript",
    "typescriptreact"
  ],
  "css.validate": false,
  "scss.validate": false,
  "stylelint.validate": ["css", "scss"],
  "search.exclude": {
    "**/node_modules": true,
    "**/build": true,
    "**/vendor": true
  },
  "files.watcherExclude": {
    "**/.git/objects/**": true,
    "**/node_modules/**": true,
    "**/build/**": true
  }
}
                        </code></pre>
                        
                        <h3>Launch Configuration</h3>
                        <pre><code class="language-json">
// .vscode/launch.json
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Listen for XDebug",
      "type": "php",
      "request": "launch",
      "port": 9003,
      "pathMappings": {
        "/var/www/html/wp-content/plugins/my-block-plugin": "${workspaceFolder}"
      }
    },
    {
      "name": "Launch Chrome",
      "type": "chrome",
      "request": "launch",
      "url": "http://localhost:8888",
      "webRoot": "${workspaceFolder}"
    },
    {
      "name": "Debug Jest Tests",
      "type": "node",
      "request": "launch",
      "program": "${workspaceFolder}/node_modules/.bin/wp-scripts",
      "args": ["test-unit-js", "--watch"],
      "console": "integratedTerminal"
    }
  ]
}
                        </code></pre>
                    </section>
                    
                    <!-- Testing Setup -->
                    <section>
                        <h2>Testing Configuration</h2>
                        
                        <h3>Jest Configuration</h3>
                        <pre><code class="language-javascript">
// jest.config.js
module.exports = {
    ...require('@wordpress/scripts/config/jest-unit.config'),
    setupFilesAfterEnv: [
        '<rootDir>/tests/js/setup-tests.js'
    ],
    testMatch: [
        '**/tests/js/**/*.test.[jt]s?(x)',
        '**/?(*.)test.[jt]s?(x)'
    ],
    moduleNameMapper: {
        '^@components/(.*)$': '<rootDir>/src/components/$1',
        '^@blocks/(.*)$': '<rootDir>/src/blocks/$1',
        '^@utils/(.*)$': '<rootDir>/src/utils/$1',
        '\\.(css|less|scss|sass)$': '<rootDir>/tests/js/__mocks__/styleMock.js'
    },
    collectCoverageFrom: [
        'src/**/*.{js,jsx,ts,tsx}',
        '!src/**/*.test.{js,jsx,ts,tsx}',
        '!src/index.js'
    ],
    coverageThreshold: {
        global: {
            branches: 80,
            functions: 80,
            lines: 80,
            statements: 80
        }
    }
};
                        </code></pre>
                        
                        <h3>E2E Testing Setup</h3>
                        <pre><code class="language-javascript">
// tests/e2e/specs/block.test.js
import {
    createNewPost,
    insertBlock,
    publishPost,
    canvas
} from '@wordpress/e2e-test-utils';

describe('Custom Block', () => {
    beforeEach(async () => {
        await createNewPost();
    });
    
    it('should insert the block', async () => {
        await insertBlock('Custom Block');
        
        // Check if block is inserted
        const block = await canvas().$('[data-type="myplugin/custom-block"]');
        expect(block).toBeTruthy();
    });
    
    it('should save content correctly', async () => {
        await insertBlock('Custom Block');
        
        // Type content
        await page.keyboard.type('Test content');
        
        // Publish post
        await publishPost();
        
        // View post
        const viewPostLink = await page.$('.post-publish-panel__postpublish-buttons a');
        await viewPostLink.click();
        await page.waitForNavigation();
        
        // Check frontend content
        const content = await page.$eval('.wp-block-myplugin-custom-block', el => el.textContent);
        expect(content).toBe('Test content');
    });
});
                        </code></pre>
                    </section>
                    
                    <!-- Build Optimization -->
                    <section>
                        <h2>Build Optimization</h2>
                        
                        <h3>Production Build Script</h3>
                        <pre><code class="language-bash">
#!/bin/bash
# scripts/build-production.sh

echo "Building for production..."

# Clean build directory
rm -rf build/

# Run production build
NODE_ENV=production npm run build

# Optimize images
npx imagemin assets/images/* --out-dir=build/images

# Generate source maps separately
npm run build -- --devtool source-map

# Minify PHP files (optional)
find . -name "*.php" -not -path "./vendor/*" -not -path "./node_modules/*" \
    -exec php -w {} \; > /dev/null 2>&1

# Generate translation files
npm run make-pot

# Create plugin ZIP
npm run plugin-zip

echo "Production build complete!"
                        </code></pre>
                    </section>
                    
                    <!-- Summary -->
                    <section>
                        <h2>Summary</h2>
                        
                        <div class="summary-box">
                            <h3>Key Takeaways</h3>
                            <ul>
                                <li>@wordpress/scripts provides a complete build setup</li>
                                <li>Custom webpack configuration enables advanced features</li>
                                <li>@wordpress/env simplifies local development</li>
                                <li>TypeScript adds type safety to block development</li>
                                <li>Code quality tools ensure consistent code</li>
                                <li>Testing setup validates block functionality</li>
                            </ul>
                        </div>
                        
                        <div class="best-practices">
                            <h3>Development Best Practices</h3>
                            <ul>
                                <li>Use @wordpress/scripts as the foundation</li>
                                <li>Configure linting and formatting early</li>
                                <li>Set up hot module replacement for efficiency</li>
                                <li>Implement automated testing</li>
                                <li>Use TypeScript for complex blocks</li>
                                <li>Optimize builds for production</li>
                                <li>Document your development setup</li>
                            </ul>
                        </div>
                    </section>
                    
                    <!-- Additional Resources -->
                    <section class="resources">
                        <h2>Additional Resources</h2>
                        <ul>
                            <li><a href="https://developer.wordpress.org/block-editor/reference-guides/packages/packages-scripts/" target="_blank">@wordpress/scripts Documentation</a></li>
                            <li><a href="https://developer.wordpress.org/block-editor/reference-guides/packages/packages-env/" target="_blank">@wordpress/env Documentation</a></li>
                            <li><a href="https://webpack.js.org/configuration/" target="_blank">Webpack Configuration</a></li>
                            <li><a href="https://www.typescriptlang.org/docs/" target="_blank">TypeScript Documentation</a></li>
                        </ul>
                    </section>
                </div>
                
                <!-- Lesson Navigation -->
                <div class="lesson-navigation">
                    <a href="/07module/gutenberg_architecture.html" class="lesson-nav-button prev">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z"/>
                        </svg>
                        <span>
                            <small>Previous</small><br>
                            Gutenberg Architecture
                        </span>
                    </a>
                    
                    <button class="complete-lesson-btn">
                        Mark as Complete
                    </button>
                    
                    <a href="/07module/creating_custom_blocks.html" class="lesson-nav-button next">
                        <span>
                            <small>Next</small><br>
                            Creating Custom Blocks
                        </span>
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"/>
                        </svg>
                    </a>
                </div>
            </div>
        </main>
        
        <!-- Footer -->
        <footer class="site-footer" role="contentinfo">
            <div class="footer-container">
                <div class="footer-content">
                    <div class="footer-section footer-about">
                        <h3>PHP WordPress Development</h3>
                        <p>Complete Web Development Course - From HTML to WordPress</p>
                    </div>
                    
                    <div class="footer-section">
                        <h4>Quick Links</h4>
                        <ul class="footer-links">
                            <li><a href="/">Home</a></li>
                            <li><a href="/module7.html">Module 7</a></li>
                            <li><a href="/resources.html">Resources</a></li>
                            <li><a href="/about.html">About</a></li>
                        </ul>
                    </div>
                </div>
                
                <div class="footer-bottom">
                    <p>&copy; 2025 PHP WordPress Development Course. All rights reserved.</p>
                </div>
            </div>
        </footer>
    </div>
    
    <!-- JavaScript -->
    <script src="/assets/js/prism.js"></script>
    <script src="/assets/js/main.js"></script>
    <script src="/assets/js/lesson.js"></script>
</body>
</html>