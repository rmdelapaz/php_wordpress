<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <!-- SEO Meta Tags -->
    <title>Homework: Complex Content Architecture - PHP WordPress Course</title>
    <meta name="description" content="Build a complex content architecture with multiple CPTs, taxonomies, and relationships. Practice advanced WordPress development techniques.">
    <meta name="keywords" content="WordPress homework, content architecture, CPT project, WordPress development">
    <meta name="author" content="PHP WordPress Course">
    
    <!-- Open Graph Tags -->
    <meta property="og:title" content="Homework: Complex Content Architecture">
    <meta property="og:description" content="Build a complete content architecture system">
    <meta property="og:type" content="article">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="apple-touch-icon" href="/favicon.png">
    
    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    
    <!-- Prism.js for syntax highlighting -->
    <link href="/assets/css/prism.css" rel="stylesheet">
</head>
<body>
    <!-- Skip to main content -->
    <a href="#main-content" class="sr-only">Skip to main content</a>
    
    <div class="page-wrapper">
        <!-- Header -->
        <header class="site-header" role="banner">
            <div class="header-container">
                <div class="site-branding">
                    <a href="/" class="site-logo">
                        <h1 class="site-title">PHP WordPress Development</h1>
                    </a>
                </div>
                
                <nav class="main-navigation" role="navigation" aria-label="Main navigation">
                    <button class="mobile-menu-btn" aria-label="Toggle navigation" aria-expanded="false">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    
                    <div class="nav-menu">
                        <ul class="nav-list">
                            <li class="nav-item"><a href="/" class="nav-link">Home</a></li>
                            <li class="nav-item dropdown">
                                <button class="nav-link dropdown-toggle active" aria-haspopup="true">Modules</button>
                                <div class="dropdown-menu">
                                    <a href="/module1.html" class="dropdown-item">Module 1: Web Fundamentals</a>
                                    <a href="/module2.html" class="dropdown-item">Module 2: PHP Fundamentals</a>
                                    <a href="/module3.html" class="dropdown-item">Module 3: MySQL Database</a>
                                    <a href="/module4.html" class="dropdown-item">Module 4: WordPress & Docker</a>
                                    <a href="/module5.html" class="dropdown-item">Module 5: Theme Development</a>
                                    <a href="/module6.html" class="dropdown-item">Module 6: Plugin Development</a>
                                    <a href="/module7.html" class="dropdown-item active">Module 7: Advanced WordPress</a>
                                    <a href="/module8.html" class="dropdown-item">Module 8: Deployment</a>
                                    <a href="/module9.html" class="dropdown-item">Module 9: Final Project</a>
                                </div>
                            </li>
                            <li class="nav-item"><a href="/resources.html" class="nav-link">Resources</a></li>
                            <li class="nav-item"><a href="/about.html" class="nav-link">About</a></li>
                        </ul>
                    </div>
                </nav>
                
                <div class="search-container">
                    <div class="search-input-wrapper">
                        <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
                        </svg>
                        <input type="search" class="search-input" placeholder="Search lessons..." aria-label="Search">
                    </div>
                    <div class="search-results"></div>
                </div>
            </div>
        </header>
        
        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-header">
                <h2 class="progress-title">Course Progress</h2>
                <span class="progress-text">Loading...</span>
            </div>
            <div class="progress-bar">
                <div class="progress-bar-fill">
                    <span class="progress-bar-text"></span>
                </div>
            </div>
        </div>
        
        <!-- Breadcrumb -->
        <nav class="breadcrumb container" aria-label="Breadcrumb">
            <ol class="breadcrumb-list">
                <li class="breadcrumb-item">
                    <a href="/">Home</a>
                    <span class="breadcrumb-separator">/</span>
                </li>
                <li class="breadcrumb-item">
                    <a href="/module7.html">Module 7</a>
                    <span class="breadcrumb-separator">/</span>
                </li>
                <li class="breadcrumb-item">
                    <span aria-current="page">Homework</span>
                </li>
            </ol>
        </nav>
        
        <!-- Main Content -->
        <main id="main-content" class="main-content" role="main">
            <div class="container">
                <!-- Homework Header -->
                <div class="homework-header">
                    <h1 class="homework-title">Homework: Build a Complex Content Architecture</h1>
                    <p class="homework-subtitle">Create a real estate listing system with advanced features</p>
                    <div class="homework-meta">
                        <span class="difficulty">Difficulty: Advanced</span>
                        <span class="time">Estimated Time: 6-8 hours</span>
                    </div>
                </div>
                
                <!-- Project Overview -->
                <section class="homework-section">
                    <h2>Project Overview</h2>
                    <p>You will build a comprehensive real estate listing system that demonstrates advanced WordPress content architecture concepts. This system will include multiple custom post types, complex taxonomies, relationships between content types, and a sophisticated admin interface.</p>
                    
                    <div class="project-goals">
                        <h3>Learning Goals</h3>
                        <ul>
                            <li>Implement multiple interconnected CPTs</li>
                            <li>Create hierarchical and flat taxonomies</li>
                            <li>Build complex content relationships</li>
                            <li>Develop custom admin interfaces</li>
                            <li>Implement REST API endpoints</li>
                            <li>Create advanced search functionality</li>
                        </ul>
                    </div>
                </section>
                
                <!-- Requirements -->
                <section class="homework-section">
                    <h2>Project Requirements</h2>
                    
                    <h3>1. Custom Post Types</h3>
                    <div class="requirement-details">
                        <p>Create the following custom post types:</p>
                        
                        <h4>Property CPT</h4>
                        <ul>
                            <li>Title, description, featured image</li>
                            <li>Custom fields:
                                <ul>
                                    <li>Price (number)</li>
                                    <li>Bedrooms (number)</li>
                                    <li>Bathrooms (number)</li>
                                    <li>Square footage (number)</li>
                                    <li>Year built (number)</li>
                                    <li>Property status (for sale/rent/sold)</li>
                                    <li>Address fields (street, city, state, zip)</li>
                                    <li>Gallery images</li>
                                    <li>Virtual tour URL</li>
                                </ul>
                            </li>
                            <li>REST API support</li>
                            <li>Custom capabilities</li>
                        </ul>
                        
                        <h4>Agent CPT</h4>
                        <ul>
                            <li>Agent name, bio, photo</li>
                            <li>Custom fields:
                                <ul>
                                    <li>Phone number</li>
                                    <li>Email</li>
                                    <li>License number</li>
                                    <li>Years of experience</li>
                                    <li>Specializations</li>
                                    <li>Social media links</li>
                                </ul>
                            </li>
                            <li>Relationship to properties</li>
                        </ul>
                        
                        <h4>Agency CPT</h4>
                        <ul>
                            <li>Agency name, description, logo</li>
                            <li>Custom fields:
                                <ul>
                                    <li>Address</li>
                                    <li>Phone</li>
                                    <li>Website</li>
                                    <li>Founded year</li>
                                </ul>
                            </li>
                            <li>Relationship to agents</li>
                        </ul>
                        
                        <h4>Testimonial CPT</h4>
                        <ul>
                            <li>Client name, testimonial text</li>
                            <li>Rating (1-5 stars)</li>
                            <li>Related property</li>
                            <li>Related agent</li>
                        </ul>
                    </div>
                    
                    <h3>2. Taxonomies</h3>
                    <div class="requirement-details">
                        <h4>Hierarchical Taxonomies</h4>
                        <ul>
                            <li><strong>Property Type:</strong> House → Single Family, Townhouse, Condo; Commercial → Office, Retail, Industrial</li>
                            <li><strong>Location:</strong> State → City → Neighborhood</li>
                        </ul>
                        
                        <h4>Flat Taxonomies</h4>
                        <ul>
                            <li><strong>Property Features:</strong> Pool, Garage, Garden, Fireplace, etc.</li>
                            <li><strong>Property Amenities:</strong> Gym, Security, Parking, etc.</li>
                        </ul>
                    </div>
                    
                    <h3>3. Content Relationships</h3>
                    <div class="requirement-details">
                        <ul>
                            <li>Properties → Agents (many-to-one)</li>
                            <li>Agents → Agency (many-to-one)</li>
                            <li>Properties → Testimonials (one-to-many)</li>
                            <li>Properties → Similar Properties (many-to-many)</li>
                        </ul>
                    </div>
                    
                    <h3>4. Admin Interface Enhancements</h3>
                    <div class="requirement-details">
                        <ul>
                            <li>Custom admin columns for all CPTs</li>
                            <li>Sortable and filterable columns</li>
                            <li>Quick edit functionality</li>
                            <li>Bulk actions (mark as featured, change status)</li>
                            <li>Custom admin dashboard widget showing statistics</li>
                        </ul>
                    </div>
                    
                    <h3>5. REST API Endpoints</h3>
                    <div class="requirement-details">
                        <ul>
                            <li>GET /wp-json/realestate/v1/properties (with filters)</li>
                            <li>GET /wp-json/realestate/v1/properties/{id}/similar</li>
                            <li>GET /wp-json/realestate/v1/agents/{id}/properties</li>
                            <li>POST /wp-json/realestate/v1/inquiries</li>
                            <li>GET /wp-json/realestate/v1/search (advanced search)</li>
                        </ul>
                    </div>
                </section>
                
                <!-- Starter Code -->
                <section class="homework-section">
                    <h2>Starter Code</h2>
                    
                    <h3>Plugin Structure</h3>
                    <pre><code class="language-bash">
real-estate-system/
├── real-estate-system.php          # Main plugin file
├── includes/
│   ├── class-post-types.php        # CPT registrations
│   ├── class-taxonomies.php        # Taxonomy registrations
│   ├── class-relationships.php     # Relationship management
│   ├── class-admin-columns.php     # Admin customizations
│   ├── class-rest-api.php          # REST API endpoints
│   └── class-search.php            # Advanced search
├── admin/
│   ├── css/
│   │   └── admin-styles.css
│   └── js/
│       └── admin-scripts.js
├── templates/
│   ├── single-property.php
│   ├── archive-property.php
│   └── property-search.php
└── assets/
    ├── css/
    └── js/
                    </code></pre>
                    
                    <h3>Main Plugin File</h3>
                    <pre><code class="language-php">
&lt;?php
/**
 * Plugin Name: Real Estate System
 * Description: Advanced content architecture for real estate listings
 * Version: 1.0.0
 * Author: Your Name
 */

// Prevent direct access
if (!defined('ABSPATH')) {
    exit;
}

// Define plugin constants
define('RES_VERSION', '1.0.0');
define('RES_PLUGIN_DIR', plugin_dir_path(__FILE__));
define('RES_PLUGIN_URL', plugin_dir_url(__FILE__));

// Autoloader
spl_autoload_register(function ($class) {
    $prefix = 'RES_';
    if (strpos($class, $prefix) !== 0) {
        return;
    }
    
    $class = str_replace($prefix, '', $class);
    $class = strtolower(str_replace('_', '-', $class));
    
    $file = RES_PLUGIN_DIR . 'includes/class-' . $class . '.php';
    
    if (file_exists($file)) {
        require_once $file;
    }
});

// Initialize plugin
class Real_Estate_System {
    
    private static $instance = null;
    
    public static function get_instance() {
        if (null === self::$instance) {
            self::$instance = new self();
        }
        return self::$instance;
    }
    
    private function __construct() {
        $this->init_hooks();
    }
    
    private function init_hooks() {
        add_action('init', [$this, 'init']);
        add_action('wp_enqueue_scripts', [$this, 'enqueue_scripts']);
        add_action('admin_enqueue_scripts', [$this, 'admin_scripts']);
        
        // Activation/Deactivation hooks
        register_activation_hook(__FILE__, [$this, 'activate']);
        register_deactivation_hook(__FILE__, [$this, 'deactivate']);
    }
    
    public function init() {
        // Initialize components
        new RES_Post_Types();
        new RES_Taxonomies();
        new RES_Relationships();
        new RES_Admin_Columns();
        new RES_Rest_API();
        new RES_Search();
    }
    
    public function enqueue_scripts() {
        wp_enqueue_style(
            'res-styles',
            RES_PLUGIN_URL . 'assets/css/styles.css',
            [],
            RES_VERSION
        );
        
        wp_enqueue_script(
            'res-scripts',
            RES_PLUGIN_URL . 'assets/js/scripts.js',
            ['jquery'],
            RES_VERSION,
            true
        );
    }
    
    public function admin_scripts($hook) {
        wp_enqueue_style(
            'res-admin-styles',
            RES_PLUGIN_URL . 'admin/css/admin-styles.css',
            [],
            RES_VERSION
        );
        
        wp_enqueue_script(
            'res-admin-scripts',
            RES_PLUGIN_URL . 'admin/js/admin-scripts.js',
            ['jquery'],
            RES_VERSION,
            true
        );
    }
    
    public function activate() {
        // Create database tables
        $this->create_tables();
        
        // Flush rewrite rules
        flush_rewrite_rules();
    }
    
    public function deactivate() {
        flush_rewrite_rules();
    }
    
    private function create_tables() {
        global $wpdb;
        
        $charset_collate = $wpdb->get_charset_collate();
        
        // Property relationships table
        $table_name = $wpdb->prefix . 'property_relationships';
        
        $sql = "CREATE TABLE IF NOT EXISTS $table_name (
            id bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT,
            property_id bigint(20) UNSIGNED NOT NULL,
            related_id bigint(20) UNSIGNED NOT NULL,
            relationship_type varchar(50) NOT NULL,
            created_at datetime DEFAULT CURRENT_TIMESTAMP,
            PRIMARY KEY (id),
            KEY property_idx (property_id),
            KEY related_idx (related_id),
            KEY type_idx (relationship_type)
        ) $charset_collate;";
        
        require_once(ABSPATH . 'wp-admin/includes/upgrade.php');
        dbDelta($sql);
    }
}

// Initialize plugin
Real_Estate_System::get_instance();
                    </code></pre>
                </section>
                
                <!-- Implementation Tasks -->
                <section class="homework-section">
                    <h2>Implementation Tasks</h2>
                    
                    <div class="task-list">
                        <h3>Task 1: Register Custom Post Types</h3>
                        <div class="task-details">
                            <p>Create the <code>class-post-types.php</code> file and register all four CPTs with:</p>
                            <ul>
                                <li>Proper labels and capabilities</li>
                                <li>REST API support</li>
                                <li>Custom rewrite rules</li>
                                <li>Appropriate supports array</li>
                            </ul>
                        </div>
                        
                        <h3>Task 2: Create Taxonomies</h3>
                        <div class="task-details">
                            <p>Implement hierarchical and flat taxonomies with:</p>
                            <ul>
                                <li>Proper hierarchy for location taxonomy</li>
                                <li>Custom meta fields for taxonomies</li>
                                <li>Admin column display</li>
                            </ul>
                        </div>
                        
                        <h3>Task 3: Build Relationships</h3>
                        <div class="task-details">
                            <p>Create relationship management system:</p>
                            <ul>
                                <li>Meta boxes for selecting related content</li>
                                <li>Functions to save and retrieve relationships</li>
                                <li>Display related content on frontend</li>
                            </ul>
                        </div>
                        
                        <h3>Task 4: Customize Admin Interface</h3>
                        <div class="task-details">
                            <p>Enhance the admin experience with:</p>
                            <ul>
                                <li>Custom columns showing price, status, agent</li>
                                <li>Sortable columns</li>
                                <li>Filter dropdowns</li>
                                <li>Quick edit fields</li>
                                <li>Bulk actions</li>
                            </ul>
                        </div>
                        
                        <h3>Task 5: Implement REST API</h3>
                        <div class="task-details">
                            <p>Create custom REST endpoints:</p>
                            <ul>
                                <li>Property search with filters</li>
                                <li>Similar properties endpoint</li>
                                <li>Agent properties endpoint</li>
                                <li>Authentication for protected endpoints</li>
                            </ul>
                        </div>
                        
                        <h3>Task 6: Advanced Search</h3>
                        <div class="task-details">
                            <p>Build comprehensive search functionality:</p>
                            <ul>
                                <li>Price range filtering</li>
                                <li>Bedroom/bathroom filters</li>
                                <li>Location-based search</li>
                                <li>Feature/amenity filters</li>
                                <li>Sort options</li>
                            </ul>
                        </div>
                    </div>
                </section>
                
                <!-- Bonus Challenges -->
                <section class="homework-section">
                    <h2>Bonus Challenges</h2>
                    
                    <div class="bonus-list">
                        <h3>1. Map Integration</h3>
                        <p>Integrate Google Maps or OpenStreetMap to show property locations with clustering for multiple properties.</p>
                        
                        <h3>2. Import/Export</h3>
                        <p>Create functionality to import properties from CSV/XML and export current listings.</p>
                        
                        <h3>3. Frontend Submission</h3>
                        <p>Build a frontend form for agents to submit new properties with image upload.</p>
                        
                        <h3>4. Email Notifications</h3>
                        <p>Send email notifications when new properties matching saved searches are added.</p>
                        
                        <h3>5. Analytics Dashboard</h3>
                        <p>Create a custom admin dashboard showing property views, inquiries, and other metrics.</p>
                    </div>
                </section>
                
                <!-- Testing Checklist -->
                <section class="homework-section">
                    <h2>Testing Checklist</h2>
                    
                    <div class="checklist">
                        <h3>Functionality Tests</h3>
                        <ul class="checklist-items">
                            <li>✓ All CPTs register correctly</li>
                            <li>✓ Taxonomies display proper hierarchy</li>
                            <li>✓ Relationships save and retrieve properly</li>
                            <li>✓ Admin columns display correct data</li>
                            <li>✓ Sorting and filtering work</li>
                            <li>✓ REST API endpoints return correct data</li>
                            <li>✓ Search filters work correctly</li>
                            <li>✓ Pagination functions properly</li>
                        </ul>
                        
                        <h3>Performance Tests</h3>
                        <ul class="checklist-items">
                            <li>✓ Queries are optimized</li>
                            <li>✓ Caching is implemented</li>
                            <li>✓ No N+1 query problems</li>
                            <li>✓ Admin loads quickly with many items</li>
                        </ul>
                        
                        <h3>Security Tests</h3>
                        <ul class="checklist-items">
                            <li>✓ All inputs are sanitized</li>
                            <li>✓ Capabilities are checked</li>
                            <li>✓ Nonces are used for forms</li>
                            <li>✓ SQL queries are prepared</li>
                        </ul>
                    </div>
                </section>
                
                <!-- Submission Guidelines -->
                <section class="homework-section">
                    <h2>Submission Guidelines</h2>
                    
                    <div class="submission-info">
                        <h3>What to Submit</h3>
                        <ul>
                            <li>Complete plugin folder as a ZIP file</li>
                            <li>README.md with installation instructions</li>
                            <li>Documentation of your architecture decisions</li>
                            <li>Screenshots of admin interface</li>
                            <li>Sample data export (optional)</li>
                        </ul>
                        
                        <h3>Code Quality Requirements</h3>
                        <ul>
                            <li>Follow WordPress Coding Standards</li>
                            <li>Include proper documentation comments</li>
                            <li>Use meaningful variable and function names</li>
                            <li>Implement error handling</li>
                            <li>Include security measures</li>
                        </ul>
                        
                        <h3>Documentation Should Include</h3>
                        <ul>
                            <li>Architecture overview diagram</li>
                            <li>Database schema</li>
                            <li>API endpoint documentation</li>
                            <li>Usage examples</li>
                            <li>Known limitations</li>
                        </ul>
                    </div>
                </section>
                
                <!-- Resources -->
                <section class="homework-section">
                    <h2>Helpful Resources</h2>
                    
                    <div class="resources-list">
                        <ul>
                            <li><a href="https://developer.wordpress.org/plugins/post-types/registering-custom-post-types/" target="_blank">Registering Custom Post Types</a></li>
                            <li><a href="https://developer.wordpress.org/plugins/taxonomies/working-with-custom-taxonomies/" target="_blank">Working with Custom Taxonomies</a></li>
                            <li><a href="https://developer.wordpress.org/rest-api/extending-the-rest-api/" target="_blank">Extending the REST API</a></li>
                            <li><a href="https://developer.wordpress.org/reference/classes/wp_query/" target="_blank">WP_Query Documentation</a></li>
                            <li><a href="https://codex.wordpress.org/Creating_Tables_with_Plugins" target="_blank">Creating Database Tables</a></li>
                        </ul>
                    </div>
                </section>
                
                <!-- Tips -->
                <section class="homework-section">
                    <h2>Pro Tips</h2>
                    
                    <div class="tips-box">
                        <ul>
                            <li><strong>Start with the data model:</strong> Plan your content types and relationships before coding</li>
                            <li><strong>Use version control:</strong> Commit your changes frequently</li>
                            <li><strong>Test incrementally:</strong> Test each component as you build it</li>
                            <li><strong>Use WordPress hooks:</strong> Leverage existing hooks instead of modifying core</li>
                            <li><strong>Cache expensive queries:</strong> Use transients for complex queries</li>
                            <li><strong>Document as you go:</strong> Write comments while the code is fresh</li>
                        </ul>
                    </div>
                </section>
                
                <!-- Completion -->
                <div class="homework-completion">
                    <h2>Ready to Submit?</h2>
                    <p>Once you've completed all requirements and tested your plugin thoroughly, you're ready to submit your work. This project demonstrates mastery of advanced WordPress content architecture concepts.</p>
                    
                    <div class="completion-checklist">
                        <h3>Final Checklist</h3>
                        <ul>
                            <li>□ All CPTs and taxonomies are working</li>
                            <li>□ Relationships are properly implemented</li>
                            <li>□ Admin interface is enhanced</li>
                            <li>□ REST API endpoints are functional</li>
                            <li>□ Search functionality is complete</li>
                            <li>□ Code is documented and follows standards</li>
                            <li>□ Plugin has been tested thoroughly</li>
                        </ul>
                    </div>
                </div>
            </div>
        </main>
        
        <!-- Footer -->
        <footer class="site-footer" role="contentinfo">
            <div class="footer-container">
                <div class="footer-content">
                    <div class="footer-section footer-about">
                        <h3>PHP WordPress Development</h3>
                        <p>Complete Web Development Course - From HTML to WordPress</p>
                    </div>
                    
                    <div class="footer-section">
                        <h4>Quick Links</h4>
                        <ul class="footer-links">
                            <li><a href="/">Home</a></li>
                            <li><a href="/module7.html">Module 7</a></li>
                            <li><a href="/resources.html">Resources</a></li>
                            <li><a href="/about.html">About</a></li>
                        </ul>
                    </div>
                </div>
                
                <div class="footer-bottom">
                    <p>&copy; 2025 PHP WordPress Development Course. All rights reserved.</p>
                </div>
            </div>
        </footer>
    </div>
    
    <!-- JavaScript -->
    <script src="/assets/js/prism.js"></script>
    <script src="/assets/js/main.js"></script>
    <script src="/assets/js/lesson.js"></script>
</body>
</html>