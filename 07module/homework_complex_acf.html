<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <!-- SEO Meta Tags -->
    <title>Homework: Complex Content Structures with ACF - PHP WordPress Course</title>
    <meta name="description" content="Build a comprehensive real estate website using Advanced Custom Fields. Create complex content structures with ACF field groups, relationships, and conditional logic.">
    <meta name="keywords" content="WordPress, ACF, homework, project, real estate, complex fields">
    <meta name="author" content="PHP WordPress Course">
    
    <!-- Open Graph Tags -->
    <meta property="og:title" content="Homework: Complex ACF Project">
    <meta property="og:description" content="Build a real estate website with complex ACF structures">
    <meta property="og:type" content="article">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="apple-touch-icon" href="/favicon.png">
    
    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    
    <!-- Prism.js for syntax highlighting -->
    <link href="/assets/css/prism.css" rel="stylesheet">
</head>
<body>
    <!-- Skip to main content -->
    <a href="#main-content" class="sr-only">Skip to main content</a>
    
    <div class="page-wrapper">
        <!-- Header -->
        <header class="site-header" role="banner">
            <div class="header-container">
                <div class="site-branding">
                    <a href="/" class="site-logo">
                        <h1 class="site-title">PHP WordPress Development</h1>
                    </a>
                </div>
                
                <nav class="main-navigation" role="navigation" aria-label="Main navigation">
                    <button class="mobile-menu-btn" aria-label="Toggle navigation" aria-expanded="false">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    
                    <div class="nav-menu">
                        <ul class="nav-list">
                            <li class="nav-item"><a href="/" class="nav-link">Home</a></li>
                            <li class="nav-item dropdown">
                                <button class="nav-link dropdown-toggle active" aria-haspopup="true">Modules</button>
                                <div class="dropdown-menu">
                                    <a href="/module1.html" class="dropdown-item">Module 1: Web Fundamentals</a>
                                    <a href="/module2.html" class="dropdown-item">Module 2: PHP Fundamentals</a>
                                    <a href="/module3.html" class="dropdown-item">Module 3: MySQL Database</a>
                                    <a href="/module4.html" class="dropdown-item">Module 4: WordPress & Docker</a>
                                    <a href="/module5.html" class="dropdown-item">Module 5: Theme Development</a>
                                    <a href="/module6.html" class="dropdown-item">Module 6: Plugin Development</a>
                                    <a href="/module7.html" class="dropdown-item active">Module 7: Advanced WordPress</a>
                                    <a href="/module8.html" class="dropdown-item">Module 8: Deployment</a>
                                    <a href="/module9.html" class="dropdown-item">Module 9: Final Project</a>
                                </div>
                            </li>
                            <li class="nav-item"><a href="/resources.html" class="nav-link">Resources</a></li>
                            <li class="nav-item"><a href="/about.html" class="nav-link">About</a></li>
                        </ul>
                    </div>
                </nav>
                
                <div class="search-container">
                    <div class="search-input-wrapper">
                        <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
                        </svg>
                        <input type="search" class="search-input" placeholder="Search lessons..." aria-label="Search">
                    </div>
                    <div class="search-results"></div>
                </div>
            </div>
        </header>
        
        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-header">
                <h2 class="progress-title">Course Progress</h2>
                <span class="progress-text">Loading...</span>
            </div>
            <div class="progress-bar">
                <div class="progress-bar-fill">
                    <span class="progress-bar-text"></span>
                </div>
            </div>
        </div>
        
        <!-- Breadcrumb -->
        <nav class="breadcrumb container" aria-label="Breadcrumb">
            <ol class="breadcrumb-list">
                <li class="breadcrumb-item">
                    <a href="/">Home</a>
                    <span class="breadcrumb-separator">/</span>
                </li>
                <li class="breadcrumb-item">
                    <a href="/module7.html">Module 7</a>
                    <span class="breadcrumb-separator">/</span>
                </li>
                <li class="breadcrumb-item">
                    <span aria-current="page">Homework: Complex ACF</span>
                </li>
            </ol>
        </nav>
        
        <!-- Main Content -->
        <main id="main-content" class="main-content" role="main">
            <div class="container">
                <!-- Homework Header -->
                <div class="lesson-header">
                    <h1 class="lesson-title">Homework: Create Complex Content Structures with ACF</h1>
                    <p class="lesson-subtitle">Build a Real Estate Website with Advanced Custom Fields</p>
                </div>
                
                <!-- Project Overview -->
                <div class="homework-overview">
                    <h2>Project Overview</h2>
                    <p>In this homework assignment, you'll create a comprehensive real estate website using Advanced Custom Fields. This project will test your ability to create complex field structures, implement conditional logic, and build relationships between different content types.</p>
                    
                    <div class="project-requirements">
                        <h3>Project Requirements</h3>
                        <ul>
                            <li>Create custom post types for Properties and Agents</li>
                            <li>Build complex ACF field groups with various field types</li>
                            <li>Implement conditional logic for dynamic forms</li>
                            <li>Create relationships between properties and agents</li>
                            <li>Build a property search/filter system</li>
                            <li>Display property galleries and virtual tours</li>
                            <li>Create property comparison functionality</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Part 1: Setup -->
                <section class="homework-section">
                    <h2>Part 1: Project Setup</h2>
                    
                    <h3>1.1 Create Custom Post Types</h3>
                    <pre><code class="language-php">
// functions.php or custom plugin
function register_real_estate_post_types() {
    
    // Properties Post Type
    register_post_type('property', [
        'labels' => [
            'name' => 'Properties',
            'singular_name' => 'Property',
            'add_new' => 'Add New Property',
            'add_new_item' => 'Add New Property',
            'edit_item' => 'Edit Property',
            'new_item' => 'New Property',
            'view_item' => 'View Property',
            'search_items' => 'Search Properties',
            'not_found' => 'No properties found',
            'not_found_in_trash' => 'No properties in trash'
        ],
        'public' => true,
        'has_archive' => true,
        'rewrite' => ['slug' => 'properties'],
        'supports' => ['title', 'editor', 'thumbnail', 'excerpt'],
        'menu_icon' => 'dashicons-building',
        'show_in_rest' => true
    ]);
    
    // Agents Post Type
    register_post_type('agent', [
        'labels' => [
            'name' => 'Agents',
            'singular_name' => 'Agent',
            'add_new' => 'Add New Agent',
            'add_new_item' => 'Add New Agent',
            'edit_item' => 'Edit Agent',
            'new_item' => 'New Agent',
            'view_item' => 'View Agent',
            'search_items' => 'Search Agents',
            'not_found' => 'No agents found',
            'not_found_in_trash' => 'No agents in trash'
        ],
        'public' => true,
        'has_archive' => true,
        'rewrite' => ['slug' => 'agents'],
        'supports' => ['title', 'editor', 'thumbnail'],
        'menu_icon' => 'dashicons-businessperson',
        'show_in_rest' => true
    ]);
}
add_action('init', 'register_real_estate_post_types');
                    </code></pre>
                </section>
                
                <!-- Part 2: Property Fields -->
                <section class="homework-section">
                    <h2>Part 2: Property Field Groups</h2>
                    
                    <h3>2.1 Create Property Details Field Group</h3>
                    <pre><code class="language-php">
// ACF Field Group: Property Details
if (function_exists('acf_add_local_field_group')) {
    acf_add_local_field_group([
        'key' => 'group_property_details',
        'title' => 'Property Details',
        'fields' => [
            // Pricing Tab
            [
                'key' => 'field_tab_pricing',
                'label' => 'Pricing',
                'name' => '',
                'type' => 'tab',
                'placement' => 'top',
            ],
            [
                'key' => 'field_listing_type',
                'label' => 'Listing Type',
                'name' => 'listing_type',
                'type' => 'radio',
                'choices' => [
                    'sale' => 'For Sale',
                    'rent' => 'For Rent',
                    'both' => 'Sale or Rent'
                ],
                'default_value' => 'sale',
                'layout' => 'horizontal',
            ],
            [
                'key' => 'field_sale_price',
                'label' => 'Sale Price',
                'name' => 'sale_price',
                'type' => 'number',
                'prepend' => '$',
                'min' => 0,
                'conditional_logic' => [
                    [
                        [
                            'field' => 'field_listing_type',
                            'operator' => '!=',
                            'value' => 'rent'
                        ]
                    ]
                ]
            ],
            [
                'key' => 'field_rental_price',
                'label' => 'Rental Price',
                'name' => 'rental_price',
                'type' => 'number',
                'prepend' => '$',
                'append' => '/month',
                'min' => 0,
                'conditional_logic' => [
                    [
                        [
                            'field' => 'field_listing_type',
                            'operator' => '!=',
                            'value' => 'sale'
                        ]
                    ]
                ]
            ],
            
            // Property Details Tab
            [
                'key' => 'field_tab_details',
                'label' => 'Property Details',
                'name' => '',
                'type' => 'tab',
            ],
            [
                'key' => 'field_property_id',
                'label' => 'Property ID',
                'name' => 'property_id',
                'type' => 'text',
                'instructions' => 'Unique property identifier',
                'required' => 1,
            ],
            [
                'key' => 'field_bedrooms',
                'label' => 'Bedrooms',
                'name' => 'bedrooms',
                'type' => 'number',
                'min' => 0,
                'max' => 20,
                'wrapper' => ['width' => '25']
            ],
            [
                'key' => 'field_bathrooms',
                'label' => 'Bathrooms',
                'name' => 'bathrooms',
                'type' => 'number',
                'min' => 0,
                'max' => 20,
                'step' => 0.5,
                'wrapper' => ['width' => '25']
            ],
            [
                'key' => 'field_garage',
                'label' => 'Garage Spaces',
                'name' => 'garage',
                'type' => 'number',
                'min' => 0,
                'max' => 10,
                'wrapper' => ['width' => '25']
            ],
            [
                'key' => 'field_year_built',
                'label' => 'Year Built',
                'name' => 'year_built',
                'type' => 'number',
                'min' => 1800,
                'max' => date('Y'),
                'wrapper' => ['width' => '25']
            ],
            [
                'key' => 'field_property_size',
                'label' => 'Property Size',
                'name' => 'property_size',
                'type' => 'number',
                'append' => 'sq ft',
                'wrapper' => ['width' => '50']
            ],
            [
                'key' => 'field_lot_size',
                'label' => 'Lot Size',
                'name' => 'lot_size',
                'type' => 'number',
                'append' => 'sq ft',
                'wrapper' => ['width' => '50']
            ],
            
            // Location Tab
            [
                'key' => 'field_tab_location',
                'label' => 'Location',
                'name' => '',
                'type' => 'tab',
            ],
            [
                'key' => 'field_address',
                'label' => 'Full Address',
                'name' => 'address',
                'type' => 'textarea',
                'rows' => 2,
            ],
            [
                'key' => 'field_map_location',
                'label' => 'Map Location',
                'name' => 'map_location',
                'type' => 'google_map',
                'center_lat' => '40.7128',
                'center_lng' => '-74.0060',
                'zoom' => 12,
            ],
            [
                'key' => 'field_neighborhood',
                'label' => 'Neighborhood',
                'name' => 'neighborhood',
                'type' => 'text',
                'wrapper' => ['width' => '50']
            ],
            [
                'key' => 'field_school_district',
                'label' => 'School District',
                'name' => 'school_district',
                'type' => 'text',
                'wrapper' => ['width' => '50']
            ],
            
            // Media Tab
            [
                'key' => 'field_tab_media',
                'label' => 'Media',
                'name' => '',
                'type' => 'tab',
            ],
            [
                'key' => 'field_property_gallery',
                'label' => 'Property Gallery',
                'name' => 'property_gallery',
                'type' => 'gallery',
                'min' => 1,
                'max' => 30,
                'preview_size' => 'medium',
            ],
            [
                'key' => 'field_virtual_tour',
                'label' => 'Virtual Tour URL',
                'name' => 'virtual_tour',
                'type' => 'url',
                'instructions' => 'Link to virtual tour (Matterport, YouTube, etc.)',
            ],
            [
                'key' => 'field_floor_plans',
                'label' => 'Floor Plans',
                'name' => 'floor_plans',
                'type' => 'repeater',
                'layout' => 'block',
                'button_label' => 'Add Floor Plan',
                'sub_fields' => [
                    [
                        'key' => 'field_floor_plan_title',
                        'label' => 'Title',
                        'name' => 'title',
                        'type' => 'text',
                        'wrapper' => ['width' => '50']
                    ],
                    [
                        'key' => 'field_floor_plan_image',
                        'label' => 'Image',
                        'name' => 'image',
                        'type' => 'image',
                        'return_format' => 'array',
                        'wrapper' => ['width' => '50']
                    ]
                ]
            ],
            
            // Features Tab
            [
                'key' => 'field_tab_features',
                'label' => 'Features & Amenities',
                'name' => '',
                'type' => 'tab',
            ],
            [
                'key' => 'field_interior_features',
                'label' => 'Interior Features',
                'name' => 'interior_features',
                'type' => 'checkbox',
                'choices' => [
                    'hardwood_floors' => 'Hardwood Floors',
                    'fireplace' => 'Fireplace',
                    'central_air' => 'Central Air',
                    'central_heat' => 'Central Heat',
                    'walk_in_closet' => 'Walk-in Closet',
                    'kitchen_island' => 'Kitchen Island',
                    'granite_counters' => 'Granite Countertops',
                    'stainless_appliances' => 'Stainless Steel Appliances',
                    'smart_home' => 'Smart Home Features'
                ],
                'layout' => 'vertical',
                'wrapper' => ['width' => '50']
            ],
            [
                'key' => 'field_exterior_features',
                'label' => 'Exterior Features',
                'name' => 'exterior_features',
                'type' => 'checkbox',
                'choices' => [
                    'swimming_pool' => 'Swimming Pool',
                    'garden' => 'Garden',
                    'deck' => 'Deck/Patio',
                    'fence' => 'Fenced Yard',
                    'sprinkler' => 'Sprinkler System',
                    'solar_panels' => 'Solar Panels',
                    'security_system' => 'Security System',
                    'gated_community' => 'Gated Community'
                ],
                'layout' => 'vertical',
                'wrapper' => ['width' => '50']
            ],
            
            // Agent Tab
            [
                'key' => 'field_tab_agent',
                'label' => 'Agent Information',
                'name' => '',
                'type' => 'tab',
            ],
            [
                'key' => 'field_listing_agent',
                'label' => 'Listing Agent',
                'name' => 'listing_agent',
                'type' => 'relationship',
                'post_type' => ['agent'],
                'filters' => ['search'],
                'return_format' => 'object',
                'required' => 1,
            ]
        ],
        'location' => [
            [
                [
                    'param' => 'post_type',
                    'operator' => '==',
                    'value' => 'property',
                ],
            ],
        ],
        'menu_order' => 0,
        'position' => 'normal',
        'style' => 'default',
        'label_placement' => 'top',
        'instruction_placement' => 'label',
    ]);
}
                    </code></pre>
                </section>
                
                <!-- Part 3: Agent Fields -->
                <section class="homework-section">
                    <h2>Part 3: Agent Field Groups</h2>
                    
                    <h3>3.1 Create Agent Profile Fields</h3>
                    <pre><code class="language-php">
// Agent Profile Fields
acf_add_local_field_group([
    'key' => 'group_agent_profile',
    'title' => 'Agent Profile',
    'fields' => [
        [
            'key' => 'field_agent_license',
            'label' => 'License Number',
            'name' => 'license_number',
            'type' => 'text',
            'required' => 1,
        ],
        [
            'key' => 'field_agent_phone',
            'label' => 'Phone Number',
            'name' => 'phone_number',
            'type' => 'text',
            'wrapper' => ['width' => '50']
        ],
        [
            'key' => 'field_agent_email',
            'label' => 'Email Address',
            'name' => 'email_address',
            'type' => 'email',
            'wrapper' => ['width' => '50']
        ],
        [
            'key' => 'field_agent_specialties',
            'label' => 'Specialties',
            'name' => 'specialties',
            'type' => 'checkbox',
            'choices' => [
                'residential' => 'Residential',
                'commercial' => 'Commercial',
                'luxury' => 'Luxury Properties',
                'first_time' => 'First-Time Buyers',
                'investment' => 'Investment Properties',
                'relocation' => 'Relocation Specialist'
            ]
        ],
        [
            'key' => 'field_agent_bio',
            'label' => 'Agent Bio',
            'name' => 'agent_bio',
            'type' => 'wysiwyg',
            'media_upload' => 0,
        ],
        [
            'key' => 'field_agent_social',
            'label' => 'Social Media',
            'name' => 'social_media',
            'type' => 'group',
            'sub_fields' => [
                [
                    'key' => 'field_facebook',
                    'label' => 'Facebook',
                    'name' => 'facebook',
                    'type' => 'url',
                    'wrapper' => ['width' => '50']
                ],
                [
                    'key' => 'field_linkedin',
                    'label' => 'LinkedIn',
                    'name' => 'linkedin',
                    'type' => 'url',
                    'wrapper' => ['width' => '50']
                ],
                [
                    'key' => 'field_twitter',
                    'label' => 'Twitter',
                    'name' => 'twitter',
                    'type' => 'url',
                    'wrapper' => ['width' => '50']
                ],
                [
                    'key' => 'field_instagram',
                    'label' => 'Instagram',
                    'name' => 'instagram',
                    'type' => 'url',
                    'wrapper' => ['width' => '50']
                ]
            ]
        ]
    ],
    'location' => [
        [
            [
                'param' => 'post_type',
                'operator' => '==',
                'value' => 'agent',
            ],
        ],
    ],
]);
                    </code></pre>
                </section>
                
                <!-- Part 4: Templates -->
                <section class="homework-section">
                    <h2>Part 4: Create Display Templates</h2>
                    
                    <h3>4.1 Single Property Template</h3>
                    <pre><code class="language-php">
// single-property.php
&lt;?php get_header(); ?&gt;

&lt;div class="property-single"&gt;
    &lt;?php while (have_posts()) : the_post(); ?&gt;
        
        &lt;!-- Property Header --&gt;
        &lt;div class="property-header"&gt;
            &lt;div class="container"&gt;
                &lt;h1&gt;&lt;?php the_title(); ?&gt;&lt;/h1&gt;
                &lt;div class="property-meta"&gt;
                    &lt;span class="property-id"&gt;ID: &lt;?php the_field('property_id'); ?&gt;&lt;/span&gt;
                    &lt;span class="property-price"&gt;
                        &lt;?php 
                        $listing_type = get_field('listing_type');
                        if ($listing_type === 'rent' || $listing_type === 'both') {
                            echo '$' . number_format(get_field('rental_price')) . '/month';
                        }
                        if ($listing_type === 'both') {
                            echo ' or ';
                        }
                        if ($listing_type === 'sale' || $listing_type === 'both') {
                            echo '$' . number_format(get_field('sale_price'));
                        }
                        ?&gt;
                    &lt;/span&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        
        &lt;!-- Property Gallery --&gt;
        &lt;?php 
        $gallery = get_field('property_gallery');
        if ($gallery): ?&gt;
        &lt;div class="property-gallery"&gt;
            &lt;div class="gallery-main"&gt;
                &lt;img src="&lt;?php echo $gallery[0]['url']; ?&gt;" 
                     alt="&lt;?php echo $gallery[0]['alt']; ?&gt;"&gt;
            &lt;/div&gt;
            &lt;div class="gallery-thumbs"&gt;
                &lt;?php foreach ($gallery as $image): ?&gt;
                    &lt;img src="&lt;?php echo $image['sizes']['thumbnail']; ?&gt;" 
                         alt="&lt;?php echo $image['alt']; ?&gt;"
                         data-full="&lt;?php echo $image['url']; ?&gt;"&gt;
                &lt;?php endforeach; ?&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;?php endif; ?&gt;
        
        &lt;!-- Property Details --&gt;
        &lt;div class="property-details"&gt;
            &lt;div class="container"&gt;
                &lt;div class="row"&gt;
                    &lt;div class="col-md-8"&gt;
                        &lt;!-- Quick Stats --&gt;
                        &lt;div class="quick-stats"&gt;
                            &lt;div class="stat"&gt;
                                &lt;i class="icon-bed"&gt;&lt;/i&gt;
                                &lt;span&gt;&lt;?php the_field('bedrooms'); ?&gt; Bedrooms&lt;/span&gt;
                            &lt;/div&gt;
                            &lt;div class="stat"&gt;
                                &lt;i class="icon-bath"&gt;&lt;/i&gt;
                                &lt;span&gt;&lt;?php the_field('bathrooms'); ?&gt; Bathrooms&lt;/span&gt;
                            &lt;/div&gt;
                            &lt;div class="stat"&gt;
                                &lt;i class="icon-garage"&gt;&lt;/i&gt;
                                &lt;span&gt;&lt;?php the_field('garage'); ?&gt; Garage&lt;/span&gt;
                            &lt;/div&gt;
                            &lt;div class="stat"&gt;
                                &lt;i class="icon-area"&gt;&lt;/i&gt;
                                &lt;span&gt;&lt;?php the_field('property_size'); ?&gt; sq ft&lt;/span&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                        
                        &lt;!-- Description --&gt;
                        &lt;div class="property-description"&gt;
                            &lt;h2&gt;Description&lt;/h2&gt;
                            &lt;?php the_content(); ?&gt;
                        &lt;/div&gt;
                        
                        &lt;!-- Features --&gt;
                        &lt;div class="property-features"&gt;
                            &lt;h2&gt;Features & Amenities&lt;/h2&gt;
                            &lt;div class="row"&gt;
                                &lt;div class="col-md-6"&gt;
                                    &lt;h3&gt;Interior&lt;/h3&gt;
                                    &lt;?php 
                                    $interior = get_field('interior_features');
                                    if ($interior): ?&gt;
                                        &lt;ul&gt;
                                        &lt;?php foreach ($interior as $feature): ?&gt;
                                            &lt;li&gt;&lt;?php echo $feature; ?&gt;&lt;/li&gt;
                                        &lt;?php endforeach; ?&gt;
                                        &lt;/ul&gt;
                                    &lt;?php endif; ?&gt;
                                &lt;/div&gt;
                                &lt;div class="col-md-6"&gt;
                                    &lt;h3&gt;Exterior&lt;/h3&gt;
                                    &lt;?php 
                                    $exterior = get_field('exterior_features');
                                    if ($exterior): ?&gt;
                                        &lt;ul&gt;
                                        &lt;?php foreach ($exterior as $feature): ?&gt;
                                            &lt;li&gt;&lt;?php echo $feature; ?&gt;&lt;/li&gt;
                                        &lt;?php endforeach; ?&gt;
                                        &lt;/ul&gt;
                                    &lt;?php endif; ?&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                        
                        &lt;!-- Map --&gt;
                        &lt;?php 
                        $location = get_field('map_location');
                        if ($location): ?&gt;
                        &lt;div class="property-map"&gt;
                            &lt;h2&gt;Location&lt;/h2&gt;
                            &lt;div class="acf-map" data-zoom="16"&gt;
                                &lt;div class="marker" 
                                     data-lat="&lt;?php echo esc_attr($location['lat']); ?&gt;" 
                                     data-lng="&lt;?php echo esc_attr($location['lng']); ?&gt;"&gt;&lt;/div&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                        &lt;?php endif; ?&gt;
                    &lt;/div&gt;
                    
                    &lt;!-- Sidebar --&gt;
                    &lt;div class="col-md-4"&gt;
                        &lt;!-- Agent Info --&gt;
                        &lt;?php 
                        $agent = get_field('listing_agent');
                        if ($agent): ?&gt;
                        &lt;div class="agent-card"&gt;
                            &lt;h3&gt;Listing Agent&lt;/h3&gt;
                            &lt;?php echo get_the_post_thumbnail($agent->ID, 'thumbnail'); ?&gt;
                            &lt;h4&gt;&lt;?php echo get_the_title($agent->ID); ?&gt;&lt;/h4&gt;
                            &lt;p&gt;&lt;?php the_field('phone_number', $agent->ID); ?&gt;&lt;/p&gt;
                            &lt;p&gt;&lt;?php the_field('email_address', $agent->ID); ?&gt;&lt;/p&gt;
                            &lt;a href="&lt;?php echo get_permalink($agent->ID); ?&gt;" class="btn"&gt;View Profile&lt;/a&gt;
                        &lt;/div&gt;
                        &lt;?php endif; ?&gt;
                        
                        &lt;!-- Contact Form --&gt;
                        &lt;div class="contact-form"&gt;
                            &lt;h3&gt;Inquire About This Property&lt;/h3&gt;
                            &lt;?php echo do_shortcode('[contact-form-7 id="123"]'); ?&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        
    &lt;?php endwhile; ?&gt;
&lt;/div&gt;

&lt;?php get_footer(); ?&gt;
                    </code></pre>
                </section>
                
                <!-- Part 5: Search and Filter -->
                <section class="homework-section">
                    <h2>Part 5: Property Search & Filter</h2>
                    
                    <h3>5.1 Create Search Form</h3>
                    <pre><code class="language-php">
// Property Search Form
function property_search_form() {
    ob_start();
    ?&gt;
    &lt;form id="property-search" method="get" action="&lt;?php echo home_url('/properties/'); ?&gt;"&gt;
        &lt;div class="search-row"&gt;
            &lt;input type="text" name="keyword" placeholder="Keyword search..." 
                   value="&lt;?php echo $_GET['keyword'] ?? ''; ?&gt;"&gt;
            
            &lt;select name="property_type"&gt;
                &lt;option value=""&gt;All Types&lt;/option&gt;
                &lt;option value="house"&gt;House&lt;/option&gt;
                &lt;option value="apartment"&gt;Apartment&lt;/option&gt;
                &lt;option value="condo"&gt;Condo&lt;/option&gt;
                &lt;option value="townhouse"&gt;Townhouse&lt;/option&gt;
            &lt;/select&gt;
            
            &lt;select name="listing_type"&gt;
                &lt;option value=""&gt;For Sale/Rent&lt;/option&gt;
                &lt;option value="sale"&gt;For Sale&lt;/option&gt;
                &lt;option value="rent"&gt;For Rent&lt;/option&gt;
            &lt;/select&gt;
        &lt;/div&gt;
        
        &lt;div class="search-row"&gt;
            &lt;input type="number" name="min_price" placeholder="Min Price" 
                   value="&lt;?php echo $_GET['min_price'] ?? ''; ?&gt;"&gt;
            &lt;input type="number" name="max_price" placeholder="Max Price" 
                   value="&lt;?php echo $_GET['max_price'] ?? ''; ?&gt;"&gt;
            
            &lt;select name="bedrooms"&gt;
                &lt;option value=""&gt;Bedrooms&lt;/option&gt;
                &lt;option value="1"&gt;1+&lt;/option&gt;
                &lt;option value="2"&gt;2+&lt;/option&gt;
                &lt;option value="3"&gt;3+&lt;/option&gt;
                &lt;option value="4"&gt;4+&lt;/option&gt;
            &lt;/select&gt;
            
            &lt;select name="bathrooms"&gt;
                &lt;option value=""&gt;Bathrooms&lt;/option&gt;
                &lt;option value="1"&gt;1+&lt;/option&gt;
                &lt;option value="2"&gt;2+&lt;/option&gt;
                &lt;option value="3"&gt;3+&lt;/option&gt;
            &lt;/select&gt;
        &lt;/div&gt;
        
        &lt;button type="submit"&gt;Search Properties&lt;/button&gt;
    &lt;/form&gt;
    &lt;?php
    return ob_get_clean();
}
add_shortcode('property_search', 'property_search_form');

// Filter Properties Query
add_action('pre_get_posts', 'filter_properties_archive');
function filter_properties_archive($query) {
    if (!is_admin() && $query->is_main_query() && is_post_type_archive('property')) {
        
        $meta_query = [];
        
        // Listing type filter
        if (!empty($_GET['listing_type'])) {
            $meta_query[] = [
                'key' => 'listing_type',
                'value' => sanitize_text_field($_GET['listing_type']),
                'compare' => '='
            ];
        }
        
        // Price range filter
        if (!empty($_GET['min_price']) || !empty($_GET['max_price'])) {
            $price_query = ['relation' => 'AND'];
            
            if (!empty($_GET['min_price'])) {
                $price_query[] = [
                    'key' => 'sale_price',
                    'value' => intval($_GET['min_price']),
                    'compare' => '>=',
                    'type' => 'NUMERIC'
                ];
            }
            
            if (!empty($_GET['max_price'])) {
                $price_query[] = [
                    'key' => 'sale_price',
                    'value' => intval($_GET['max_price']),
                    'compare' => '<=',
                    'type' => 'NUMERIC'
                ];
            }
            
            $meta_query[] = $price_query;
        }
        
        // Bedrooms filter
        if (!empty($_GET['bedrooms'])) {
            $meta_query[] = [
                'key' => 'bedrooms',
                'value' => intval($_GET['bedrooms']),
                'compare' => '>=',
                'type' => 'NUMERIC'
            ];
        }
        
        // Bathrooms filter
        if (!empty($_GET['bathrooms'])) {
            $meta_query[] = [
                'key' => 'bathrooms',
                'value' => intval($_GET['bathrooms']),
                'compare' => '>=',
                'type' => 'NUMERIC'
            ];
        }
        
        if (!empty($meta_query)) {
            $query->set('meta_query', $meta_query);
        }
        
        // Keyword search
        if (!empty($_GET['keyword'])) {
            $query->set('s', sanitize_text_field($_GET['keyword']));
        }
    }
}
                    </code></pre>
                </section>
                
                <!-- Part 6: Advanced Features -->
                <section class="homework-section">
                    <h2>Part 6: Advanced Features</h2>
                    
                    <h3>6.1 Property Comparison</h3>
                    <pre><code class="language-javascript">
// Property comparison functionality
class PropertyComparison {
    constructor() {
        this.properties = this.getStoredProperties();
        this.init();
    }
    
    init() {
        // Add to comparison buttons
        document.querySelectorAll('.add-to-compare').forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                this.addProperty(btn.dataset.propertyId);
            });
        });
        
        this.updateUI();
    }
    
    addProperty(propertyId) {
        if (this.properties.length >= 3) {
            alert('You can compare up to 3 properties');
            return;
        }
        
        if (!this.properties.includes(propertyId)) {
            this.properties.push(propertyId);
            this.saveProperties();
            this.updateUI();
        }
    }
    
    removeProperty(propertyId) {
        this.properties = this.properties.filter(id => id !== propertyId);
        this.saveProperties();
        this.updateUI();
    }
    
    saveProperties() {
        localStorage.setItem('compare_properties', JSON.stringify(this.properties));
    }
    
    getStoredProperties() {
        const stored = localStorage.getItem('compare_properties');
        return stored ? JSON.parse(stored) : [];
    }
    
    updateUI() {
        // Update comparison bar
        const bar = document.getElementById('comparison-bar');
        if (this.properties.length > 0) {
            bar.classList.add('active');
            bar.innerHTML = `
                &lt;div class="comparison-content"&gt;
                    &lt;span&gt;${this.properties.length} properties selected&lt;/span&gt;
                    &lt;a href="/compare?ids=${this.properties.join(',')}" class="btn"&gt;
                        Compare Now
                    &lt;/a&gt;
                &lt;/div&gt;
            `;
        } else {
            bar.classList.remove('active');
        }
    }
}

// Initialize on DOM ready
document.addEventListener('DOMContentLoaded', () => {
    new PropertyComparison();
});
                    </code></pre>
                </section>
                
                <!-- Submission Requirements -->
                <section class="homework-section">
                    <h2>Submission Requirements</h2>
                    
                    <div class="submission-checklist">
                        <h3>Project Checklist</h3>
                        <ul class="checklist">
                            <li>✓ Custom post types for Properties and Agents created</li>
                            <li>✓ All ACF field groups properly configured</li>
                            <li>✓ Conditional logic implemented for dynamic fields</li>
                            <li>✓ Relationship between properties and agents established</li>
                            <li>✓ Property gallery with lightbox functionality</li>
                            <li>✓ Google Maps integration for property locations</li>
                            <li>✓ Search and filter system working</li>
                            <li>✓ Single property template displays all fields</li>
                            <li>✓ Agent profile pages created</li>
                            <li>✓ Property comparison feature implemented</li>
                            <li>✓ Responsive design for all templates</li>
                            <li>✓ Data validation and sanitization</li>
                        </ul>
                    </div>
                    
                    <div class="bonus-challenges">
                        <h3>Bonus Challenges</h3>
                        <ul>
                            <li>Add property favorites/wishlist functionality</li>
                            <li>Implement AJAX-powered search without page reload</li>
                            <li>Create property PDF brochure generation</li>
                            <li>Add mortgage calculator widget</li>
                            <li>Implement email alerts for saved searches</li>
                            <li>Create agent dashboard with property management</li>
                            <li>Add property viewing scheduler</li>
                            <li>Implement social sharing for properties</li>
                        </ul>
                    </div>
                    
                    <div class="submission-instructions">
                        <h3>How to Submit</h3>
                        <ol>
                            <li>Export your ACF field groups to JSON</li>
                            <li>Create a GitHub repository with your theme files</li>
                            <li>Include a README.md with setup instructions</li>
                            <li>Add screenshots of your working site</li>
                            <li>Document any custom functions or features</li>
                            <li>Submit the repository link</li>
                        </ol>
                    </div>
                </section>
                
                <!-- Evaluation Criteria -->
                <section class="homework-section">
                    <h2>Evaluation Criteria</h2>
                    
                    <div class="grading-rubric">
                        <h3>Grading Rubric</h3>
                        <table class="rubric-table">
                            <thead>
                                <tr>
                                    <th>Criteria</th>
                                    <th>Points</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Field Structure</td>
                                    <td>20</td>
                                    <td>Proper use of ACF field types and organization</td>
                                </tr>
                                <tr>
                                    <td>Conditional Logic</td>
                                    <td>15</td>
                                    <td>Dynamic fields based on user input</td>
                                </tr>
                                <tr>
                                    <td>Data Relationships</td>
                                    <td>15</td>
                                    <td>Properties linked to agents correctly</td>
                                </tr>
                                <tr>
                                    <td>Search Functionality</td>
                                    <td>15</td>
                                    <td>Working search and filter system</td>
                                </tr>
                                <tr>
                                    <td>Template Development</td>
                                    <td>15</td>
                                    <td>Clean, functional display templates</td>
                                </tr>
                                <tr>
                                    <td>User Experience</td>
                                    <td>10</td>
                                    <td>Intuitive navigation and layout</td>
                                </tr>
                                <tr>
                                    <td>Code Quality</td>
                                    <td>10</td>
                                    <td>Clean, documented, efficient code</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>
                
                <!-- Resources -->
                <section class="homework-section">
                    <h2>Helpful Resources</h2>
                    
                    <ul class="resource-list">
                        <li><a href="https://www.advancedcustomfields.com/resources/" target="_blank">ACF Documentation</a></li>
                        <li><a href="https://www.advancedcustomfields.com/resources/google-map/" target="_blank">ACF Google Maps Field</a></li>
                        <li><a href="https://www.advancedcustomfields.com/resources/relationship/" target="_blank">ACF Relationship Field</a></li>
                        <li><a href="https://developer.wordpress.org/reference/classes/wp_query/" target="_blank">WP_Query Documentation</a></li>
                        <li><a href="https://github.com/select2/select2" target="_blank">Select2 for Better Dropdowns</a></li>
                        <li><a href="https://github.com/lokesh/lightbox2" target="_blank">Lightbox2 for Galleries</a></li>
                    </ul>
                </section>
            </div>
        </main>
        
        <!-- Footer -->
        <footer class="site-footer" role="contentinfo">
            <div class="footer-container">
                <div class="footer-content">
                    <div class="footer-section footer-about">
                        <h3>PHP WordPress Development</h3>
                        <p>Complete Web Development Course - From HTML to WordPress</p>
                    </div>
                    
                    <div class="footer-section">
                        <h4>Quick Links</h4>
                        <ul class="footer-links">
                            <li><a href="/">Home</a></li>
                            <li><a href="/module7.html">Module 7</a></li>
                            <li><a href="/resources.html">Resources</a></li>
                            <li><a href="/about.html">About</a></li>
                        </ul>
                    </div>
                </div>
                
                <div class="footer-bottom">
                    <p>&copy; 2025 PHP WordPress Development Course. All rights reserved.</p>
                </div>
            </div>
        </footer>
    </div>
    
    <!-- JavaScript -->
    <script src="/assets/js/prism.js"></script>
    <script src="/assets/js/main.js"></script>
    <script src="/assets/js/lesson.js"></script>
</body>
</html>