<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Operators and Expressions</title>
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="icon" href="/favicon.png">
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
      mermaid.initialize({ startOnLoad: true });
    </script>
</head>
<body>
    <header>
        <h1>JavaScript Operators and Expressions</h1>
        <p><a href="index.html">← Back to Syllabus</a></p>
    </header>
    
    <main>
        <section class="introduction">
            <h2>Understanding JavaScript Operators and Expressions</h2>
            <p>Operators are the building blocks of JavaScript that allow us to perform operations on data. Think of operators as specialized tools in a toolbox—each designed for a specific purpose, whether it's adding numbers together, comparing values, or combining logical conditions. If variables are the nouns in the language of JavaScript, operators are the verbs that make things happen.</p>
            
            <div class="concept-visualization">
                <div class="mermaid">
                    graph TD
                    A[JavaScript Operators] --> B[Arithmetic Operators]
                    A --> C[Assignment Operators]
                    A --> D[Comparison Operators]
                    A --> E[Logical Operators]
                    A --> F[String Operators]
                    A --> G[Bitwise Operators]
                    A --> H[Ternary Operator]
                    A --> I[Type Operators]
                    B --> B1["+, -, *, /, %, **, ++, --"]
                    C --> C1["=, +=, -=, *=, /=, %="]
                    D --> D1["==, ===, !=, !==, >, <, >=, <="]
                    E --> E1["&&, ||, !"]
                    F --> F1["+"]
                    G --> G1["&, |, ~, ^, <<, >>, >>>"]
                    H --> H1["? :"]
                    I --> I1["typeof, instanceof"]
                </div>
            </div>
            
            <p>An expression in JavaScript is any valid combination of operators, values, and variables that produces a result. You can think of expressions as mathematical formulas or sentences that JavaScript can understand and evaluate. Simple expressions might be a single value like <code>42</code> or a variable like <code>firstName</code>, while complex expressions might combine multiple operators and values to calculate a final result.</p>
        </section>

        <section class="arithmetic_operators">
            <h2>Arithmetic Operators: Calculating with Numbers</h2>
            <p>Arithmetic operators allow you to perform mathematical operations. They're the digital equivalent of the basic operations you learned in elementary school mathematics, plus a few additional tools.</p>
            
            <div class="svg-container">
                <svg viewBox="0 0 600 220" xmlns="http://www.w3.org/2000/svg">
                    <!-- Title -->
                    <text x="300" y="25" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold">Arithmetic Operators in Action</text>
                    
                    <!-- Addition -->
                    <rect x="20" y="40" width="120" height="60" rx="10" fill="#f0f0f0" stroke="#333" stroke-width="2"/>
                    <text x="80" y="75" text-anchor="middle" font-family="Arial" font-size="18">5 + 3 = 8</text>
                    <text x="80" y="110" text-anchor="middle" font-family="Arial" font-size="14">Addition</text>
                    
                    <!-- Subtraction -->
                    <rect x="160" y="40" width="120" height="60" rx="10" fill="#f0f0f0" stroke="#333" stroke-width="2"/>
                    <text x="220" y="75" text-anchor="middle" font-family="Arial" font-size="18">10 - 4 = 6</text>
                    <text x="220" y="110" text-anchor="middle" font-family="Arial" font-size="14">Subtraction</text>
                    
                    <!-- Multiplication -->
                    <rect x="300" y="40" width="120" height="60" rx="10" fill="#f0f0f0" stroke="#333" stroke-width="2"/>
                    <text x="360" y="75" text-anchor="middle" font-family="Arial" font-size="18">3 * 4 = 12</text>
                    <text x="360" y="110" text-anchor="middle" font-family="Arial" font-size="14">Multiplication</text>
                    
                    <!-- Division -->
                    <rect x="440" y="40" width="120" height="60" rx="10" fill="#f0f0f0" stroke="#333" stroke-width="2"/>
                    <text x="500" y="75" text-anchor="middle" font-family="Arial" font-size="18">20 / 5 = 4</text>
                    <text x="500" y="110" text-anchor="middle" font-family="Arial" font-size="14">Division</text>
                    
                    <!-- Modulus -->
                    <rect x="20" y="130" width="120" height="60" rx="10" fill="#f0f0f0" stroke="#333" stroke-width="2"/>
                    <text x="80" y="165" text-anchor="middle" font-family="Arial" font-size="18">7 % 3 = 1</text>
                    <text x="80" y="200" text-anchor="middle" font-family="Arial" font-size="14">Modulus</text>
                    
                    <!-- Exponentiation -->
                    <rect x="160" y="130" width="120" height="60" rx="10" fill="#f0f0f0" stroke="#333" stroke-width="2"/>
                    <text x="220" y="165" text-anchor="middle" font-family="Arial" font-size="18">2 ** 3 = 8</text>
                    <text x="220" y="200" text-anchor="middle" font-family="Arial" font-size="14">Exponentiation</text>
                    
                    <!-- Increment -->
                    <rect x="300" y="130" width="120" height="60" rx="10" fill="#f0f0f0" stroke="#333" stroke-width="2"/>
                    <text x="360" y="155" text-anchor="middle" font-family="Arial" font-size="18">i = 5; i++;</text>
                    <text x="360" y="175" text-anchor="middle" font-family="Arial" font-size="18">i becomes 6</text>
                    <text x="360" y="200" text-anchor="middle" font-family="Arial" font-size="14">Increment</text>
                    
                    <!-- Decrement -->
                    <rect x="440" y="130" width="120" height="60" rx="10" fill="#f0f0f0" stroke="#333" stroke-width="2"/>
                    <text x="500" y="155" text-anchor="middle" font-family="Arial" font-size="18">j = 8; j--;</text>
                    <text x="500" y="175" text-anchor="middle" font-family="Arial" font-size="18">j becomes 7</text>
                    <text x="500" y="200" text-anchor="middle" font-family="Arial" font-size="14">Decrement</text>
                </svg>
            </div>
            
            <h3>The Core Arithmetic Operators</h3>
            <div class="code-example">
                <pre><code>// Addition (+)
let sum = 5 + 3;       // 8
let combinedName = "John" + " " + "Doe";  // "John Doe" (string concatenation)

// Subtraction (-)
let difference = 10 - 4;  // 6
let negation = -difference;  // -6 (unary negation)

// Multiplication (*)
let product = 3 * 4;    // 12
let doubledPrice = 19.99 * 2;  // 39.98

// Division (/)
let quotient = 20 / 5;  // 4
let decimalResult = 10 / 3;  // 3.3333333333333335

// Modulus (%) - returns the remainder after division
let remainder = 7 % 3;  // 1 (7 divided by 3 is 2 with remainder 1)
let isEven = (number % 2 === 0);  // Check if a number is even

// Exponentiation (**) - power/exponential calculation
let power = 2 ** 3;  // 8 (2³ = 2*2*2 = 8)
let squared = 5 ** 2;  // 25 (5² = 5*5 = 25)</code></pre>
            </div>
            
            <h3>Increment and Decrement Operators</h3>
            <p>These special operators add or subtract 1 from a variable. They have two forms: prefix (++x, --x) and postfix (x++, x--), with an important difference in behavior.</p>
            
            <div class="code-example">
                <pre><code>// Increment (++)
let count = 5;
count++;      // Postfix: use the current value, then increment (now count is 6)

let score = 10;
++score;      // Prefix: increment first, then use the value (now score is 11)

// The difference becomes important in expressions
let a = 5;
let b = a++;   // b gets the original value (5), then a is incremented to 6

let c = 5;
let d = ++c;   // c is incremented to 6 first, then d gets the new value (6)

// Decrement (--)
let lives = 3;
lives--;      // Postfix: use the current value, then decrement (now lives is 2)

let level = 7;
--level;      // Prefix: decrement first, then use the value (now level is 6)</code></pre>
            </div>
            
            <div class="real-world-example">
                <h3>Real-World Example: Shopping Cart Calculator</h3>
                <pre><code>function calculateCartTotal(items, promoCode) {
    // Initialize variables
    let subtotal = 0;
    let discount = 0;
    const TAX_RATE = 0.07;  // 7% sales tax
    
    // Calculate subtotal by adding all item prices
    for (let i = 0; i < items.length; i++) {
        subtotal += items[i].price * items[i].quantity;
    }
    
    // Apply promotions
    if (promoCode === "SAVE10") {
        discount = subtotal * 0.1;  // 10% discount
    } else if (promoCode === "SAVE20" && subtotal >= 100) {
        discount = subtotal * 0.2;  // 20% discount for orders over $100
    }
    
    // Calculate final amounts
    const discountedSubtotal = subtotal - discount;
    const tax = discountedSubtotal * TAX_RATE;
    const total = discountedSubtotal + tax;
    
    return {
        subtotal: subtotal.toFixed(2),
        discount: discount.toFixed(2),
        tax: tax.toFixed(2),
        total: total.toFixed(2)
    };
}</code></pre>
            </div>
            
            <div class="practical-tip">
                <h3>Practical Applications of the Modulus Operator</h3>
                <ul>
                    <li><strong>Checking odd/even numbers</strong>: <code>number % 2 === 0</code> is true for even numbers</li>
                    <li><strong>Cycling through arrays</strong>: <code>index = (index + 1) % array.length</code> loops back to 0 after reaching the end</li>
                    <li><strong>Time formatting</strong>: <code>hours % 12</code> converts 24-hour format to 12-hour format</li>
                    <li><strong>Alternating patterns</strong>: <code>row % 2 === 0</code> can create zebra striping in tables</li>
                    <li><strong>Distributing items</strong>: <code>item % numberOfBuckets</code> assigns items to buckets evenly</li>
                </ul>
            </div>
        </section>

        <section class="assignment_operators">
            <h2>Assignment Operators: Storing Values in Variables</h2>
            <p>Assignment operators store values in variables. They combine assignment with arithmetic operations for more concise code. Think of these as a shorthand way of saying "update this variable using this operation."</p>
            
            <div class="code-example">
                <h3>Basic Assignment Operator</h3>
                <pre><code>// The equals sign (=) is the basic assignment operator
let message = "Hello, world!";
let count = 42;
let isActive = true;</code></pre>
                
                <h3>Compound Assignment Operators</h3>
                <pre><code>// Addition assignment (+=)
let score = 10;
score += 5;  // Equivalent to: score = score + 5; (score is now 15)

// Subtraction assignment (-=)
let lives = 3;
lives -= 1;  // Equivalent to: lives = lives - 1; (lives is now 2)

// Multiplication assignment (*=)
let factor = 2;
factor *= 4;  // Equivalent to: factor = factor * 4; (factor is now 8)

// Division assignment (/=)
let ratio = 100;
ratio /= 5;  // Equivalent to: ratio = ratio / 5; (ratio is now 20)

// Remainder/modulus assignment (%=)
let remainder = 17;
remainder %= 5;  // Equivalent to: remainder = remainder % 5; (remainder is now 2)

// Exponentiation assignment (**=)
let power = 2;
power **= 3;  // Equivalent to: power = power ** 3; (power is now 8)</code></pre>
            </div>
            
            <div class="real-world-example">
                <h3>Real-World Example: Game Score Tracking</h3>
                <pre><code>function updateGameScore(action, points) {
    // Initialize or retrieve game state
    let gameState = {
        score: 0,
        lives: 3,
        level: 1,
        multiplier: 1,
        bonusPoints: 0
    };
    
    // Update game state based on action
    switch (action) {
        case "collectCoin":
            gameState.score += 10 * gameState.multiplier;
            break;
            
        case "defeatEnemy":
            gameState.score += points * gameState.multiplier;
            gameState.bonusPoints += Math.floor(points / 10);
            break;
            
        case "takeDamage":
            gameState.lives -= 1;
            gameState.multiplier = 1;  // Reset multiplier when damaged
            break;
            
        case "collectPowerup":
            gameState.multiplier *= 2;  // Double the score multiplier
            break;
            
        case "completeLevel":
            gameState.level += 1;
            gameState.score += 100 * gameState.level;
            
            // Award extra life every 3 levels
            if (gameState.level % 3 === 0) {
                gameState.lives += 1;
            }
            break;
    }
    
    // Apply bonus points if enough accumulated
    if (gameState.bonusPoints >= 100) {
        gameState.score += 500;
        gameState.bonusPoints %= 100;  // Keep only the remainder
    }
    
    return gameState;
}</code></pre>
            </div>
            
            <div class="chaining-example">
                <h3>Chaining Assignments</h3>
                <p>You can assign the same value to multiple variables by chaining assignments:</p>
                <pre><code>// All variables get the value 5
let a, b, c;
a = b = c = 5;

// The chain evaluates from right to left
// First, c = 5 is evaluated (which assigns 5 to c and returns 5)
// Then b = 5 is evaluated (which assigns 5 to b and returns 5)
// Finally, a = 5 is evaluated (which assigns 5 to a)</code></pre>
            </div>
        </section>

        <section class="comparison_operators">
            <h2>Comparison Operators: Evaluating Conditions</h2>
            <p>Comparison operators compare two values and return a boolean result (true or false). These operators are essential for creating conditions in your programs, allowing code to make decisions based on data.</p>
            
            <div class="mermaid">
                sequenceDiagram
                    participant V as Values
                    participant C as Comparison Operator
                    participant R as Result (Boolean)
                    
                    Note over V,R: The Comparison Process
                    V->>C: Provide values for comparison
                    C->>C: Evaluate the relationship
                    C->>R: Return true or false
                    Note over R: Decision making happens based on this result
            </div>
            
            <div class="code-example">
                <h3>Basic Comparison Operators</h3>
                <pre><code>// Equal to (==) - Compares values, performs type conversion
console.log(5 == 5);    // true
console.log("5" == 5);  // true (string "5" is converted to number 5)
console.log(0 == false); // true (false is converted to 0)

// Strict equal to (===) - Compares values AND types, no conversion
console.log(5 === 5);    // true
console.log("5" === 5);  // false (different types: string vs number)
console.log(0 === false); // false (different types: number vs boolean)

// Not equal to (!=) - Opposite of ==, performs type conversion
console.log(5 != 8);    // true (5 is not equal to 8)
console.log("5" != 5);  // false (after conversion, they're considered equal)

// Strict not equal to (!==) - Opposite of ===, checks values AND types
console.log(5 !== 8);    // true (5 is not equal to 8)
console.log("5" !== 5);  // true (different types: string vs number)

// Greater than (>)
console.log(10 > 5);    // true (10 is greater than 5)
console.log(5 > 5);     // false (5 is not greater than 5)

// Less than (<)
console.log(5 < 10);    // true (5 is less than 10)
console.log(5 < 5);     // false (5 is not less than 5)

// Greater than or equal to (>=)
console.log(10 >= 5);   // true (10 is greater than 5)
console.log(5 >= 5);    // true (5 is equal to 5)

// Less than or equal to (<=)
console.log(5 <= 10);   // true (5 is less than 10)
console.log(5 <= 5);    // true (5 is equal to 5)</code></pre>
            </div>
            
            <div class="practical-tip">
                <h3>When to Use == vs ===</h3>
                <p>In modern JavaScript, it's generally recommended to use strict equality (<code>===</code>) and strict inequality (<code>!==</code>) rather than loose equality (<code>==</code>) and loose inequality (<code>!=</code>).</p>
                
                <h4>Why Use Strict Equality?</h4>
                <ul>
                    <li>Prevents unexpected type conversions</li>
                    <li>Makes your code more predictable</li>
                    <li>Helps catch potential bugs</li>
                    <li>Improves performance (no type conversion needed)</li>
                </ul>
                
                <h4>Loose Equality Gotchas</h4>
                <pre><code>// Unexpected equivalences with ==
"" == 0       // true
0 == false    // true
null == undefined  // true
" \t\r\n" == 0     // true (blank string converts to 0)

// These differences are clear with ===
"" === 0       // false
0 === false    // false
null === undefined  // false
" \t\r\n" === 0     // false</code></pre>
            </div>
            
            <div class="real-world-example">
                <h3>Real-World Example: User Authentication</h3>
                <pre><code>function validateCredentials(username, password, userDatabase) {
    // Check if username exists
    if (username === "" || password === "") {
        return {
            success: false,
            message: "Username and password cannot be empty"
        };
    }
    
    // Find user in database
    const user = userDatabase.find(user => user.username === username);
    
    // Check if user exists
    if (user === undefined) {
        return {
            success: false,
            message: "User not found"
        };
    }
    
    // Check password
    if (user.password !== password) {
        return {
            success: false,
            message: "Incorrect password"
        };
    }
    
    // Check account status
    if (user.accountLocked === true) {
        return {
            success: false,
            message: "Account is locked. Please contact support."
        };
    }
    
    // Authentication successful
    return {
        success: true,
        message: "Login successful",
        userData: {
            id: user.id,
            username: user.username,
            fullName: user.fullName,
            role: user.role,
            lastLogin: new Date()
        }
    };
}</code></pre>
            </div>
            
            <div class="special-comparisons">
                <h3>Special Comparison Cases</h3>
                <pre><code>// Comparing strings - compares character by character using alphabetical order
console.log("apple" < "banana");  // true (alphabetically, 'a' comes before 'b')
console.log("apple" < "Apple");   // false (uppercase comes before lowercase in ASCII)

// Comparing different types
console.log("2" > 1);  // true ("2" is converted to number 2)
console.log(true > 0); // true (true is converted to number 1)

// Comparing null and undefined
console.log(null == undefined);  // true (loose equality considers them equal)
console.log(null === undefined); // false (strict equality sees different types)

// Special values
console.log(NaN == NaN);  // false (NaN is not equal to anything, even itself!)
console.log(NaN === NaN); // false
console.log(isNaN(NaN));  // true (use isNaN function to check for NaN)</code></pre>
            </div>
        </section>

        <section class="logical_operators">
            <h2>Logical Operators: Combining Conditions</h2>
            <p>Logical operators allow you to combine multiple conditions. Think of them as the glue that connects various tests together, letting you create complex decision-making logic based on multiple factors.</p>
            
            <div class="svg-container">
                <svg viewBox="0 0 600 300" xmlns="http://www.w3.org/2000/svg">
                    <!-- Title -->
                    <text x="300" y="25" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold">Logical Operators Visual Guide</text>
                    
                    <!-- AND operator -->
                    <rect x="50" y="50" width="500" height="60" rx="10" fill="#e6f7ff" stroke="#333" stroke-width="2"/>
                    <text x="300" y="70" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold">Logical AND (&&)</text>
                    <text x="300" y="95" text-anchor="middle" font-family="Arial" font-size="14">Both conditions must be true for the result to be true</text>
                    
                    <!-- OR operator -->
                    <rect x="50" y="130" width="500" height="60" rx="10" fill="#fff2e6" stroke="#333" stroke-width="2"/>
                    <text x="300" y="150" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold">Logical OR (||)</text>
                    <text x="300" y="175" text-anchor="middle" font-family="Arial" font-size="14">At least one condition must be true for the result to be true</text>
                    
                    <!-- NOT operator -->
                    <rect x="50" y="210" width="500" height="60" rx="10" fill="#f9f9f9" stroke="#333" stroke-width="2"/>
                    <text x="300" y="230" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold">Logical NOT (!)</text>
                    <text x="300" y="255" text-anchor="middle" font-family="Arial" font-size="14">Reverses the result: true becomes false, false becomes true</text>
                </svg>
            </div>
            
            <div class="code-example">
                <h3>Logical AND (&&)</h3>
                <p>Returns true only if both operands are true.</p>
                <pre><code>// Logical AND truth table
console.log(true && true);   // true
console.log(true && false);  // false
console.log(false && true);  // false
console.log(false && false); // false

// Practical examples
let age = 25;
let hasLicense = true;

// Both conditions must be true to drive
let canDrive = age >= 16 && hasLicense;  // true

// Check for valid username (between 3 and 20 characters)
function isValidUsername(username) {
    return username.length >= 3 && username.length <= 20;
}</code></pre>
                
                <h3>Logical OR (||)</h3>
                <p>Returns true if at least one operand is true.</p>
                <pre><code>// Logical OR truth table
console.log(true || true);   // true
console.log(true || false);  // true
console.log(false || true);  // true
console.log(false || false); // false

// Practical examples
let isWeekend = false;
let isHoliday = true;

// Either condition makes it a day off
let isDayOff = isWeekend || isHoliday;  // true

// Use default value if input is not provided
function greet(name) {
    // If name is falsy (empty string, null, undefined), use "Guest"
    let userName = name || "Guest";
    return "Hello, " + userName + "!";
}

console.log(greet("John"));  // "Hello, John!"
console.log(greet(""));      // "Hello, Guest!"</code></pre>
                
                <h3>Logical NOT (!)</h3>
                <p>Returns the opposite boolean value of the operand.</p>
                <pre><code>// Logical NOT examples
console.log(!true);   // false
console.log(!false);  // true
console.log(!!true);  // true (double negation, back to original)

// Practical examples
let isLoggedIn = false;
let showLoginButton = !isLoggedIn;  // true (show login button if not logged in)

// Convert value to boolean (!! trick)
let username = "John";
let hasUsername = !!username;  // true (username is not empty)

let emptyString = "";
let hasValue = !!emptyString;  // false (empty string is falsy)</code></pre>
            </div>
            
            <div class="short-circuit">
                <h3>Short-Circuit Evaluation</h3>
                <p>Logical operators in JavaScript use "short-circuit" evaluation, which means they stop evaluating as soon as the result is determined.</p>
                <pre><code>// AND (&&) short-circuit: if the first operand is false,
// the second isn't evaluated because the result must be false
function getUserData() {
    console.log("Getting user data...");
    return { name: "John" };
}

let isLoggedIn = false;
let userData = isLoggedIn && getUserData();
// getUserData() is never called because isLoggedIn is false

// OR (||) short-circuit: if the first operand is true,
// the second isn't evaluated because the result must be true
function getDefaultSettings() {
    console.log("Loading default settings...");
    return { theme: "light" };
}

let userSettings = { theme: "dark" };
let settings = userSettings || getDefaultSettings();
// getDefaultSettings() is never called because userSettings is truthy</code></pre>
            </div>
            
            <div class="practical-application">
                <h3>Nullish Coalescing Operator (??)</h3>
                <p>This modern JavaScript operator is similar to || but works specifically with null or undefined values, not all falsy values.</p>
                <pre><code>// Nullish coalescing operator (??)
// Returns right-hand value only if left-hand is null or undefined

// Difference between || and ??
let count = 0;
let defaultCount = 5;

// OR treats 0 as falsy, so it uses the default
let countWithOr = count || defaultCount;  // 5

// Nullish coalescing only checks for null/undefined, so it keeps 0
let countWithNullish = count ?? defaultCount;  // 0

// More examples
let username = "";
let defaultUsername = "Guest";

let userDisplayName = username || defaultUsername;  // "Guest" (empty string is falsy)
let actualUsername = username ?? defaultUsername;   // "" (empty string is not null/undefined)</code></pre>
            </div>
            
            <div class="real-world-example">
                <h3>Real-World Example: Form Validation</h3>
                <pre><code>function validateRegistrationForm(formData) {
    const errors = {};
    
    // Username validation
    if (!formData.username) {
        errors.username = "Username is required";
    } else if (formData.username.length < 3 || formData.username.length > 20) {
        errors.username = "Username must be between 3 and 20 characters";
    }
    
    // Email validation
    const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!formData.email) {
        errors.email = "Email is required";
    } else if (!emailPattern.test(formData.email)) {
        errors.email = "Please enter a valid email address";
    }
    
    // Password validation
    if (!formData.password) {
        errors.password = "Password is required";
    } else {
        const hasMinLength = formData.password.length >= 8;
        const hasUppercase = /[A-Z]/.test(formData.password);
        const hasLowercase = /[a-z]/.test(formData.password);
        const hasNumber = /[0-9]/.test(formData.password);
        const hasSpecialChar = /[!@#$%^&*]/.test(formData.password);
        
        if (!(hasMinLength && hasUppercase && hasLowercase && hasNumber)) {
            errors.password = "Password must be at least 8 characters and include uppercase, lowercase, and numbers";
        }
        
        // Suggest stronger password if no special character
        if (!hasSpecialChar) {
            errors.passwordSuggestion = "Consider adding special characters for a stronger password";
        }
    }
    
    // Password confirmation
    if (formData.password && formData.confirmPassword && 
        formData.password !== formData.confirmPassword) {
        errors.confirmPassword = "Passwords do not match";
    }
    
    // Age verification
    const age = Number(formData.age);
    if (!formData.age) {
        errors.age = "Age is required";
    } else if (isNaN(age) || age < 13) {
        errors.age = "You must be at least 13 years old to register";
    }
    
    // Terms agreement
    if (!formData.agreeToTerms) {
        errors.agreeToTerms = "You must agree to the terms and conditions";
    }
    
    // Return validation result
    return {
        isValid: Object.keys(errors).length === 0,
        errors: errors
    };
}</code></pre>
            </div>
        </section>

        <section class="string_operators">
            <h2>String Operators: Working with Text</h2>
            <p>JavaScript uses the plus operator (+) for string concatenation, allowing you to combine strings together. In modern JavaScript, template literals provide a more elegant way to construct strings.</p>
            
            <div class="code-example">
                <h3>String Concatenation with +</h3>
                <pre><code>// Basic string concatenation
let firstName = "John";
let lastName = "Doe";
let fullName = firstName + " " + lastName;  // "John Doe"

// Mixing strings and numbers
let age = 30;
let message = "I am " + age + " years old";  // "I am 30 years old"

// Be careful with order of operations
let result = "The sum is: " + 5 + 10;  // "The sum is: 510" (not 15!)
let correctResult = "The sum is: " + (5 + 10);  // "The sum is: 15"

// Compound assignment with strings
let greeting = "Hello";
greeting += " World";  // greeting is now "Hello World"</code></pre>
                
                <h3>Template Literals (ES6+)</h3>
                <pre><code>// Template literals use backticks (`) and ${} for expressions
let name = "Jane";
let greeting = `Hello, ${name}!`;  // "Hello, Jane!"

// Multi-line strings
let multiLine = `This is a string
that spans multiple
lines without needing \n`;

// Expressions in template literals
let a = 5;
let b = 10;
let expression = `The sum of ${a} and ${b} is ${a + b}`;  // "The sum of 5 and 10 is 15"

// Calling functions in template literals
function capitalize(str) {
    return str.charAt(0).toUpperCase() + str.slice(1);
}

let pet = "dog";
let sentence = `I have a ${capitalize(pet)}`;  // "I have a Dog"</code></pre>
            </div>
            
            <div class="real-world-example">
                <h3>Real-World Example: Dynamic HTML Generation</h3>
                <pre><code>function generateProductCard(product) {
    // Using template literals to create HTML structure
    const cardHTML = `
        &lt;div class="product-card" id="product-${product.id}"&gt;
            &lt;div class="product-image"&gt;
                &lt;img src="${product.imageUrl}" alt="${product.name}" 
                     ${product.stock === 0 ? 'class="out-of-stock"' : ''}&gt;
                ${product.sale ? '&lt;span class="sale-badge"&gt;SALE&lt;/span&gt;' : ''}
            &lt;/div&gt;
            
            &lt;div class="product-info"&gt;
                &lt;h3 class="product-name"&gt;${product.name}&lt;/h3&gt;
                &lt;p class="product-description"&gt;${product.description}&lt;/p&gt;
                
                &lt;div class="product-price"&gt;
                    ${product.sale 
                        ? `&lt;span class="original-price"&gt;$${product.originalPrice.toFixed(2)}&lt;/span&gt;
                           &lt;span class="sale-price"&gt;$${product.salePrice.toFixed(2)}&lt;/span&gt;`
                        : `&lt;span class="regular-price"&gt;$${product.price.toFixed(2)}&lt;/span&gt;`
                    }
                &lt;/div&gt;
                
                &lt;div class="product-actions"&gt;
                    &lt;button class="add-to-cart" 
                            ${product.stock === 0 ? 'disabled' : ''}
                            data-product-id="${product.id}"&gt;
                        ${product.stock === 0 ? 'Out of Stock' : 'Add to Cart'}
                    &lt;/button&gt;
                    &lt;button class="add-to-wishlist" data-product-id="${product.id}"&gt;
                        ♥
                    &lt;/button&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    `;
    
    return cardHTML;
}

// Example usage
const product = {
    id: 123,
    name: "Wireless Headphones",
    description: "Premium noise-cancelling bluetooth headphones with 30-hour battery life.",
    price: 149.99,
    sale: true,
    originalPrice: 149.99,
    salePrice: 119.99,
    imageUrl: "/images/headphones-blue.jpg",
    stock: 5
};

// Insert the product card into the page
document.querySelector(".product-container").innerHTML += generateProductCard(product);</code></pre>
            </div>
        </section>

        <section class="other_operators">
            <h2>Other Important Operators</h2>
            
            <div class="code-example">
                <h3>Ternary Operator (Conditional Operator)</h3>
                <p>A shorthand for if-else conditions. Think of it as a compact decision-making tool.</p>
                <pre><code>// Syntax: condition ? valueIfTrue : valueIfFalse

// Simple example
let age = 17;
let canVote = age >= 18 ? "Yes" : "No";  // "No"

// Nested ternary (use with caution - can be hard to read)
let timeOfDay = 14;  // 24-hour format
let greeting = timeOfDay < 12 ? "Good morning" :
               timeOfDay < 18 ? "Good afternoon" :
               "Good evening";  // "Good afternoon"

// Ternary in template literals
let status = "active";
let statusDisplay = `User status: ${status === "active" ? "✓ Active" : "✗ Inactive"}`;

// Alternative to if/else with side effects
function displayWelcome(user) {
    const welcomeEl = document.getElementById("welcome");
    user.isLoggedIn
        ? welcomeEl.textContent = `Welcome back, ${user.name}!`
        : welcomeEl.textContent = "Please log in";
}</code></pre>
                
                <h3>Type Operators</h3>
                <p>These operators help you work with JavaScript's dynamic typing system.</p>
                <pre><code>// typeof operator - returns a string indicating the type
console.log(typeof 42);          // "number"
console.log(typeof "hello");     // "string"
console.log(typeof true);        // "boolean"
console.log(typeof undefined);   // "undefined"
console.log(typeof null);        // "object" (historical JavaScript quirk/bug)
console.log(typeof {});          // "object"
console.log(typeof []);          // "object" (arrays are objects in JavaScript)
console.log(typeof function(){}); // "function"

// instanceof operator - checks if an object is an instance of a class
let arr = [1, 2, 3];
let obj = { prop: "value" };
let date = new Date();

console.log(arr instanceof Array);   // true
console.log(obj instanceof Object);  // true
console.log(date instanceof Date);   // true
console.log(arr instanceof Object);  // true (arrays inherit from Object)
console.log(date instanceof Array);  // false</code></pre>
                
                <h3>Optional Chaining Operator (?.)</h3>
                <p>Modern JavaScript operator that safely accesses nested properties without causing errors if a property doesn't exist.</p>
                <pre><code>// Problem without optional chaining
let user = {}; // User with no address property
// This would cause an error:
// let city = user.address.city; // TypeError: Cannot read property 'city' of undefined

// Traditional safe approach
let city;
if (user && user.address && user.address.city) {
    city = user.address.city;
} else {
    city = "Unknown";
}

// With optional chaining
let cityWithChaining = user?.address?.city ?? "Unknown"; // "Unknown"

// It also works with methods
let userFunction = user?.getFullName?.() ?? "No name available";

// And with array elements
let firstItem = someArray?.[0] ?? "No items";</code></pre>
            </div>
            
            <div class="bitwise-section">
                <h3>Bitwise Operators</h3>
                <p>These operate on the binary (bit) level of numbers. They're less commonly used in everyday JavaScript but are powerful for certain tasks.</p>
                <pre><code>// Bitwise AND (&)
console.log(5 & 3);  // 1 (0101 & 0011 = 0001)

// Bitwise OR (|)
console.log(5 | 3);  // 7 (0101 | 0011 = 0111)

// Bitwise XOR (^)
console.log(5 ^ 3);  // 6 (0101 ^ 0011 = 0110)

// Bitwise NOT (~)
console.log(~5);     // -6 (inverts all bits and adds 1 to the result)

// Left shift (<<)
console.log(5 << 1); // 10 (shift all bits left by 1 = multiplication by 2)

// Right shift (>>)
console.log(5 >> 1); // 2 (shift all bits right by 1 = division by 2)</code></pre>
                
                <h4>Practical Uses for Bitwise Operators</h4>
                <ul>
                    <li><strong>Permissions and flags</strong>: Using bits to represent a set of boolean options</li>
                    <li><strong>Color manipulation</strong>: Working with RGB values</li>
                    <li><strong>Performance optimization</strong>: Fast multiplying/dividing by powers of 2</li>
                    <li><strong>Low-level algorithms</strong>: Cryptography, compression, etc.</li>
                </ul>
                
                <pre><code>// Example: User permissions using bitwise flags
const READ = 1;        // 001
const WRITE = 2;       // 010
const DELETE = 4;      // 100

// Combine permissions
let userPermissions = READ | WRITE;  // 011 (3)

// Check for a permission
function hasPermission(perms, perm) {
    return (perms & perm) === perm;
}

console.log(hasPermission(userPermissions, READ));   // true
console.log(hasPermission(userPermissions, WRITE));  // true
console.log(hasPermission(userPermissions, DELETE)); // false

// Add a permission
userPermissions |= DELETE;  // 111 (7)

// Remove a permission
userPermissions &= ~WRITE;  // 101 (5)</code></pre>
            </div>
        </section>

        <section class="operator_precedence">
            <h2>Operator Precedence and Associativity</h2>
            <p>Just like in mathematics, JavaScript operators follow specific precedence rules that determine the order of evaluation. Think of this as the "PEMDAS" (Parentheses, Exponents, Multiplication/Division, Addition/Subtraction) of JavaScript—but with many more operators.</p>
            
            <div class="mermaid">
                graph TD
                    A[Operator Precedence] --> B[Highest Priority]
                    B --> B1["() - Grouping"]
                    B1 --> B2[". [] ?. - Member Access"]
                    B2 --> B3["new - Constructor Call"]
                    B3 --> C[Middle Priority]
                    C --> C1["! ~ - Unary Operators"]
                    C1 --> C2["* / % - Multiplicative"]
                    C2 --> C3["+ - - Additive"]
                    C3 --> C4[">= > < <= - Comparison"]
                    C4 --> C5["=== == !== != - Equality"]
                    C5 --> D[Lower Priority]
                    D --> D1["&& - Logical AND"]
                    D1 --> D2["|| - Logical OR"]
                    D2 --> D3["?: - Conditional (Ternary)"]
                    D3 --> D4["= += -= *= /= - Assignment"]
                    D4 --> E[Lowest Priority]
            </div>
            
            <div class="code-example">
                <h3>Examples of Operator Precedence</h3>
                <pre><code>// Arithmetic operators have higher precedence than comparison operators
console.log(5 + 3 > 7);  // true (5 + 3 is 8, then 8 > 7 is true)

// Comparison operators have higher precedence than logical operators
console.log(5 > 3 && 10 > 5);  // true (5 > 3 is true, 10 > 5 is true, true && true is true)

// Multiple operators with different precedence
console.log(3 + 4 * 5);  // 23 (not 35, multiplication happens first)

// Using parentheses to control order
console.log((3 + 4) * 5);  // 35 (parentheses force addition to happen first)</code></pre>
                
                <h3>Associativity: Left-to-Right vs. Right-to-Left</h3>
                <p>Associativity determines the order of operations when operators have the same precedence.</p>
                <pre><code>// Left-to-right associativity (most operators)
console.log(10 / 5 / 2);  // 1 (not 1, evaluated as (10 / 5) / 2)

// Right-to-left associativity (assignment, unary, etc.)
let a, b, c;
a = b = c = 5;  // evaluated as a = (b = (c = 5))

// Unary operators are right-to-left
console.log(!!false);  // false (evaluated as !(!(false)))</code></pre>
                
                <h3>Using Parentheses for Clarity</h3>
                <pre><code>// Complex expressions can be hard to read without parentheses
let complex = a || b && c || d;

// With parentheses it's clearer how it will be evaluated
let clear = a || (b && c) || d;

// Even when not strictly needed, parentheses can improve readability
let age = 25;
let hasSubscription = true;
let isPremiumContent = true;

// Without parentheses
let canAccess = age >= 18 && hasSubscription || isPremiumContent;

// With parentheses - much clearer intent
let canAccessClear = (age >= 18 && hasSubscription) || isPremiumContent;</code></pre>
            </div>
            
            <div class="practical-tip">
                <h3>Best Practices for Working with Operators</h3>
                <ul>
                    <li><strong>Use parentheses liberally</strong> to make your intent clear and avoid relying on precedence rules</li>
                    <li><strong>Break complex expressions</strong> into multiple lines or intermediate variables</li>
                    <li><strong>Use strict equality (===, !==)</strong> rather than loose equality (==, !=)</li>
                    <li><strong>Be careful with implicit type conversion</strong> in operations like addition with different types</li>
                    <li><strong>Comment complex operations</strong> to explain the intent behind them</li>
                </ul>
                
                <h4>Improving Complex Expressions</h4>
                <pre><code>// Before: Complex and hard to understand
let eligibility = age >= 18 && income > 30000 && creditScore >= 700 || hasSpecialApproval && !isBlacklisted;

// After: More readable with intermediate variables
let meetsAgeRequirement = age >= 18;
let meetsIncomeRequirement = income > 30000;
let meetsCredit = creditScore >= 700;
let meetsStandardCriteria = meetsAgeRequirement && meetsIncomeRequirement && meetsCredit;
let meetsExceptionCriteria = hasSpecialApproval && !isBlacklisted;

let eligibility = meetsStandardCriteria || meetsExceptionCriteria;</code></pre>
            </div>
        </section>

        <section class="expressions">
            <h2>JavaScript Expressions in Depth</h2>
            <p>An expression is any valid unit of code that resolves to a value. Expressions are the building blocks of JavaScript statements. Think of expressions as phrases that can be evaluated to produce a result.</p>
            
            <div class="code-example">
                <h3>Types of Expressions</h3>
                
                <h4>Arithmetic Expressions</h4>
                <pre><code>// Simple arithmetic
let result = 10 + 5;  // 15

// Complex calculation
let area = Math.PI * radius * radius;

// Function call with arithmetic
let rounded = Math.round(3.14159 * 1000) / 1000;  // 3.142</code></pre>
                
                <h4>String Expressions</h4>
                <pre><code>// String concatenation
let greeting = "Hello, " + firstName + " " + lastName;

// Template literal
let welcome = `Welcome to ${siteName}, ${username}!`;

// Multi-part string operation
let truncated = text.substring(0, 100) + (text.length > 100 ? "..." : "");</code></pre>
                
                <h4>Logical Expressions</h4>
                <pre><code>// Combining conditions
let isEligible = age >= 18 && hasValidID;

// Complex business logic
let canProceed = (isAdmin || hasPermission) && isResourceAvailable && !isMaintenance;</code></pre>
                
                <h4>Assignment Expressions</h4>
                <pre><code>// Assignment as an expression (returns the assigned value)
let a, b;
console.log(a = b = 5);  // 5

// Chained assignment in context
function initializeCounters() {
    let i, j, k;
    return (i = j = k = 0);  // Returns 0 and initializes all variables
}</code></pre>
                
                <h4>Function Call Expressions</h4>
                <pre><code>// Basic function call
let result = calculateTotal(subtotal, tax);

// Nested function calls
let formattedResult = formatCurrency(calculateTotal(subtotal, getTaxRate(location)));</code></pre>
            </div>
            
            <div class="expressions-context">
                <h3>Where Expressions Can Be Used</h3>
                <ul>
                    <li><strong>Variable assignments</strong>: <code>let x = 5 * 10;</code></li>
                    <li><strong>Function arguments</strong>: <code>console.log(a + b);</code></li>
                    <li><strong>Return statements</strong>: <code>return isValid ? data : null;</code></li>
                    <li><strong>Conditions</strong>: <code>if (score >= passingGrade) { ... }</code></li>
                    <li><strong>Array elements</strong>: <code>[1, 2, 3+4, x*2]</code></li>
                    <li><strong>Object properties</strong>: <code>{ id: generateId(), name: firstName + " " + lastName }</code></li>
                    <li><strong>Template literals</strong>: <code>`You scored ${score}/${total} (${(score/total*100).toFixed(1)}%)`</code></li>
                </ul>
            </div>
            
            <div class="real-world-example">
                <h3>Real-World Example: Dynamic Report Generator</h3>
                <pre><code>function generateSalesReport(salesData, timeFrame, options = {}) {
    // Set defaults using expressions
    const currency = options.currency || "USD";
    const target = options.targetAmount || 10000;
    const includeDetails = options.showDetails !== undefined ? options.showDetails : true;
    
    // Calculate metrics using expressions
    const totalSales = salesData.reduce((sum, sale) => sum + sale.amount, 0);
    const highestSale = Math.max(...salesData.map(sale => sale.amount));
    const averageSale = totalSales / (salesData.length || 1); // Avoid division by zero
    const targetPercentage = (totalSales / target) * 100;
    const targetMet = totalSales >= target;
    
    // Generate summary using expressions in template literals
    const summary = {
        title: `Sales Report: ${timeFrame}`,
        overview: `Total sales: ${formatCurrency(totalSales, currency)} 
                  (${targetPercentage.toFixed(1)}% of ${formatCurrency(target, currency)} target)`,
        status: targetMet ? "Target achieved! 🎉" : `${formatCurrency(target - totalSales, currency)} below target`,
        performance: totalSales > target * 1.2 ? "Exceptional" : 
                     totalSales >= target ? "On Target" : 
                     totalSales >= target * 0.8 ? "Below Target" : "Needs Attention",
        topSale: formatCurrency(highestSale, currency),
        averageSale: formatCurrency(averageSale, currency)
    };
    
    // Conditionally include detailed breakdown based on an expression
    if (includeDetails && salesData.length > 0) {
        summary.details = salesData.map(sale => ({
            id: sale.id,
            date: formatDate(sale.date),
            amount: formatCurrency(sale.amount, currency),
            customer: sale.customerName || "Anonymous",
            product: sale.productName,
            profit: formatCurrency(sale.amount - (sale.cost || 0), currency)
        }));
        
        // Additional analytics using expressions
        summary.analytics = {
            salesByDay: groupSalesByDay(salesData),
            topProducts: getTopProducts(salesData, 5),
            growthRate: calculateGrowthRate(salesData, timeFrame),
            forecastNextPeriod: forecastSales(salesData, timeFrame)
        };
    }
    
    return summary;
}

// Helper function with expression
function formatCurrency(amount, currency = "USD") {
    return new Intl.NumberFormat('en-US', { 
        style: 'currency', 
        currency: currency 
    }).format(amount);
}</code></pre>
            </div>
            
            <div class="side-effects">
                <h3>Expressions with Side Effects</h3>
                <p>Some expressions not only produce a value but also change something (a side effect).</p>
                <pre><code>// Assignment operators have side effects (change variable values)
let counter = 0;
counter++;  // Side effect: counter is now 1, expression value is 0
++counter;  // Side effect: counter is now 2, expression value is 2

// Function calls can have side effects
document.getElementById('message').textContent = 'Hello';  // DOM modification
console.log('Testing');  // Console output
localStorage.setItem('lastVisit', new Date().toString());  // Storage modification

// Method calls can modify their objects
let arr = [1, 2, 3];
arr.push(4);  // Side effect: array is now [1,2,3,4], expression value is 4</code></pre>
                
                <h4>Avoiding Unintended Side Effects</h4>
                <pre><code>// Potential bug with side effects in conditions
let count = 1;
if (count++ > 1) {  // count is incremented, but the comparison uses the original value
    console.log('Count is greater than 1');  // Not executed
}
console.log(count);  // 2

// Better approach
let count = 1;
if (count > 1) {
    console.log('Count is greater than 1');
}
count++;  // Clearer intent

// Another example: unintended side effect with &&
function saveData() {
    console.log('Data saved');
    return true;
}

let isValid = false;
let result = isValid && saveData();  // saveData() never runs because of short-circuiting</code></pre>
            </div>
        </section>

        <section class="practical_examples">
            <h2>Advanced Practical Examples with Operators and Expressions</h2>
            
            <div class="code-example">
                <h3>Data Transformation</h3>
                <pre><code>// Transform raw user data into a formatted display object
function formatUserData(rawUser) {
    return {
        displayName: rawUser.firstName && rawUser.lastName 
            ? `${rawUser.firstName} ${rawUser.lastName}` 
            : rawUser.username || "Anonymous User",
            
        contactInfo: rawUser.email 
            ? `${rawUser.email}${rawUser.phone ? ` | ${formatPhone(rawUser.phone)}` : ''}`
            : "No contact info provided",
            
        status: rawUser.lastLogin 
            ? (new Date() - new Date(rawUser.lastLogin)) / (1000 * 60 * 60 * 24) < 7
                ? "Active" 
                : "Inactive"
            : "New User",
            
        membership: (rawUser.memberSince && rawUser.subscriptionTier)
            ? `${rawUser.subscriptionTier} (Member for ${getMembershipDuration(rawUser.memberSince)})`
            : "Non-member",
            
        profileComplete: calculateProfileCompleteness(rawUser) + "%"
    };
}

// Sample usage
const userData = {
    username: "jsmith",
    firstName: "John",
    lastName: "Smith",
    email: "john.smith@example.com",
    phone: "5551234567",
    lastLogin: "2025-04-20T14:30:00Z",
    memberSince: "2024-01-15T09:15:00Z",
    subscriptionTier: "Premium",
    profileImg: "https://example.com/profiles/jsmith.jpg",
    bio: "Software developer with a passion for JavaScript",
    location: "San Francisco, CA"
};

const formattedUser = formatUserData(userData);</code></pre>
            </div>
            
            <div class="code-example">
                <h3>Dynamic Styling with Conditional Expressions</h3>
                <pre><code>// Generate CSS classes based on data state
function getButtonClasses(button) {
    return `btn 
        ${button.size === 'large' ? 'btn-lg' : 
          button.size === 'small' ? 'btn-sm' : 'btn-md'}
        ${button.isPrimary ? 'btn-primary' : 'btn-secondary'}
        ${button.isOutlined ? 'btn-outlined' : ''}
        ${button.isDisabled ? 'disabled' : ''}
        ${button.hasIcon ? 'with-icon' : ''}
        ${button.isFullWidth ? 'btn-block' : ''}
        ${button.isLoading ? 'btn-loading' : ''}`.trim().replace(/\s+/g, ' ');
}

// Sample usage
const buttonState = {
    size: 'large',
    isPrimary: true,
    isOutlined: false,
    isDisabled: false,
    hasIcon: true,
    isFullWidth: true,
    isLoading: false
};

const element = document.getElementById('submit-button');
element.className = getButtonClasses(buttonState);  // "btn btn-lg btn-primary with-icon btn-block"</code></pre>
            </div>
            
            <div class="code-example">
                <h3>Complex Filtering and Sorting</h3>
                <pre><code>// Filter and sort a product list with multiple criteria
function filterProducts(products, filters) {
    return products
        .filter(product => {
            // Apply all active filters using logical operators
            return (
                // Category filter
                (!filters.category || product.category === filters.category) &&
                
                // Price range filter
                (!filters.minPrice || product.price >= filters.minPrice) &&
                (!filters.maxPrice || product.price <= filters.maxPrice) &&
                
                // Rating filter
                (!filters.minRating || product.rating >= filters.minRating) &&
                
                // Availability filter
                (!filters.inStockOnly || product.stock > 0) &&
                
                // Search term filter (check in name and description)
                (!filters.searchTerm || 
                  product.name.toLowerCase().includes(filters.searchTerm.toLowerCase()) ||
                  product.description.toLowerCase().includes(filters.searchTerm.toLowerCase()))
            );
        })
        .sort((a, b) => {
            // Apply sorting based on selected sort option
            switch(filters.sortBy) {
                case 'priceAsc':
                    return a.price - b.price;
                case 'priceDesc':
                    return b.price - a.price;
                case 'rating':
                    return b.rating - a.rating;
                case 'newest':
                    return new Date(b.dateAdded) - new Date(a.dateAdded);
                case 'popularity':
                    return b.salesCount - a.salesCount;
                case 'name':
                    return a.name.localeCompare(b.name);
                default:
                    return 0;
            }
        });
}

// Sample usage
const productFilters = {
    category: "electronics",
    minPrice: 100,
    maxPrice: 500,
    minRating: 4,
    inStockOnly: true,
    searchTerm: "bluetooth",
    sortBy: "rating"
};

const filteredAndSortedProducts = filterProducts(allProducts, productFilters);</code></pre>
            </div>
        </section>

        <section class="debugging">
            <h2>Debugging Common Operator and Expression Issues</h2>
            
            <div class="common-issues">
                <h3>Common Pitfalls and Solutions</h3>
                
                <h4>Unexpected Type Conversion</h4>
                <pre><code>// Problem: Unexpected string concatenation instead of addition
let score = "10";
let bonus = 5;
let total = score + bonus;  // "105" (string concatenation) instead of 15

// Solution: Explicitly convert the string to a number
let total = Number(score) + bonus;  // 15

// Problem: Comparing numbers with strings
let threshold = "100";
let value = 100;
if (value == threshold) {  // true (loose equality)
    console.log("Equal");
}

// Solution: Use strict equality
if (value === threshold) {  // false (different types)
    console.log("Equal types and values");
}</code></pre>
                
                <h4>Incorrect Operator Precedence</h4>
                <pre><code>// Problem: Unexpected order of operations
let result = 2 + 3 * 4;  // 14, not 20
let condition = x > 5 && y > 5 || z > 5;  // Might not behave as expected

// Solution: Use parentheses to clarify intent
let result = (2 + 3) * 4;  // 20
let condition = (x > 5 && y > 5) || z > 5;  // Clear grouping</code></pre>
                
                <h4>Assignment vs. Equality Check</h4>
                <pre><code>// Problem: Using assignment instead of comparison
let x = 10;
if (x = 5) {  // Assigns 5 to x and then evaluates to 5 (truthy)
    console.log("This always runs");
}
console.log(x);  // 5

// Solution: Use equality operator
let x = 10;
if (x === 5) {  // Compares x to 5
    console.log("This only runs if x is 5");
}</code></pre>
                
                <h4>Short-Circuit Evaluation Errors</h4>
                <pre><code>// Problem: Relying on short-circuit with side effects
function processUser(user) {
    // This may not execute the function if user is falsy
    let isAdmin = user && user.checkAdminStatus();
    
    // This might cause an error if user is null/undefined
    let userName = user.name || "Guest";
}

// Solution: More explicit conditional checks
function processUser(user) {
    // More explicit handling
    let isAdmin = false;
    if (user) {
        isAdmin = user.checkAdminStatus();
    }
    
    // Safe property access
    let userName = user ? user.name || "Guest" : "Guest";
}</code></pre>
            </div>
            
            <div class="debugging-tools">
                <h3>Using Console to Debug Expressions</h3>
                <pre><code>// Log intermediate values in complex expressions
let complex = a * (b + c) / d;
console.log("a:", a, "b:", b, "c:", c, "d:", d);
console.log("b + c:", b + c);
console.log("a * (b + c):", a * (b + c));
console.log("Final result:", complex);

// Debugging logical conditions
let condition = age >= 18 && (hasID || hasPassport) && !isRestricted;
console.log("Age check:", age >= 18);
console.log("ID check:", hasID || hasPassport);
console.log("Restriction check:", !isRestricted);
console.log("Full condition:", condition);</code></pre>
                
                <h3>Using Browser Debugger</h3>
                <p>The browser's built-in debugger is a powerful tool for examining expressions step by step:</p>
                <ol>
                    <li>Add the <code>debugger;</code> statement in your code where you want to pause execution</li>
                    <li>Use the browser's developer tools to step through code and see each expression evaluation</li>
                    <li>Add watch expressions to monitor specific values</li>
                    <li>Examine the call stack and scope variables</li>
                </ol>
                <pre><code>function calculateTotal(items) {
    let subtotal = 0;
    debugger;  // Execution will pause here when dev tools are open
    
    for (let i = 0; i < items.length; i++) {
        subtotal += items[i].price * items[i].quantity;
    }
    
    const tax = subtotal * 0.07;
    const shipping = subtotal > 50 ? 0 : 9.99;
    const total = subtotal + tax + shipping;
    
    return {
        subtotal,
        tax,
        shipping,
        total
    };
}</code></pre>
            </div>
        </section>

        <section class="best_practices">
            <h2>Best Practices for Working with Operators and Expressions</h2>
            
            <div class="practices-list">
                <h3>Clarity and Readability</h3>
                <ul>
                    <li><strong>Use parentheses liberally</strong> to clarify the intended order of operations</li>
                    <li><strong>Break complex expressions</strong> into smaller, named variables</li>
                    <li><strong>Choose clarity over brevity</strong> when writing expressions</li>
                    <li><strong>Avoid deep nesting</strong> of conditional (ternary) operators</li>
                    <li><strong>Include whitespace</strong> around operators for better readability</li>
                </ul>
                
                <h3>Correctness and Safety</h3>
                <ul>
                    <li><strong>Use strict equality operators</strong> (=== and !==) rather than loose equality (== and !=)</li>
                    <li><strong>Be careful with type conversions</strong> and make them explicit when needed</li>
                    <li><strong>Guard against potential nulls/undefined</strong> with optional chaining or checks</li>
                    <li><strong>Avoid assignments in conditional expressions</strong> to prevent accidental bugs</li>
                    <li><strong>Consider edge cases</strong> like division by zero or empty arrays</li>
                </ul>
                
                <h3>Maintenance and Future-Proofing</h3>
                <ul>
                    <li><strong>Extract complex logic</strong> into well-named functions</li>
                    <li><strong>Comment on non-obvious expressions</strong> to explain intent</li>
                    <li><strong>Use constants</strong> for fixed values rather than magic numbers</li>
                    <li><strong>Test expressions</strong> with a variety of inputs to verify correctness</li>
                    <li><strong>Consider using modern JavaScript features</strong> like optional chaining and nullish coalescing</li>
                </ul>
            </div>
            
            <div class="code-example">
                <h3>Before and After: Improving Expression Clarity</h3>
                
                <h4>Before</h4>
                <pre><code>// Hard to read and understand
function calculatePrice(product, quantity, coupon, user) {
    return (product.price * (1 - (coupon && coupon.valid && !coupon.expired ? 
        coupon.percentOff / 100 : 0)) * quantity) * 
        (1 + (product.taxable ? 0.07 : 0)) + 
        (quantity * product.price < 50 && !user.premiumMember ? 4.99 : 0);
}</code></pre>
                
                <h4>After</h4>
                <pre><code>function calculatePrice(product, quantity, coupon, user) {
    // Calculate base price
    const basePrice = product.price * quantity;
    
    // Apply discount if valid coupon
    const hasCouponDiscount = coupon && coupon.valid && !coupon.expired;
    const discountRate = hasCouponDiscount ? coupon.percentOff / 100 : 0;
    const discountedPrice = basePrice * (1 - discountRate);
    
    // Apply tax if product is taxable
    const TAX_RATE = 0.07;
    const taxAmount = product.taxable ? discountedPrice * TAX_RATE : 0;
    
    // Apply shipping fee if order is small and user isn't premium
    const SHIPPING_THRESHOLD = 50;
    const SHIPPING_FEE = 4.99;
    const qualifiesForFreeShipping = basePrice >= SHIPPING_THRESHOLD || user.premiumMember;
    const shippingCost = qualifiesForFreeShipping ? 0 : SHIPPING_FEE;
    
    // Return total price
    return discountedPrice + taxAmount + shippingCost;
}</code></pre>
            </div>
        </section>

        <section class="resources">
            <h2>Additional Resources</h2>
            <p>Deepen your understanding of JavaScript operators and expressions with these valuable resources:</p>
            
            <div class="resource-list">
                <h3>Documentation</h3>
                <ul>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators" target="_blank">MDN: Expressions and Operators</a> - Comprehensive reference and examples</li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Operator_Precedence" target="_blank">MDN: Operator Precedence</a> - Detailed precedence table</li>
                </ul>
                
                <h3>Interactive Learning</h3>
                <ul>
                    <li><a href="https://javascript.info/operators" target="_blank">JavaScript.info: Operators</a> - Clear explanations with interactive examples</li>
                    <li><a href="https://www.codecademy.com/learn/introduction-to-javascript" target="_blank">Codecademy: JavaScript Course</a> - Step-by-step interactive learning</li>
                </ul>
                
                <h3>Tools for Practice</h3>
                <ul>
                    <li><a href="https://jsconsole.com/" target="_blank">JS Console</a> - Simple JavaScript console for testing expressions</li>
                    <li><a href="https://codeinterpret.herokuapp.com/js-operators/" target="_blank">JavaScript Operator Tester</a> - Tool to experiment with operators</li>
                </ul>
            </div>
        </section>

        <section class="exercises">
            <h2>Practice Exercises</h2>
            <p>Reinforce your understanding with these hands-on exercises:</p>
            
            <div class="exercise-list">
                <h3>Basic Exercises</h3>
                <ol>
                    <li><strong>Calculator</strong>: Create a function that takes two numbers and an operator (+, -, *, /, %) as arguments and returns the result</li>
                    <li><strong>Temperature Converter</strong>: Write functions to convert between Celsius and Fahrenheit using arithmetic operators</li>
                    <li><strong>User Validation</strong>: Create expressions to check if a username meets requirements (minimum length, no spaces, etc.)</li>
                </ol>
                
                <h3>Intermediate Exercises</h3>
                <ol>
                    <li><strong>Shopping Cart Total</strong>: Calculate a cart total with tax, discounts, and shipping based on various conditions</li>
                    <li><strong>Password Strength Checker</strong>: Use logical operators to verify password criteria (length, uppercase, numbers, special chars)</li>
                    <li><strong>Dynamic Greeting</strong>: Create a function that returns different greetings based on time of day, user status, and language preference</li>
                </ol>
                
                <h3>Advanced Exercises</h3>
                <ol>
                    <li><strong>Permission System</strong>: Implement a bitwise operator-based permission system with functions to check, grant, and revoke permissions</li>
                    <li><strong>Form Field Validator</strong>: Build a robust validation system for form fields with detailed error messages</li>
                    <li><strong>Expression Evaluator</strong>: Create a function that can evaluate mathematical expressions given as strings, respecting operator precedence</li>
                </ol>
            </div>
            
            <div class="challenge">
                <h3>Challenge: Mini Expression Parser</h3>
                <p>Create a simple expression parser that can evaluate basic arithmetic expressions with proper operator precedence.</p>
                <pre><code>// Example challenge starter code
function evaluateExpression(expr) {
    // Remove all whitespace
    expr = expr.replace(/\s+/g, '');
    
    // TODO: Implement a parser that respects operator precedence
    // Hint: Try using a recursive approach to handle parentheses first,
    // then multiplication/division, then addition/subtraction
    
    return result;
}

// Test with expressions like:
// evaluateExpression("3 + 4 * 2"); // Should return 11
// evaluateExpression("(3 + 4) * 2"); // Should return 14
// evaluateExpression("10 / 2 + 3"); // Should return 8</code></pre>
            </div>
        </section>

        <section class="key_takeaways">
            <h2>Key Takeaways</h2>
            <div class="takeaways-list">
                <ul>
                    <li>JavaScript operators allow you to perform operations on values like arithmetic, assignment, comparison, and logical operations</li>
                    <li>Expressions are units of code that produce values, from simple variables to complex calculations</li>
                    <li>Understanding operator precedence is crucial for writing correct expressions</li>
                    <li>Type conversion can cause unexpected results; use strict equality (===) for safer comparisons</li>
                    <li>Use parentheses and intermediate variables to make complex expressions more readable</li>
                    <li>Logical operators can short-circuit, which is both a powerful tool and a potential source of bugs</li>
                    <li>Modern JavaScript provides helpful operators like nullish coalescing (??) and optional chaining (?.) for safer expressions</li>
                </ul>
            </div>
        </section>
    </main>
    
    <footer>
        <p>&copy; 2025 PHP WordPress Development Course</p>
        <p><a href="index.html">Back to Syllabus</a> | <a href="control_flow.html">Next Topic: Control Flow</a></p>
    </footer>
</body>
</html>
