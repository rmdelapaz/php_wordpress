<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="ie=edge" http-equiv="X-UA-Compatible"/>
  <!-- SEO Meta Tags -->
  <title>Handling Result Sets - PHP MySQL Data Processing - PHP WordPress Course</title>
  <meta content="Master handling MySQL result sets in PHP, pagination, filtering, sorting, and data transformation techniques" name="description"/>
  <meta content="PHP, MySQL, result sets, pagination, data processing, filtering, sorting" name="keywords"/>
  <meta content="PHP WordPress Course" name="author"/>
  <link href="/assets/css/main.css" rel="stylesheet"/>
  <link href="/assets/css/sidebar-enhanced.css" rel="stylesheet"/>
  <link href="/assets/css/sidebar-toggle.css" rel="stylesheet"/>
  <!-- Favicon -->
  <link href="/favicon.png" rel="icon" type="image/png"/>
  <link href="/favicon.png" rel="apple-touch-icon"/>
  <!-- CSS -->
  <link href="/assets/css/sidebar-enhanced.css" rel="stylesheet"/>
  <link href="/assets/css/sidebar-toggle.css" rel="stylesheet"/>
 </head>
 <body>
  <!-- Skip to main content -->
  <a class="sr-only" href="#main-content">Skip to main content</a>
  <div class="page-wrapper">
   <!-- Header -->
   <header class="site-header" role="banner">
    <div class="header-container">
     <div class="site-branding">
      <a class="site-logo" href="/">
       <h1 class="site-title">PHP WordPress Development</h1>
      </a>
     </div>
     <nav aria-label="Main navigation" class="main-navigation" role="navigation">
      <button aria-expanded="false" aria-label="Toggle navigation" class="mobile-menu-btn">
       <span>
       </span>
       <span>
       </span>
       <span>
       </span>
      </button>
      <div class="nav-menu">
       <ul class="nav-list">
        <li class="nav-item">
         <a class="nav-link" href="/">Home</a>
        </li>
        <li class="nav-item dropdown">
         <button aria-haspopup="true" class="nav-link dropdown-toggle active">Modules</button>
         <div class="dropdown-menu">
          <a class="dropdown-item" href="/module1.html">Module 1: Web Fundamentals</a>
          <a class="dropdown-item" href="/module2.html">Module 2: PHP Fundamentals</a>
          <a class="dropdown-item active" href="/module3.html">Module 3: MySQL Database</a>
          <a class="dropdown-item" href="/module4.html">Module 4: WordPress &amp; Docker</a>
          <a class="dropdown-item" href="/module5.html">Module 5: Theme Development</a>
          <a class="dropdown-item" href="/module6.html">Module 6: Plugin Development</a>
          <a class="dropdown-item" href="/module7.html">Module 7: Advanced WordPress</a>
          <a class="dropdown-item" href="/module8.html">Module 8: Deployment</a>
          <a class="dropdown-item" href="/module9.html">Module 9: Final Project</a>
         </div>
        </li>
        <li class="nav-item">
         <a class="nav-link" href="/resources.html">Resources</a>
        </li>
        <li class="nav-item">
         <a class="nav-link" href="/about.html">About</a>
        </li>
       </ul>
      </div>
     </nav>
     <div class="search-container">
      <div class="search-input-wrapper">
       <svg class="search-icon" fill="currentColor" height="20" viewbox="0 0 20 20" width="20">
        <path clip-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" fill-rule="evenodd">
        </path>
       </svg>
       <input aria-label="Search" class="search-input" placeholder="Search lessons..." type="search"/>
      </div>
      <div class="search-results">
      </div>
     </div>
    </div>
   </header>
   <!-- Progress Bar -->
   <div class="progress-container">
    <div class="progress-header">
     <h2 class="progress-title">Course Progress</h2>
     <span class="progress-text">Loading...</span>
    </div>
    <div class="progress-bar">
     <div class="progress-bar-fill">
      <span class="progress-bar-text">
      </span>
     </div>
    </div>
   </div>
   <!-- Breadcrumb -->
   <nav aria-label="Breadcrumb" class="breadcrumb container">
    <ol class="breadcrumb-list">
     <li class="breadcrumb-item">
      <a href="/">Home</a>
      <span class="breadcrumb-separator">/</span>
     </li>
     <li class="breadcrumb-item">
      <a href="/module3.html">Module 3</a>
      <span class="breadcrumb-separator">/</span>
     </li>
     <li class="breadcrumb-item">
      <span aria-current="page">Result Sets</span>
     </li>
    </ol>
   </nav>
   <!-- Main Content -->
   <main class="main-content" id="main-content" role="main">
    <div class="container">
     <div class="content-with-sidebar">
      <!-- Sidebar -->
      <aside class="sidebar">
    <div class="sidebar-nav">
        <h3 class="sidebar-title">Module 3: MySQL Database</h3>
        <div class="sidebar-section">
            <h4 class="sidebar-section-title">Session 5: PHP and MySQL Integration</h4>
            <ul class="sidebar-menu">
                <li><a class="sidebar-link" href="/03module/connecting_mysql.html">Connecting to MySQL with PHP</a></li>
                <li><a class="sidebar-link" href="/03module/executing_queries.html">Executing SQL queries through PHP</a></li>
                <li><a class="sidebar-link" href="/03module/prepared_statements.html">Prepared statements and security concerns</a></li>
                <li><a class="sidebar-link" href="/03module/crud_operations.html">CRUD operations in PHP applications</a></li>
                <li class="active"><a class="sidebar-link active" href="/03module/result_sets.html">Handling results sets</a></li>
                <li><a class="sidebar-link" href="/03module/error_debugging.html">Error handling and debugging</a></li>
                <li><a class="sidebar-link" href="/03module/php_mysql_integration.html">Final Project: Build a complete data-driven PHP application with MySQL backend</a></li>
            </ul>
        </div>
        <div class="sidebar-section">
            <h4 class="sidebar-section-title">Quick Links</h4>
            <ul class="sidebar-menu">
                <li><a class="sidebar-link" href="/module3.html">Module Overview</a></li>
                <li><a class="sidebar-link prev-session" href="/03module/sql_joins.html">‚Üê Prev: Advanced SQL</a></li>
                <li><a class="sidebar-link" href="/">‚Üê Course Home</a></li>
                <li><a class="sidebar-link" href="/module4.html">Next Module ‚Üí</a></li>
                <li><a class="sidebar-link" href="/resources.html">Resources</a></li>
            </ul>
        </div>
    </div>
</aside>
      <!-- Main Lesson Content -->
      <article class="lesson-content">
       <header class="lesson-header">
        <h1>Handling Result Sets</h1>
        <div class="lesson-meta">
         <div class="lesson-meta-item">
          <svg fill="currentColor" height="20" width="20">
           <path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z">
           </path>
          </svg>
          <span>Duration: 90 minutes</span>
         </div>
         <div class="lesson-meta-item">
          <svg fill="currentColor" height="20" width="20">
           <path d="M12 14l9-5-9-5-9 5 9 5z">
           </path>
          </svg>
          <span>Module 3: Data Processing</span>
         </div>
        </div>
       </header>
       <!-- Learning Objectives -->
       <div class="lesson-objectives">
        <h2>Learning Objectives</h2>
        <ul>
         <li>Master different fetch methods and modes</li>
         <li>Implement efficient pagination systems</li>
         <li>Build advanced search and filtering</li>
         <li>Create dynamic sorting mechanisms</li>
         <li>Handle large datasets efficiently</li>
         <li>Transform and format data for display</li>
         <li>Export data in various formats</li>
         <li>Optimize memory usage with result sets</li>
        </ul>
       </div>
       <!-- Lesson Body -->
       <div class="lesson-body">
        <section>
         <h2>Understanding Result Sets</h2>
         <p class="lead">Result sets are the data returned from database queries. Let's master how to efficiently process and display this data! üìä</p>
         <canvas height="450" id="resultCanvas" width="600">
         </canvas>
         <script>const ctx = document.getElementById('resultCanvas').getContext('2d');
                                    
                                    // Title
                                    ctx.font = 'bold 18px Arial';
                                    ctx.fillStyle = '#1f2937';
                                    ctx.fillText('Result Set Processing Flow', 180, 30);
                                    
                                    // Database
                                    ctx.fillStyle = '#e9d5ff';
                                    ctx.fillRect(50, 60, 150, 80);
                                    ctx.strokeStyle = '#7c3aed';
                                    ctx.lineWidth = 2;
                                    ctx.strokeRect(50, 60, 150, 80);
                                    
                                    ctx.fillStyle = '#7c3aed';
                                    ctx.font = 'bold 12px Arial';
                                    ctx.fillText('MySQL Database', 80, 85);
                                    ctx.font = '10px Arial';
                                    ctx.fillStyle = '#374151';
                                    ctx.fillText('1000+ records', 95, 105);
                                    ctx.fillText('Multiple tables', 93, 120);
                                    
                                    // Query
                                    ctx.fillStyle = '#dbeafe';
                                    ctx.fillRect(250, 60, 150, 80);
                                    ctx.strokeStyle = '#2563eb';
                                    ctx.strokeRect(250, 60, 150, 80);
                                    
                                    ctx.fillStyle = '#1e40af';
                                    ctx.font = 'bold 12px Arial';
                                    ctx.fillText('Query Execution', 285, 85);
                                    ctx.font = '10px Arial';
                                    ctx.fillStyle = '#374151';
                                    ctx.fillText('SELECT * FROM...', 270, 105);
                                    ctx.fillText('WHERE, ORDER BY', 270, 120);
                                    
                                    // Result Set
                                    ctx.fillStyle = '#dcfce7';
                                    ctx.fillRect(450, 60, 120, 80);
                                    ctx.strokeStyle = '#16a34a';
                                    ctx.strokeRect(450, 60, 120, 80);
                                    
                                    ctx.fillStyle = '#166534';
                                    ctx.font = 'bold 12px Arial';
                                    ctx.fillText('Result Set', 475, 85);
                                    ctx.font = '10px Arial';
                                    ctx.fillStyle = '#374151';
                                    ctx.fillText('Raw data', 480, 105);
                                    ctx.fillText('Multiple rows', 470, 120);
                                    
                                    // Arrows
                                    ctx.strokeStyle = '#6b7280';
                                    ctx.lineWidth = 2;
                                    ctx.beginPath();
                                    ctx.moveTo(200, 100);
                                    ctx.lineTo(250, 100);
                                    ctx.stroke();
                                    
                                    ctx.beginPath();
                                    ctx.moveTo(400, 100);
                                    ctx.lineTo(450, 100);
                                    ctx.stroke();
                                    
                                    // Processing Options
                                    const options = [
                                        { text: 'Fetch Methods', x: 50, y: 180, color: '#fef3c7', border: '#ca8a04',
                                          items: ['fetch()', 'fetchAll()', 'fetchColumn()', 'fetchObject()'] },
                                        { text: 'Fetch Modes', x: 220, y: 180, color: '#fee2e2', border: '#dc2626',
                                          items: ['FETCH_ASSOC', 'FETCH_NUM', 'FETCH_OBJ', 'FETCH_CLASS'] },
                                        { text: 'Processing', x: 390, y: 180, color: '#e0f2fe', border: '#0891b2',
                                          items: ['Pagination', 'Filtering', 'Sorting', 'Transformation'] }
                                    ];
                                    
                                    options.forEach(opt =>{
                                        ctx.fillStyle = opt.color;
                                        ctx.fillRect(opt.x, opt.y, 160, 120);
                                        ctx.strokeStyle = opt.border;
                                        ctx.strokeRect(opt.x, opt.y, 160, 120);
                                        
                                        ctx.fillStyle = opt.border;
                                        ctx.font = 'bold 11px Arial';
                                        ctx.fillText(opt.text, opt.x + 40, opt.y + 20);
                                        
                                        ctx.fillStyle = '#374151';
                                        ctx.font = '9px Arial';
                                        opt.items.forEach((item, i) =>{
                                            ctx.fillText(`‚Ä¢ ${item}`, opt.x + 10, opt.y + 45 + (i * 15));
                                        });
                                    });
                                    
                                    // Output formats
                                    ctx.fillStyle = '#f3f4f6';
                                    ctx.fillRect(50, 320, 520, 100);
                                    ctx.strokeStyle = '#6b7280';
                                    ctx.strokeRect(50, 320, 520, 100);
                                    
                                    ctx.fillStyle = '#1f2937';
                                    ctx.font = 'bold 12px Arial';
                                    ctx.fillText('Output Formats', 260, 340);
                                    
                                    ctx.font = '10px Arial';
                                    const outputs = ['HTML Tables', 'JSON API', 'CSV Export', 'XML Feed', 'PDF Reports', 'Charts/Graphs'];
                                    outputs.forEach((output, i) =>{
                                        const x = 70 + (i % 3) * 180;
                                        const y = 360 + Math.floor(i / 3) * 20;
                                        ctx.fillText(`‚úì ${output}`, x, y);
                                    });</script>
         <div class="alert alert-info">
          <div class="alert-icon">üí°</div>
          <div class="alert-content">
           <div class="alert-title">Result Set Key Concepts</div>
           <div class="alert-message">
            <ul>
             <li>
              <strong>Fetch Methods:</strong>Different ways to retrieve data from result sets</li>
             <li>
              <strong>Fetch Modes:</strong>Control the format of returned data</li>
             <li>
              <strong>Buffered vs Unbuffered:</strong>Memory management strategies</li>
             <li>
              <strong>Cursor Position:</strong>Track current position in result set</li>
             <li>
              <strong>Memory Efficiency:</strong>Handle large datasets without exhausting memory</li>
            </ul>
           </div>
          </div>
         </div>
        </section>
        <section>
         <h2>Fetch Methods and Modes</h2>
         <div class="mermaid">graph TB
                                        RESULT[Result Set] --&gt; FETCH[Fetch Methods]
                                        
                                        FETCH --&gt; SINGLE[Single Row]
                                        FETCH --&gt; MULTI[Multiple Rows]
                                        FETCH --&gt; COLUMN[Single Column]
                                        
                                        SINGLE --&gt; |fetch| ASSOC[Associative Array]
                                        SINGLE --&gt; |fetch| NUM[Numeric Array]
                                        SINGLE --&gt; |fetch| OBJ[Object]
                                        
                                        MULTI --&gt; |fetchAll| ALL[All Rows]
                                        COLUMN --&gt; |fetchColumn| COL[Column Values]
                                        
                                        style RESULT fill:#e9d5ff
                                        style FETCH fill:#dbeafe
                                        style SINGLE fill:#dcfce7
                                        style MULTI fill:#fef3c7</div>
         <div class="real_world_example">
          <h3>Working with Different Fetch Methods</h3>
          <pre><code class="language-php">&lt;?php
// ========================================
// FETCH METHODS COMPARISON
// ========================================

class ResultSetHandler {
    private $pdo;
    
    public function __construct(PDO $pdo) {
        $this-&gt;pdo = $pdo;
    }
    
    /**
     * Demonstrate different fetch methods
     */
    public function demonstrateFetchMethods() {
        $sql = "SELECT id, name, email, created_at FROM users LIMIT 5";
        $stmt = $this-&gt;pdo-&gt;query($sql);
        
        // ========================================
        // FETCH() - Single row at a time
        // ========================================
        echo "=== FETCH() - One row at a time ===\n";
        $stmt = $this-&gt;pdo-&gt;query($sql);
        while ($row = $stmt-&gt;fetch()) {
            echo "User: {$row['name']} ({$row['email']})\n";
        }
        
        // ========================================
        // FETCHALL() - All rows at once
        // ========================================
        echo "\n=== FETCHALL() - All rows ===\n";
        $stmt = $this-&gt;pdo-&gt;query($sql);
        $allUsers = $stmt-&gt;fetchAll();
        foreach ($allUsers as $user) {
            echo "User: {$user['name']}\n";
        }
        
        // ========================================
        // FETCHCOLUMN() - Single column value
        // ========================================
        echo "\n=== FETCHCOLUMN() - Single column ===\n";
        $sql = "SELECT COUNT(*) FROM users WHERE status = 'active'";
        $count = $this-&gt;pdo-&gt;query($sql)-&gt;fetchColumn();
        echo "Active users: $count\n";
        
        // Get specific column
        $sql = "SELECT name FROM users WHERE id = 1";
        $name = $this-&gt;pdo-&gt;query($sql)-&gt;fetchColumn();
        echo "User name: $name\n";
    }
    
    /**
     * Demonstrate different fetch modes
     */
    public function demonstrateFetchModes() {
        $sql = "SELECT id, name, email FROM users LIMIT 3";
        
        // ========================================
        // PDO::FETCH_ASSOC - Associative array
        // ========================================
        echo "=== FETCH_ASSOC ===\n";
        $stmt = $this-&gt;pdo-&gt;query($sql);
        $stmt-&gt;setFetchMode(PDO::FETCH_ASSOC);
        $row = $stmt-&gt;fetch();
        print_r($row);
        // Output: Array([id] =&gt; 1, [name] =&gt; John, [email] =&gt; john@example.com)
        
        // ========================================
        // PDO::FETCH_NUM - Numeric array
        // ========================================
        echo "\n=== FETCH_NUM ===\n";
        $stmt = $this-&gt;pdo-&gt;query($sql);
        $stmt-&gt;setFetchMode(PDO::FETCH_NUM);
        $row = $stmt-&gt;fetch();
        print_r($row);
        // Output: Array([0] =&gt; 1, [1] =&gt; John, [2] =&gt; john@example.com)
        
        // ========================================
        // PDO::FETCH_BOTH - Both numeric and associative
        // ========================================
        echo "\n=== FETCH_BOTH ===\n";
        $stmt = $this-&gt;pdo-&gt;query($sql);
        $stmt-&gt;setFetchMode(PDO::FETCH_BOTH);
        $row = $stmt-&gt;fetch();
        print_r($row);
        // Has both numeric and associative keys
        
        // ========================================
        // PDO::FETCH_OBJ - Anonymous object
        // ========================================
        echo "\n=== FETCH_OBJ ===\n";
        $stmt = $this-&gt;pdo-&gt;query($sql);
        $stmt-&gt;setFetchMode(PDO::FETCH_OBJ);
        $user = $stmt-&gt;fetch();
        echo "Name: {$user-&gt;name}, Email: {$user-&gt;email}\n";
        
        // ========================================
        // PDO::FETCH_CLASS - Into specific class
        // ========================================
        echo "\n=== FETCH_CLASS ===\n";
        
        class User {
            public $id;
            public $name;
            public $email;
            
            public function getInfo() {
                return "{$this-&gt;name} ({$this-&gt;email})";
            }
        }
        
        $stmt = $this-&gt;pdo-&gt;query($sql);
        $stmt-&gt;setFetchMode(PDO::FETCH_CLASS, 'User');
        $user = $stmt-&gt;fetch();
        echo $user-&gt;getInfo() . "\n";
        
        // ========================================
        // PDO::FETCH_KEY_PAIR - Key-value pairs
        // ========================================
        echo "\n=== FETCH_KEY_PAIR ===\n";
        $sql = "SELECT id, name FROM users LIMIT 5";
        $users = $this-&gt;pdo-&gt;query($sql)-&gt;fetchAll(PDO::FETCH_KEY_PAIR);
        print_r($users);
        // Output: Array([1] =&gt; John, [2] =&gt; Jane, ...)
        
        // ========================================
        // PDO::FETCH_GROUP - Group by first column
        // ========================================
        echo "\n=== FETCH_GROUP ===\n";
        $sql = "SELECT category_id, name FROM products";
        $stmt = $this-&gt;pdo-&gt;query($sql);
        $products = $stmt-&gt;fetchAll(PDO::FETCH_GROUP | PDO::FETCH_COLUMN);
        // Groups products by category_id
        
        // ========================================
        // PDO::FETCH_UNIQUE - Indexed by unique column
        // ========================================
        echo "\n=== FETCH_UNIQUE ===\n";
        $sql = "SELECT id, name, email FROM users";
        $users = $this-&gt;pdo-&gt;query($sql)-&gt;fetchAll(PDO::FETCH_UNIQUE);
        // Array indexed by ID
    }
    
    /**
     * Memory-efficient processing of large result sets
     */
    public function processLargeResultSet() {
        // Use unbuffered query for large datasets
        $this-&gt;pdo-&gt;setAttribute(PDO::MYSQL_ATTR_USE_BUFFERED_QUERY, false);
        
        $sql = "SELECT * FROM large_table";
        $stmt = $this-&gt;pdo-&gt;query($sql);
        
        $processedCount = 0;
        $batchSize = 1000;
        $batch = [];
        
        while ($row = $stmt-&gt;fetch(PDO::FETCH_ASSOC)) {
            $batch[] = $row;
            
            if (count($batch) &gt;= $batchSize) {
                $this-&gt;processBatch($batch);
                $batch = [];
                $processedCount += $batchSize;
                
                echo "Processed: $processedCount rows\n";
                
                // Free some memory
                if ($processedCount % 10000 == 0) {
                    gc_collect_cycles();
                }
            }
        }
        
        // Process remaining batch
        if (!empty($batch)) {
            $this-&gt;processBatch($batch);
        }
        
        // Re-enable buffered queries
        $this-&gt;pdo-&gt;setAttribute(PDO::MYSQL_ATTR_USE_BUFFERED_QUERY, true);
    }
    
    private function processBatch($batch) {
        // Process batch of records
        foreach ($batch as $record) {
            // Process each record
        }
    }
}</code></pre>
         </div>
        </section>
        <section>
         <h2>Pagination Implementation</h2>
         <canvas height="300" id="paginationCanvas" width="600">
         </canvas>
         <script>const pCtx = document.getElementById('paginationCanvas').getContext('2d');
                                    
                                    // Title
                                    pCtx.font = 'bold 16px Arial';
                                    pCtx.fillStyle = '#1f2937';
                                    pCtx.fillText('Pagination Strategy', 240, 30);
                                    
                                    // Total records
                                    pCtx.fillStyle = '#e9d5ff';
                                    pCtx.fillRect(50, 60, 500, 40);
                                    pCtx.strokeStyle = '#7c3aed';
                                    pCtx.lineWidth = 2;
                                    pCtx.strokeRect(50, 60, 500, 40);
                                    
                                    pCtx.fillStyle = '#7c3aed';
                                    pCtx.font = '12px Arial';
                                    pCtx.fillText('Total: 1000 records', 250, 85);
                                    
                                    // Pages
                                    const pages = [
                                        { page: 1, start: 1, end: 20, x: 50 },
                                        { page: 2, start: 21, end: 40, x: 150 },
                                        { page: 3, start: 41, end: 60, x: 250 },
                                        { page: '...', start: '', end: '', x: 350 },
                                        { page: 50, start: 981, end: 1000, x: 450 }
                                    ];
                                    
                                    pages.forEach((p, i) =>{
                                        // Page box
                                        const color = i === 2 ? '#dcfce7' : '#f3f4f6';
                                        const border = i === 2 ? '#16a34a' : '#6b7280';
                                        
                                        pCtx.fillStyle = color;
                                        pCtx.fillRect(p.x, 120, 80, 60);
                                        pCtx.strokeStyle = border;
                                        pCtx.strokeRect(p.x, 120, 80, 60);
                                        
                                        // Page number
                                        pCtx.fillStyle = i === 2 ? '#166534' : '#1f2937';
                                        pCtx.font = 'bold 14px Arial';
                                        pCtx.fillText(`Page ${p.page}`, p.x + 15, 145);
                                        
                                        // Records range
                                        if (p.start) {
                                            pCtx.font = '10px Arial';
                                            pCtx.fillStyle = '#6b7280';
                                            pCtx.fillText(`${p.start}-${p.end}`, p.x + 20, 165);
                                        }
                                    });
                                    
                                    // SQL query
                                    pCtx.fillStyle = '#fef3c7';
                                    pCtx.fillRect(50, 200, 500, 80);
                                    pCtx.strokeStyle = '#ca8a04';
                                    pCtx.strokeRect(50, 200, 500, 80);
                                    
                                    pCtx.fillStyle = '#92400e';
                                    pCtx.font = '11px Courier';
                                    pCtx.fillText('SELECT * FROM products', 60, 220);
                                    pCtx.fillText('ORDER BY created_at DESC', 60, 235);
                                    pCtx.fillText('LIMIT 20 OFFSET 40  -- Page 3: (3-1) * 20 = 40', 60, 250);
                                    pCtx.fillText('-- Formula: OFFSET = (page - 1) * per_page', 60, 265);</script>
         <div class="best_practice">
          <h3>Advanced Pagination System</h3>
          <pre><code class="language-php">&lt;?php
// ========================================
// PAGINATION CLASS
// ========================================

class Paginator {
    private $pdo;
    private $table;
    private $perPage;
    private $currentPage;
    private $totalRecords;
    private $totalPages;
    
    public function __construct(PDO $pdo, $table, $perPage = 20) {
        $this-&gt;pdo = $pdo;
        $this-&gt;table = $table;
        $this-&gt;perPage = $perPage;
    }
    
    /**
     * Get paginated results
     */
    public function paginate($page = 1, $conditions = [], $orderBy = 'id DESC') {
        $this-&gt;currentPage = max(1, (int)$page);
        
        // Build WHERE clause
        $where = $this-&gt;buildWhereClause($conditions);
        
        // Count total records
        $countSql = "SELECT COUNT(*) FROM {$this-&gt;table} {$where}";
        $this-&gt;totalRecords = $this-&gt;pdo-&gt;query($countSql)-&gt;fetchColumn();
        $this-&gt;totalPages = ceil($this-&gt;totalRecords / $this-&gt;perPage);
        
        // Adjust current page if out of range
        if ($this-&gt;currentPage &gt; $this-&gt;totalPages &amp;&amp; $this-&gt;totalPages &gt; 0) {
            $this-&gt;currentPage = $this-&gt;totalPages;
        }
        
        // Calculate offset
        $offset = ($this-&gt;currentPage - 1) * $this-&gt;perPage;
        
        // Get records for current page
        $sql = "SELECT * FROM {$this-&gt;table} 
                {$where} 
                ORDER BY {$orderBy} 
                LIMIT {$this-&gt;perPage} OFFSET {$offset}";
        
        $stmt = $this-&gt;pdo-&gt;query($sql);
        $data = $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);
        
        return [
            'data' =&gt; $data,
            'pagination' =&gt; $this-&gt;getPaginationInfo()
        ];
    }
    
    /**
     * Get pagination information
     */
    public function getPaginationInfo() {
        return [
            'total' =&gt; $this-&gt;totalRecords,
            'per_page' =&gt; $this-&gt;perPage,
            'current_page' =&gt; $this-&gt;currentPage,
            'last_page' =&gt; $this-&gt;totalPages,
            'from' =&gt; ($this-&gt;currentPage - 1) * $this-&gt;perPage + 1,
            'to' =&gt; min($this-&gt;currentPage * $this-&gt;perPage, $this-&gt;totalRecords),
            'prev_page' =&gt; $this-&gt;currentPage &gt; 1 ? $this-&gt;currentPage - 1 : null,
            'next_page' =&gt; $this-&gt;currentPage &lt; $this-&gt;totalPages ? $this-&gt;currentPage + 1 : null,
            'links' =&gt; $this-&gt;generatePageLinks()
        ];
    }
    
    /**
     * Generate page links for UI
     */
    private function generatePageLinks($maxLinks = 7) {
        $links = [];
        
        if ($this-&gt;totalPages &lt;= $maxLinks) {
            // Show all pages
            for ($i = 1; $i &lt;= $this-&gt;totalPages; $i++) {
                $links[] = [
                    'page' =&gt; $i,
                    'active' =&gt; $i === $this-&gt;currentPage
                ];
            }
        } else {
            // Show limited pages with ellipsis
            $halfLinks = floor($maxLinks / 2);
            $start = max(1, $this-&gt;currentPage - $halfLinks);
            $end = min($this-&gt;totalPages, $this-&gt;currentPage + $halfLinks);
            
            // Always show first page
            if ($start &gt; 1) {
                $links[] = ['page' =&gt; 1, 'active' =&gt; false];
                if ($start &gt; 2) {
                    $links[] = ['page' =&gt; '...', 'active' =&gt; false];
                }
            }
            
            // Middle pages
            for ($i = $start; $i &lt;= $end; $i++) {
                $links[] = [
                    'page' =&gt; $i,
                    'active' =&gt; $i === $this-&gt;currentPage
                ];
            }
            
            // Always show last page
            if ($end &lt; $this-&gt;totalPages) {
                if ($end &lt; $this-&gt;totalPages - 1) {
                    $links[] = ['page' =&gt; '...', 'active' =&gt; false];
                }
                $links[] = ['page' =&gt; $this-&gt;totalPages, 'active' =&gt; false];
            }
        }
        
        return $links;
    }
    
    /**
     * Build WHERE clause from conditions
     */
    private function buildWhereClause($conditions) {
        if (empty($conditions)) {
            return '';
        }
        
        $clauses = [];
        foreach ($conditions as $field =&gt; $value) {
            if (is_array($value)) {
                // IN clause
                $placeholders = str_repeat('?,', count($value) - 1) . '?';
                $clauses[] = "{$field} IN ({$placeholders})";
            } else {
                $clauses[] = "{$field} = ?";
            }
        }
        
        return 'WHERE ' . implode(' AND ', $clauses);
    }
    
    /**
     * Render pagination HTML
     */
    public function renderPagination($baseUrl = '') {
        $info = $this-&gt;getPaginationInfo();
        
        $html = '&lt;nav aria-label="Pagination"&gt;';
        $html .= '&lt;ul class="pagination"&gt;';
        
        // Previous button
        if ($info['prev_page']) {
            $html .= '&lt;li class="page-item"&gt;';
            $html .= '&lt;a class="page-link" href="' . $baseUrl . '?page=' . $info['prev_page'] . '"&gt;Previous&lt;/a&gt;';
            $html .= '&lt;/li&gt;';
        } else {
            $html .= '&lt;li class="page-item disabled"&gt;';
            $html .= '&lt;span class="page-link"&gt;Previous&lt;/span&gt;';
            $html .= '&lt;/li&gt;';
        }
        
        // Page numbers
        foreach ($info['links'] as $link) {
            if ($link['page'] === '...') {
                $html .= '&lt;li class="page-item disabled"&gt;';
                $html .= '&lt;span class="page-link"&gt;...&lt;/span&gt;';
                $html .= '&lt;/li&gt;';
            } else {
                $active = $link['active'] ? 'active' : '';
                $html .= '&lt;li class="page-item ' . $active . '"&gt;';
                $html .= '&lt;a class="page-link" href="' . $baseUrl . '?page=' . $link['page'] . '"&gt;';
                $html .= $link['page'] . '&lt;/a&gt;';
                $html .= '&lt;/li&gt;';
            }
        }
        
        // Next button
        if ($info['next_page']) {
            $html .= '&lt;li class="page-item"&gt;';
            $html .= '&lt;a class="page-link" href="' . $baseUrl . '?page=' . $info['next_page'] . '"&gt;Next&lt;/a&gt;';
            $html .= '&lt;/li&gt;';
        } else {
            $html .= '&lt;li class="page-item disabled"&gt;';
            $html .= '&lt;span class="page-link"&gt;Next&lt;/span&gt;';
            $html .= '&lt;/li&gt;';
        }
        
        $html .= '&lt;/ul&gt;';
        $html .= '&lt;/nav&gt;';
        
        // Info text
        $html .= '&lt;p class="pagination-info"&gt;';
        $html .= "Showing {$info['from']} to {$info['to']} of {$info['total']} entries";
        $html .= '&lt;/p&gt;';
        
        return $html;
    }
}

// Usage Example
$paginator = new Paginator($pdo, 'products', 20);
$result = $paginator-&gt;paginate($_GET['page'] ?? 1);

// Display data
foreach ($result['data'] as $product) {
    echo $product['name'] . '&lt;br&gt;';
}

// Display pagination
echo $paginator-&gt;renderPagination('/products');</code></pre>
         </div>
        </section>
        <section>
         <h2>Advanced Filtering and Searching</h2>
         <div class="homework">
          <h3>Dynamic Filter System</h3>
          <pre><code class="language-php">&lt;?php
// ========================================
// ADVANCED FILTER CLASS
// ========================================

class DataFilter {
    private $pdo;
    private $query;
    private $bindings = [];
    private $table;
    
    public function __construct(PDO $pdo, $table) {
        $this-&gt;pdo = $pdo;
        $this-&gt;table = $table;
        $this-&gt;query = "SELECT * FROM {$table}";
    }
    
    /**
     * Add search condition
     */
    public function search($fields, $searchTerm) {
        if (empty($searchTerm)) {
            return $this;
        }
        
        $conditions = [];
        foreach ($fields as $field) {
            $conditions[] = "{$field} LIKE :search_{$field}";
            $this-&gt;bindings[":search_{$field}"] = '%' . $searchTerm . '%';
        }
        
        $this-&gt;addWhere('(' . implode(' OR ', $conditions) . ')');
        
        return $this;
    }
    
    /**
     * Add exact match filter
     */
    public function where($field, $operator, $value = null) {
        if ($value === null) {
            $value = $operator;
            $operator = '=';
        }
        
        $placeholder = ':where_' . str_replace('.', '_', $field);
        $this-&gt;addWhere("{$field} {$operator} {$placeholder}");
        $this-&gt;bindings[$placeholder] = $value;
        
        return $this;
    }
    
    /**
     * Add IN condition
     */
    public function whereIn($field, array $values) {
        if (empty($values)) {
            return $this;
        }
        
        $placeholders = [];
        foreach ($values as $i =&gt; $value) {
            $placeholder = ":in_{$field}_{$i}";
            $placeholders[] = $placeholder;
            $this-&gt;bindings[$placeholder] = $value;
        }
        
        $this-&gt;addWhere("{$field} IN (" . implode(', ', $placeholders) . ")");
        
        return $this;
    }
    
    /**
     * Add date range filter
     */
    public function dateRange($field, $startDate, $endDate) {
        if ($startDate) {
            $this-&gt;where($field, '&gt;=', $startDate);
        }
        
        if ($endDate) {
            $this-&gt;where($field, '&lt;=', $endDate);
        }
        
        return $this;
    }
    
    /**
     * Add price/number range filter
     */
    public function numberRange($field, $min, $max) {
        if ($min !== null) {
            $this-&gt;where($field, '&gt;=', $min);
        }
        
        if ($max !== null) {
            $this-&gt;where($field, '&lt;=', $max);
        }
        
        return $this;
    }
    
    /**
     * Add sorting
     */
    public function orderBy($field, $direction = 'ASC') {
        // Validate direction
        $direction = strtoupper($direction) === 'DESC' ? 'DESC' : 'ASC';
        
        // Validate field (whitelist approach)
        $allowedFields = $this-&gt;getAllowedSortFields();
        if (!in_array($field, $allowedFields)) {
            $field = 'id'; // Default
        }
        
        $this-&gt;query .= " ORDER BY {$field} {$direction}";
        
        return $this;
    }
    
    /**
     * Execute query and get results
     */
    public function get($limit = null, $offset = null) {
        if ($limit !== null) {
            $this-&gt;query .= " LIMIT " . (int)$limit;
            
            if ($offset !== null) {
                $this-&gt;query .= " OFFSET " . (int)$offset;
            }
        }
        
        $stmt = $this-&gt;pdo-&gt;prepare($this-&gt;query);
        $stmt-&gt;execute($this-&gt;bindings);
        
        return $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);
    }
    
    /**
     * Get count of filtered results
     */
    public function count() {
        $countQuery = str_replace('SELECT *', 'SELECT COUNT(*) as count', $this-&gt;query);
        
        $stmt = $this-&gt;pdo-&gt;prepare($countQuery);
        $stmt-&gt;execute($this-&gt;bindings);
        
        return $stmt-&gt;fetchColumn();
    }
    
    /**
     * Add WHERE clause
     */
    private function addWhere($condition) {
        if (strpos($this-&gt;query, 'WHERE') === false) {
            $this-&gt;query .= " WHERE " . $condition;
        } else {
            $this-&gt;query .= " AND " . $condition;
        }
    }
    
    /**
     * Get allowed sort fields (security)
     */
    private function getAllowedSortFields() {
        // This should be customized per table
        return ['id', 'name', 'price', 'created_at', 'updated_at'];
    }
}

// ========================================
// USAGE EXAMPLE
// ========================================

// Build complex filter from user input
$filter = new DataFilter($pdo, 'products');

$results = $filter
    -&gt;search(['name', 'description'], $_GET['q'] ?? '')
    -&gt;whereIn('category_id', $_GET['categories'] ?? [])
    -&gt;numberRange('price', $_GET['min_price'] ?? null, $_GET['max_price'] ?? null)
    -&gt;dateRange('created_at', $_GET['from_date'] ?? null, $_GET['to_date'] ?? null)
    -&gt;where('status', 'active')
    -&gt;orderBy($_GET['sort'] ?? 'name', $_GET['order'] ?? 'ASC')
    -&gt;get(20, (($_GET['page'] ?? 1) - 1) * 20);

// Get total count for pagination
$totalCount = $filter-&gt;count();</code></pre>
         </div>
        </section>
        <!-- Practice Exercise -->
        <section>
         <h2>Practice Exercise</h2>
         <div class="alert alert-success">
          <div class="alert-icon">üíª</div>
          <div class="alert-content">
           <div class="alert-title">Result Set Challenges</div>
           <div class="alert-message">Implement these features:<ol>
             <li>Build an infinite scroll pagination system</li>
             <li>Create a multi-column sortable table</li>
             <li>Implement faceted search with filters</li>
             <li>Build CSV/Excel export functionality</li>
             <li>Create a data grid with inline editing</li>
             <li>Implement real-time search suggestions</li>
             <li>Build a report generator with charts</li>
             <li>Create a batch processing system</li>
            </ol>
           </div>
          </div>
         </div>
        </section>
        <!-- Resources -->
        <section class="resources">
         <h2>Additional Resources</h2>
         <ul>
          <li>
           <a href="https://www.php.net/manual/en/pdostatement.fetch.php" target="_blank">PDO Fetch Documentation</a>
          </li>
          <li>
           <a href="https://phpdelusions.net/pdo/fetch_modes" target="_blank">PDO Fetch Modes Guide</a>
          </li>
          <li>
           <a href="https://www.php.net/manual/en/mysqli-result.fetch-array.php" target="_blank">MySQLi Result Methods</a>
          </li>
          <li>
           <a href="https://datatables.net/" target="_blank">DataTables jQuery Plugin</a>
          </li>
         </ul>
        </section>
       </div>
       <!-- Lesson Navigation -->
       <div class="lesson-navigation">
        <a class="lesson-nav-button prev" href="/03module/crud_operations.html">
         <svg fill="currentColor" height="20" viewbox="0 0 20 20" width="20">
          <path d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z">
          </path>
         </svg>
         <span>
          <small>Previous</small>
          <br/>CRUD Operations</span>
        </a>
        <button class="complete-lesson-btn">Mark as Complete</button>
        <a class="lesson-nav-button next" href="/03module/error_debugging.html">
         <span>
          <small>Next</small>
          <br/>Error Handling</span>
         <svg fill="currentColor" height="20" viewbox="0 0 20 20" width="20">
          <path d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z">
          </path>
         </svg>
        </a>
       </div>
      </article>
     </div>
    </div>
   </main>
   <!-- Footer -->
   <footer class="site-footer" role="contentinfo">
    <div class="footer-container">
     <div class="footer-content">
      <div class="footer-section footer-about">
       <h3>PHP WordPress Development</h3>
       <p>Complete Web Development Course</p>
      </div>
      <div class="footer-section">
       <h4>Quick Links</h4>
       <ul class="footer-links">
        <li>
         <a href="/">Home</a>
        </li>
        <li>
         <a class="active" href="/module3.html">Module 3</a>
        </li>
        <li>
         <a href="/resources.html">Resources</a>
        </li>
       </ul>
      </div>
      <div class="footer-section">
       <h4>Support</h4>
       <ul class="footer-links">
        <li>
         <a href="/help.html">Help Center</a>
        </li>
        <li>
         <a href="/faq.html">FAQ</a>
        </li>
        <li>
         <a href="/contact.html">Contact</a>
        </li>
       </ul>
      </div>
     </div>
     <div class="footer-bottom">
      <div class="footer-bottom-content">
       <p class="copyright">¬© 2025 PHP WordPress Development Course</p>
       <nav class="footer-bottom-links">
        <a href="/privacy.html">Privacy</a>
        <span class="separator">|</span>
        <a href="/terms.html">Terms</a>
       </nav>
      </div>
     </div>
    </div>
   </footer>
  </div>
  <!-- Back to Top -->
  <button aria-label="Back to top" class="back-to-top" id="back-to-top">
   <svg fill="none" height="24" stroke="currentColor" stroke-width="2" viewbox="0 0 24 24" width="24">
    <path d="M12 19V5M12 5l-7 7M12 5l7 7">
    </path>
   </svg>
  </button>
  <!-- JavaScript -->
  <script src="/assets/js/navigation.js">
  </script>
  <script src="/assets/js/site-config.js">
  </script>
  <script src="/assets/js/sidebar-toggle.js">
  </script>
  <!-- Universal Mermaid Fix (Enhanced) -->
  <!-- Universal Mermaid Fix -->
  <script src="/assets/js/mermaid-universal-fix.js">
  </script>
 </body>
</html>
