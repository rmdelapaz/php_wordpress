<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="ie=edge" http-equiv="X-UA-Compatible"/>
  <!-- SEO Meta Tags -->
  <title>Homework: E-Commerce Database Design - PHP WordPress Course</title>
  <meta content="Design a fully normalized database schema for an e-commerce website with proper relationships and constraints" name="description"/>
  <meta content="PHP, WordPress, MySQL, database design, e-commerce, normalization, homework" name="keywords"/>
  <meta content="PHP WordPress Course" name="author"/>
  <link href="/assets/css/main.css" rel="stylesheet"/>
  <link href="/assets/css/sidebar-enhanced.css" rel="stylesheet"/>
  <link href="/assets/css/sidebar-toggle.css" rel="stylesheet"/>
  <!-- Favicon -->
  <link href="/favicon.png" rel="icon" type="image/png"/>
  <link href="/favicon.png" rel="apple-touch-icon"/>
  <!-- CSS -->
  <link href="/assets/css/sidebar-enhanced.css" rel="stylesheet"/>
  <link href="/assets/css/sidebar-toggle.css" rel="stylesheet"/>
 </head>
 <body>
  <!-- Skip to main content -->
  <a class="sr-only" href="#main-content">Skip to main content</a>
  <div class="page-wrapper">
   <!-- Header -->
   <header class="site-header" role="banner">
    <div class="header-container">
     <div class="site-branding">
      <a class="site-logo" href="/">
       <h1 class="site-title">PHP WordPress Development</h1>
      </a>
     </div>
     <nav aria-label="Main navigation" class="main-navigation" role="navigation">
      <button aria-expanded="false" aria-label="Toggle navigation" class="mobile-menu-btn">
       <span>
       </span>
       <span>
       </span>
       <span>
       </span>
      </button>
      <div class="nav-menu">
       <ul class="nav-list">
        <li class="nav-item">
         <a class="nav-link" href="/">Home</a>
        </li>
        <li class="nav-item dropdown">
         <button aria-haspopup="true" class="nav-link dropdown-toggle active">Modules</button>
         <div class="dropdown-menu">
          <a class="dropdown-item" href="/module1.html">Module 1: Web Fundamentals</a>
          <a class="dropdown-item" href="/module2.html">Module 2: PHP Fundamentals</a>
          <a class="dropdown-item active" href="/module3.html">Module 3: MySQL Database</a>
          <a class="dropdown-item" href="/module4.html">Module 4: WordPress &amp; Docker</a>
          <a class="dropdown-item" href="/module5.html">Module 5: Theme Development</a>
          <a class="dropdown-item" href="/module6.html">Module 6: Plugin Development</a>
          <a class="dropdown-item" href="/module7.html">Module 7: Advanced WordPress</a>
          <a class="dropdown-item" href="/module8.html">Module 8: Deployment</a>
          <a class="dropdown-item" href="/module9.html">Module 9: Final Project</a>
         </div>
        </li>
        <li class="nav-item">
         <a class="nav-link" href="/resources.html">Resources</a>
        </li>
        <li class="nav-item">
         <a class="nav-link" href="/about.html">About</a>
        </li>
       </ul>
      </div>
     </nav>
     <div class="search-container">
      <div class="search-input-wrapper">
       <svg class="search-icon" fill="currentColor" height="20" viewbox="0 0 20 20" width="20">
        <path clip-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" fill-rule="evenodd">
        </path>
       </svg>
       <input aria-label="Search" class="search-input" placeholder="Search lessons..." type="search"/>
      </div>
      <div class="search-results">
      </div>
     </div>
    </div>
   </header>
   <!-- Progress Bar -->
   <div class="progress-container">
    <div class="progress-header">
     <h2 class="progress-title">Course Progress</h2>
     <span class="progress-text">Loading...</span>
    </div>
    <div class="progress-bar">
     <div class="progress-bar-fill">
      <span class="progress-bar-text">
      </span>
     </div>
    </div>
   </div>
   <!-- Breadcrumb -->
   <nav aria-label="Breadcrumb" class="breadcrumb container">
    <ol class="breadcrumb-list">
     <li class="breadcrumb-item">
      <a href="/">Home</a>
      <span class="breadcrumb-separator">/</span>
     </li>
     <li class="breadcrumb-item">
      <a href="/module3.html">Module 3</a>
      <span class="breadcrumb-separator">/</span>
     </li>
     <li class="breadcrumb-item">
      <span aria-current="page">Homework: E-Commerce Database</span>
     </li>
    </ol>
   </nav>
   <!-- Main Content -->
   <main class="main-content" id="main-content" role="main">
    <div class="container">
     <div class="content-with-sidebar">
      <!-- Sidebar -->
      <aside class="sidebar">
    <div class="sidebar-nav">
        <h3 class="sidebar-title">Module 3: MySQL Database</h3>
        <div class="sidebar-section">
            <h4 class="sidebar-section-title">Session 2: Database Design</h4>
            <ul class="sidebar-menu">
                <li><a class="sidebar-link" href="/03module/data_modeling_concepts.html">Data modeling concepts</a></li>
                <li><a class="sidebar-link" href="/03module/entity_relationship_diagrams.html">Entity-Relationship diagrams</a></li>
                <li><a class="sidebar-link" href="/03module/normalization_principles.html">Normalization principles (1NF, 2NF, 3NF)</a></li>
                <li><a class="sidebar-link" href="/03module/primary_foreign_keys.html">Primary keys and foreign keys</a></li>
                <li><a class="sidebar-link" href="/03module/indexes_importance.html">Indexes and their importance</a></li>
                <li><a class="sidebar-link" href="/03module/database_constraints.html">Database constraints</a></li>
                <li class="active"><a class="sidebar-link active" href="/03module/homework_database_design.html">Homework: Design a normalized database for an e-commerce website</a></li>
            </ul>
        </div>
        <div class="sidebar-section">
            <h4 class="sidebar-section-title">Quick Links</h4>
            <ul class="sidebar-menu">
                <li><a class="sidebar-link" href="/module3.html">Module Overview</a></li>
                <li><a class="sidebar-link prev-session" href="/03module/database_concepts_terminology.html">‚Üê Prev: Session 1</a></li>
                <li><a class="sidebar-link next-session" href="/03module/sql_syntax_conventions.html">Next: SQL Fundamentals ‚Üí</a></li>
                <li><a class="sidebar-link" href="/">‚Üê Course Home</a></li>
                <li><a class="sidebar-link" href="/module4.html">Next Module ‚Üí</a></li>
                <li><a class="sidebar-link" href="/resources.html">Resources</a></li>
            </ul>
        </div>
    </div>
</aside>
      <!-- Main Lesson Content -->
      <article class="lesson-content">
       <header class="lesson-header">
        <h1>Homework: E-Commerce Database Design</h1>
        <div class="lesson-meta">
         <div class="lesson-meta-item">
          <svg fill="currentColor" height="20" width="20">
           <path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z">
           </path>
          </svg>
          <span>Estimated Time: 2-3 hours</span>
         </div>
         <div class="lesson-meta-item">
          <svg fill="currentColor" height="20" width="20">
           <path d="M12 14l9-5-9-5-9 5 9 5z">
           </path>
          </svg>
          <span>Module 3: Session 2 Homework</span>
         </div>
        </div>
       </header>
       <!-- Assignment Overview -->
       <div class="lesson-objectives">
        <h2>Assignment Overview</h2>
        <p class="lead">Design and implement a complete, normalized database schema for an e-commerce website similar to Amazon or Shopify. Apply all the concepts learned in Session 2!</p>
        <div class="alert alert-info">
         <div class="alert-icon">üéØ</div>
         <div class="alert-content">
          <div class="alert-title">Learning Goals</div>
          <div class="alert-message">This homework will test your understanding of:<ul>
            <li>Entity-Relationship modeling</li>
            <li>Database normalization (3NF)</li>
            <li>Primary and foreign keys</li>
            <li>Appropriate use of constraints</li>
            <li>Index optimization</li>
            <li>Real-world database design</li>
           </ul>
          </div>
         </div>
        </div>
       </div>
       <!-- Assignment Details -->
       <div class="lesson-body">
        <section>
         <h2>Business Requirements</h2>
         <canvas height="400" id="requirementsCanvas" width="600">
         </canvas>
         <script>const ctx = document.getElementById('requirementsCanvas').getContext('2d');
                                    
                                    // Title
                                    ctx.font = 'bold 18px Arial';
                                    ctx.fillStyle = '#1f2937';
                                    ctx.fillText('E-Commerce System Components', 180, 30);
                                    
                                    // User Management
                                    ctx.fillStyle = '#dbeafe';
                                    ctx.fillRect(50, 60, 160, 100);
                                    ctx.strokeStyle = '#2563eb';
                                    ctx.lineWidth = 2;
                                    ctx.strokeRect(50, 60, 160, 100);
                                    ctx.fillStyle = '#1e40af';
                                    ctx.font = 'bold 12px Arial';
                                    ctx.fillText('üë§ User Management', 70, 85);
                                    ctx.fillStyle = '#64748b';
                                    ctx.font = '10px Arial';
                                    ctx.fillText('‚Ä¢ Customer accounts', 60, 105);
                                    ctx.fillText('‚Ä¢ Addresses', 60, 120);
                                    ctx.fillText('‚Ä¢ Authentication', 60, 135);
                                    ctx.fillText('‚Ä¢ Wishlists', 60, 150);
                                    
                                    // Product Catalog
                                    ctx.fillStyle = '#dcfce7';
                                    ctx.fillRect(220, 60, 160, 100);
                                    ctx.strokeStyle = '#16a34a';
                                    ctx.strokeRect(220, 60, 160, 100);
                                    ctx.fillStyle = '#166534';
                                    ctx.font = 'bold 12px Arial';
                                    ctx.fillText('üì¶ Product Catalog', 240, 85);
                                    ctx.fillStyle = '#64748b';
                                    ctx.font = '10px Arial';
                                    ctx.fillText('‚Ä¢ Categories', 230, 105);
                                    ctx.fillText('‚Ä¢ Product variants', 230, 120);
                                    ctx.fillText('‚Ä¢ Inventory', 230, 135);
                                    ctx.fillText('‚Ä¢ Pricing', 230, 150);
                                    
                                    // Shopping Cart
                                    ctx.fillStyle = '#fef3c7';
                                    ctx.fillRect(390, 60, 160, 100);
                                    ctx.strokeStyle = '#ca8a04';
                                    ctx.strokeRect(390, 60, 160, 100);
                                    ctx.fillStyle = '#92400e';
                                    ctx.font = 'bold 12px Arial';
                                    ctx.fillText('üõí Shopping Cart', 415, 85);
                                    ctx.fillStyle = '#64748b';
                                    ctx.font = '10px Arial';
                                    ctx.fillText('‚Ä¢ Cart items', 400, 105);
                                    ctx.fillText('‚Ä¢ Session handling', 400, 120);
                                    ctx.fillText('‚Ä¢ Price calculation', 400, 135);
                                    ctx.fillText('‚Ä¢ Discounts', 400, 150);
                                    
                                    // Order Processing
                                    ctx.fillStyle = '#e9d5ff';
                                    ctx.fillRect(50, 180, 160, 100);
                                    ctx.strokeStyle = '#7c3aed';
                                    ctx.strokeRect(50, 180, 160, 100);
                                    ctx.fillStyle = '#6b21a8';
                                    ctx.font = 'bold 12px Arial';
                                    ctx.fillText('üìã Order Processing', 65, 205);
                                    ctx.fillStyle = '#64748b';
                                    ctx.font = '10px Arial';
                                    ctx.fillText('‚Ä¢ Order status', 60, 225);
                                    ctx.fillText('‚Ä¢ Order items', 60, 240);
                                    ctx.fillText('‚Ä¢ Shipping info', 60, 255);
                                    ctx.fillText('‚Ä¢ Order history', 60, 270);
                                    
                                    // Payments
                                    ctx.fillStyle = '#fee2e2';
                                    ctx.fillRect(220, 180, 160, 100);
                                    ctx.strokeStyle = '#dc2626';
                                    ctx.strokeRect(220, 180, 160, 100);
                                    ctx.fillStyle = '#991b1b';
                                    ctx.font = 'bold 12px Arial';
                                    ctx.fillText('üí≥ Payments', 255, 205);
                                    ctx.fillStyle = '#64748b';
                                    ctx.font = '10px Arial';
                                    ctx.fillText('‚Ä¢ Payment methods', 230, 225);
                                    ctx.fillText('‚Ä¢ Transactions', 230, 240);
                                    ctx.fillText('‚Ä¢ Refunds', 230, 255);
                                    ctx.fillText('‚Ä¢ Invoices', 230, 270);
                                    
                                    // Reviews & Ratings
                                    ctx.fillStyle = '#e0f2fe';
                                    ctx.fillRect(390, 180, 160, 100);
                                    ctx.strokeStyle = '#0891b2';
                                    ctx.strokeRect(390, 180, 160, 100);
                                    ctx.fillStyle = '#0c4a6e';
                                    ctx.font = 'bold 12px Arial';
                                    ctx.fillText('‚≠ê Reviews', 430, 205);
                                    ctx.fillStyle = '#64748b';
                                    ctx.font = '10px Arial';
                                    ctx.fillText('‚Ä¢ Product reviews', 400, 225);
                                    ctx.fillText('‚Ä¢ Ratings', 400, 240);
                                    ctx.fillText('‚Ä¢ Helpful votes', 400, 255);
                                    ctx.fillText('‚Ä¢ Q&A', 400, 270);
                                    
                                    // Additional Features
                                    ctx.fillStyle = '#f3f4f6';
                                    ctx.fillRect(50, 300, 500, 80);
                                    ctx.fillStyle = '#374151';
                                    ctx.font = 'bold 12px Arial';
                                    ctx.fillText('Additional Features to Consider:', 60, 320);
                                    ctx.font = '10px Arial';
                                    ctx.fillText('‚Ä¢ Coupons & Promotions', 60, 340);
                                    ctx.fillText('‚Ä¢ Gift Cards', 200, 340);
                                    ctx.fillText('‚Ä¢ Email Notifications', 300, 340);
                                    ctx.fillText('‚Ä¢ Analytics Tracking', 430, 340);
                                    ctx.fillText('‚Ä¢ Vendor Management (for marketplace)', 60, 360);
                                    ctx.fillText('‚Ä¢ Returns & Refunds', 250, 360);
                                    ctx.fillText('‚Ä¢ Customer Support Tickets', 380, 360);</script>
         <div class="best_practice">
          <h3>Detailed Requirements</h3>
          <h4>1. User Management</h4>
          <ul>
           <li>Customers can register and manage their profiles</li>
           <li>Multiple shipping and billing addresses per customer</li>
           <li>Password reset functionality</li>
           <li>Wishlist/Favorites functionality</li>
           <li>Order history tracking</li>
          </ul>
          <h4>2. Product Catalog</h4>
          <ul>
           <li>Hierarchical categories (parent-child relationships)</li>
           <li>Products can belong to multiple categories</li>
           <li>Product variants (size, color, etc.)</li>
           <li>Inventory tracking per variant</li>
           <li>Product images gallery</li>
           <li>Product attributes (brand, material, etc.)</li>
          </ul>
          <h4>3. Shopping Cart &amp; Orders</h4>
          <ul>
           <li>Persistent cart for logged-in users</li>
           <li>Guest checkout capability</li>
           <li>Order status workflow (pending ‚Üí processing ‚Üí shipped ‚Üí delivered)</li>
           <li>Order items with price at time of purchase</li>
           <li>Shipping methods and tracking</li>
          </ul>
          <h4>4. Payments</h4>
          <ul>
           <li>Multiple payment methods (credit card, PayPal, etc.)</li>
           <li>Transaction history</li>
           <li>Refund processing</li>
           <li>Invoice generation</li>
          </ul>
          <h4>5. Reviews &amp; Ratings</h4>
          <ul>
           <li>Product reviews with ratings (1-5 stars)</li>
           <li>Review helpfulness voting</li>
           <li>Verified purchase indicator</li>
           <li>Q&amp;A for products</li>
          </ul>
         </div>
        </section>
        <section>
         <h2>Part 1: Entity-Relationship Diagram</h2>
         <div class="alert alert-success">
          <div class="alert-icon">üìù</div>
          <div class="alert-content">
           <div class="alert-title">Task 1: Create an ER Diagram</div>
           <div class="alert-message">Design an ER diagram showing:<ul>
             <li>All entities (minimum 15 tables)</li>
             <li>Attributes for each entity</li>
             <li>Primary keys clearly marked</li>
             <li>Relationships with cardinality</li>
             <li>Foreign keys indicated</li>
            </ul>
            <br/>
            <strong>Tools you can use:</strong>draw.io, Lucidchart, MySQL Workbench, or hand-drawn</div>
          </div>
         </div>
         <div class="mermaid">erDiagram
                                        CUSTOMER ||--o{ ORDER : places
                                        CUSTOMER ||--o{ ADDRESS : has
                                        CUSTOMER ||--o{ CART : has
                                        CUSTOMER ||--o{ WISHLIST : has
                                        CUSTOMER ||--o{ REVIEW : writes
                                        
                                        PRODUCT ||--o{ CART_ITEM : contains
                                        PRODUCT ||--o{ ORDER_ITEM : contains
                                        PRODUCT ||--o{ PRODUCT_IMAGE : has
                                        PRODUCT ||--o{ REVIEW : receives
                                        PRODUCT }o--|| CATEGORY : belongs_to
                                        
                                        ORDER ||--|{ ORDER_ITEM : contains
                                        ORDER ||--|| PAYMENT : has
                                        ORDER ||--|| SHIPPING : has
                                        
                                        CART ||--|{ CART_ITEM : contains</div>
         <p>
          <em>This is a simplified example. Your diagram should be more detailed!</em>
         </p>
        </section>
        <section>
         <h2>Part 2: Normalization</h2>
         <div class="alert alert-success">
          <div class="alert-icon">üìù</div>
          <div class="alert-content">
           <div class="alert-title">Task 2: Apply Normalization</div>
           <div class="alert-message">Ensure your database design is in Third Normal Form (3NF):<ol>
             <li>
              <strong>1NF:</strong>Eliminate repeating groups, ensure atomic values</li>
             <li>
              <strong>2NF:</strong>Remove partial dependencies</li>
             <li>
              <strong>3NF:</strong>Remove transitive dependencies</li>
            </ol>
            <br/>Document any intentional denormalization and explain why.</div>
          </div>
         </div>
         <div class="real_world_example">
          <h3>Example: Normalizing Order Data</h3>
          <pre><code class="language-sql">-- Before normalization (problematic design)
CREATE TABLE orders_bad (
    order_id INT,
    customer_name VARCHAR(100),
    customer_email VARCHAR(100),
    customer_phone VARCHAR(20),
    product1_id INT,
    product1_name VARCHAR(100),
    product1_price DECIMAL(10,2),
    product1_quantity INT,
    product2_id INT,
    product2_name VARCHAR(100),
    product2_price DECIMAL(10,2),
    product2_quantity INT
    -- Problems: Repeating groups, redundancy, limited products
);

-- After normalization (proper design)
CREATE TABLE customers (
    customer_id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    phone VARCHAR(20)
);

CREATE TABLE orders (
    order_id INT AUTO_INCREMENT PRIMARY KEY,
    customer_id INT NOT NULL,
    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    total_amount DECIMAL(10,2),
    FOREIGN KEY (customer_id) REFERENCES customers(customer_id)
);

CREATE TABLE order_items (
    order_id INT,
    product_id INT,
    quantity INT NOT NULL,
    unit_price DECIMAL(10,2) NOT NULL,
    PRIMARY KEY (order_id, product_id),
    FOREIGN KEY (order_id) REFERENCES orders(order_id),
    FOREIGN KEY (product_id) REFERENCES products(product_id)
);</code></pre>
         </div>
        </section>
        <section>
         <h2>Part 3: Database Implementation</h2>
         <div class="alert alert-success">
          <div class="alert-icon">üìù</div>
          <div class="alert-content">
           <div class="alert-title">Task 3: Write SQL Scripts</div>
           <div class="alert-message">Create complete SQL scripts that include:<ol>
             <li>CREATE DATABASE statement</li>
             <li>All CREATE TABLE statements with:<ul>
               <li>Appropriate data types</li>
               <li>PRIMARY KEY constraints</li>
               <li>FOREIGN KEY constraints with CASCADE rules</li>
               <li>NOT NULL constraints where appropriate</li>
               <li>UNIQUE constraints for unique fields</li>
               <li>CHECK constraints for validation</li>
               <li>DEFAULT values where sensible</li>
              </ul>
             </li>
             <li>CREATE INDEX statements for optimization</li>
             <li>Sample INSERT statements (at least 5 per table)</li>
            </ol>
           </div>
          </div>
         </div>
         <pre><code class="language-sql">-- Your database should include tables similar to these:

CREATE DATABASE ecommerce_db;
USE ecommerce_db;

-- Categories table (hierarchical)
CREATE TABLE categories (
    category_id INT AUTO_INCREMENT PRIMARY KEY,
    parent_category_id INT,
    category_name VARCHAR(100) NOT NULL,
    slug VARCHAR(100) UNIQUE NOT NULL,
    description TEXT,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (parent_category_id) REFERENCES categories(category_id)
        ON DELETE SET NULL,
    INDEX idx_parent (parent_category_id),
    INDEX idx_slug (slug),
    INDEX idx_active (is_active)
);

-- Continue with all other tables...
-- Remember to include:
-- customers, addresses, products, product_variants, 
-- product_images, inventory, cart, cart_items,
-- orders, order_items, payments, shipping,
-- reviews, coupons, etc.</code></pre>
        </section>
        <section>
         <h2>Part 4: Advanced Features</h2>
         <div class="alert alert-success">
          <div class="alert-icon">üìù</div>
          <div class="alert-content">
           <div class="alert-title">Task 4: Implement Advanced Features</div>
           <div class="alert-message">Choose at least 3 of these advanced features to implement:<ul>
             <li>
              <strong>Audit Trail:</strong>Track all changes to orders</li>
             <li>
              <strong>Soft Deletes:</strong>Mark records as deleted without removing</li>
             <li>
              <strong>Price History:</strong>Track product price changes over time</li>
             <li>
              <strong>Multi-currency:</strong>Support multiple currencies</li>
             <li>
              <strong>Inventory Tracking:</strong>Real-time stock management</li>
             <li>
              <strong>Discount System:</strong>Complex coupon and promotion rules</li>
             <li>
              <strong>Search Optimization:</strong>Full-text search indexes</li>
            </ul>
           </div>
          </div>
         </div>
         <canvas height="300" id="advancedCanvas" width="600">
         </canvas>
         <script>const aCtx = document.getElementById('advancedCanvas').getContext('2d');
                                    
                                    // Title
                                    aCtx.font = 'bold 14px Arial';
                                    aCtx.fillStyle = '#1f2937';
                                    aCtx.fillText('Example: Audit Trail Implementation', 180, 25);
                                    
                                    // Original table
                                    aCtx.fillStyle = '#dbeafe';
                                    aCtx.fillRect(50, 50, 180, 100);
                                    aCtx.strokeStyle = '#2563eb';
                                    aCtx.lineWidth = 2;
                                    aCtx.strokeRect(50, 50, 180, 100);
                                    aCtx.fillStyle = '#1e40af';
                                    aCtx.font = 'bold 12px Arial';
                                    aCtx.fillText('orders table', 105, 75);
                                    aCtx.fillStyle = '#374151';
                                    aCtx.font = '10px Arial';
                                    aCtx.fillText('order_id: 1001', 60, 100);
                                    aCtx.fillText('status: shipped', 60, 115);
                                    aCtx.fillText('total: $299.99', 60, 130);
                                    
                                    // Arrow
                                    aCtx.strokeStyle = '#6b7280';
                                    aCtx.beginPath();
                                    aCtx.moveTo(230, 100);
                                    aCtx.lineTo(280, 100);
                                    aCtx.stroke();
                                    aCtx.fillStyle = '#dc2626';
                                    aCtx.font = '11px Arial';
                                    aCtx.fillText('UPDATE', 235, 95);
                                    
                                    // Audit table
                                    aCtx.fillStyle = '#dcfce7';
                                    aCtx.fillRect(280, 50, 270, 200);
                                    aCtx.strokeStyle = '#16a34a';
                                    aCtx.strokeRect(280, 50, 270, 200);
                                    aCtx.fillStyle = '#166534';
                                    aCtx.font = 'bold 12px Arial';
                                    aCtx.fillText('order_audit table', 365, 75);
                                    aCtx.fillStyle = '#374151';
                                    aCtx.font = '10px Arial';
                                    aCtx.fillText('audit_id: 1', 290, 100);
                                    aCtx.fillText('order_id: 1001', 290, 115);
                                    aCtx.fillText('field_name: status', 290, 130);
                                    aCtx.fillText('old_value: processing', 290, 145);
                                    aCtx.fillText('new_value: shipped', 290, 160);
                                    aCtx.fillText('changed_by: admin', 290, 175);
                                    aCtx.fillText('changed_at: 2025-01-15 10:30:00', 290, 190);
                                    
                                    // Note
                                    aCtx.fillStyle = '#fef3c7';
                                    aCtx.fillRect(290, 210, 250, 30);
                                    aCtx.fillStyle = '#92400e';
                                    aCtx.font = '10px Arial';
                                    aCtx.fillText('Triggered automatically via MySQL triggers', 300, 230);</script>
        </section>
        <section>
         <h2>Part 5: Query Practice</h2>
         <div class="alert alert-success">
          <div class="alert-icon">üìù</div>
          <div class="alert-content">
           <div class="alert-title">Task 5: Write Complex Queries</div>
           <div class="alert-message">Write SQL queries to answer these business questions:<ol>
             <li>Find the top 10 best-selling products this month</li>
             <li>Calculate the average order value per customer</li>
             <li>List products that are low in stock (less than 10 units)</li>
             <li>Find customers who haven't ordered in the last 6 months</li>
             <li>Calculate monthly revenue for the past year</li>
             <li>Find the most reviewed products with average rating &gt; 4</li>
             <li>List all orders with their current status and shipping info</li>
             <li>Calculate cart abandonment rate</li>
            </ol>
           </div>
          </div>
         </div>
         <pre><code class="language-sql">-- Example: Top 10 best-selling products this month
SELECT 
    p.product_id,
    p.product_name,
    COUNT(DISTINCT o.order_id) as order_count,
    SUM(oi.quantity) as total_quantity_sold,
    SUM(oi.quantity * oi.unit_price) as total_revenue
FROM products p
INNER JOIN order_items oi ON p.product_id = oi.product_id
INNER JOIN orders o ON oi.order_id = o.order_id
WHERE 
    o.order_date &gt;= DATE_SUB(CURDATE(), INTERVAL 1 MONTH)
    AND o.status != 'cancelled'
GROUP BY p.product_id
ORDER BY total_quantity_sold DESC
LIMIT 10;</code></pre>
        </section>
        <section>
         <h2>Submission Requirements</h2>
         <div class="homework">
          <h3>What to Submit</h3>
          <div class="alert alert-warning">
           <div class="alert-icon">üìã</div>
           <div class="alert-content">
            <div class="alert-title">Deliverables Checklist</div>
            <div class="alert-message">
             <ol>
              <li>‚úÖ<strong>ER Diagram</strong>(PDF or image format)</li>
              <li>‚úÖ<strong>Database Schema Documentation</strong>(explaining design decisions)</li>
              <li>‚úÖ<strong>SQL Script File</strong>(.sql) containing:<ul>
                <li>Database creation</li>
                <li>All table definitions</li>
                <li>Indexes</li>
                <li>Sample data inserts</li>
               </ul>
              </li>
              <li>‚úÖ<strong>Query Solutions</strong>(8 business queries)</li>
              <li>‚úÖ<strong>Advanced Features</strong>implementation (choose 3)</li>
              <li>‚úÖ<strong>README file</strong>explaining:<ul>
                <li>How to set up the database</li>
                <li>Any assumptions made</li>
                <li>Normalization decisions</li>
                <li>Performance optimizations</li>
               </ul>
              </li>
             </ol>
            </div>
           </div>
          </div>
          <h3>Grading Criteria</h3>
          <table class="comparison-table">
           <thead>
            <tr>
             <th>Criteria</th>
             <th>Points</th>
             <th>Description</th>
            </tr>
           </thead>
           <tbody>
            <tr>
             <td>ER Diagram</td>
             <td>20</td>
             <td>Complete, accurate, properly shows relationships</td>
            </tr>
            <tr>
             <td>Normalization</td>
             <td>20</td>
             <td>Proper 3NF, no redundancy, justified denormalization</td>
            </tr>
            <tr>
             <td>SQL Implementation</td>
             <td>25</td>
             <td>Correct syntax, appropriate constraints, indexes</td>
            </tr>
            <tr>
             <td>Business Queries</td>
             <td>15</td>
             <td>Correct results, efficient queries</td>
            </tr>
            <tr>
             <td>Advanced Features</td>
             <td>15</td>
             <td>Proper implementation of chosen features</td>
            </tr>
            <tr>
             <td>Documentation</td>
             <td>5</td>
             <td>Clear README, good comments</td>
            </tr>
           </tbody>
          </table>
         </div>
        </section>
        <section>
         <h2>Tips and Hints</h2>
         <div class="best_practice">
          <h3>Success Tips</h3>
          <ul>
           <li>üéØ Start with the ER diagram - it's your blueprint</li>
           <li>üìù List all entities first, then add attributes</li>
           <li>üîó Identify relationships carefully - they determine foreign keys</li>
           <li>üîÑ Apply normalization rules systematically</li>
           <li>‚ö° Think about query performance when adding indexes</li>
           <li>üõ°Ô∏è Use constraints to enforce business rules</li>
           <li>üìä Test your queries with sample data</li>
           <li>üìö Document your decisions and assumptions</li>
          </ul>
         </div>
         <div class="alert alert-info">
          <div class="alert-icon">üí°</div>
          <div class="alert-content">
           <div class="alert-title">Common Pitfalls to Avoid</div>
           <div class="alert-message">
            <ul>
             <li>‚ùå Storing calculated values (violates normalization)</li>
             <li>‚ùå Using VARCHAR for dates or numbers</li>
             <li>‚ùå Forgetting to index foreign key columns</li>
             <li>‚ùå Not handling NULL values properly</li>
             <li>‚ùå Circular foreign key dependencies</li>
             <li>‚ùå Over-normalization (too many JOINs needed)</li>
             <li>‚ùå Forgetting CASCADE rules on foreign keys</li>
            </ul>
           </div>
          </div>
         </div>
        </section>
        <!-- Bonus Challenge -->
        <section>
         <h2>Bonus Challenge (Optional)</h2>
         <div class="alert alert-success">
          <div class="alert-icon">üèÜ</div>
          <div class="alert-content">
           <div class="alert-title">Extra Credit Opportunities</div>
           <div class="alert-message">
            <ul>
             <li>Implement a recommendation system (customers who bought X also bought Y)</li>
             <li>Add multi-vendor marketplace support</li>
             <li>Create stored procedures for complex operations</li>
             <li>Implement database triggers for audit logging</li>
             <li>Add full-text search with relevance scoring</li>
             <li>Design for international support (multi-language, multi-currency)</li>
             <li>Create views for common reporting queries</li>
            </ul>
           </div>
          </div>
         </div>
        </section>
        <!-- Resources -->
        <section class="resources">
         <h2>Helpful Resources</h2>
         <ul>
          <li>
           <a href="https://www.mysqltutorial.org/mysql-sample-database.aspx" target="_blank">MySQL Sample Database Examples</a>
          </li>
          <li>
           <a href="https://dbdiagram.io/" target="_blank">dbdiagram.io - Online ER Diagram Tool</a>
          </li>
          <li>
           <a href="https://dev.mysql.com/doc/employee/en/" target="_blank">MySQL Employee Sample Database</a>
          </li>
          <li>
           <a href="https://github.com/datacharmer/test_db" target="_blank">Sample E-commerce Database on GitHub</a>
          </li>
          <li>
           <a href="https://vertabelo.com/blog/database-model-for-an-online-store/" target="_blank">E-commerce Database Design Tutorial</a>
          </li>
         </ul>
        </section>
       </div>
       <!-- Lesson Navigation -->
       <div class="lesson-navigation">
        <a class="lesson-nav-button prev" href="/03module/database_constraints.html">
         <svg fill="currentColor" height="20" viewbox="0 0 20 20" width="20">
          <path d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z">
          </path>
         </svg>
         <span>
          <small>Previous</small>
          <br/>Database Constraints</span>
        </a>
        <button class="complete-lesson-btn">Submit Homework</button>
        <a class="lesson-nav-button next" href="/module4.html">
         <span>
          <small>Next Module</small>
          <br/>WordPress &amp; Docker</span>
         <svg fill="currentColor" height="20" viewbox="0 0 20 20" width="20">
          <path d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z">
          </path>
         </svg>
        </a>
       </div>
      </article>
     </div>
    </div>
   </main>
   <!-- Footer -->
   <footer class="site-footer" role="contentinfo">
    <div class="footer-container">
     <div class="footer-content">
      <div class="footer-section footer-about">
       <h3>PHP WordPress Development</h3>
       <p>Complete Web Development Course</p>
      </div>
      <div class="footer-section">
       <h4>Quick Links</h4>
       <ul class="footer-links">
        <li>
         <a href="/">Home</a>
        </li>
        <li>
         <a class="active" href="/module3.html">Module 3</a>
        </li>
        <li>
         <a href="/resources.html">Resources</a>
        </li>
       </ul>
      </div>
      <div class="footer-section">
       <h4>Support</h4>
       <ul class="footer-links">
        <li>
         <a href="/help.html">Help Center</a>
        </li>
        <li>
         <a href="/faq.html">FAQ</a>
        </li>
        <li>
         <a href="/contact.html">Contact</a>
        </li>
       </ul>
      </div>
     </div>
     <div class="footer-bottom">
      <div class="footer-bottom-content">
       <p class="copyright">¬© 2025 PHP WordPress Development Course</p>
       <nav class="footer-bottom-links">
        <a href="/privacy.html">Privacy</a>
        <span class="separator">|</span>
        <a href="/terms.html">Terms</a>
       </nav>
      </div>
     </div>
    </div>
   </footer>
  </div>
  <!-- Back to Top -->
  <button aria-label="Back to top" class="back-to-top" id="back-to-top">
   <svg fill="none" height="24" stroke="currentColor" stroke-width="2" viewbox="0 0 24 24" width="24">
    <path d="M12 19V5M12 5l-7 7M12 5l7 7">
    </path>
   </svg>
  </button>
  <!-- JavaScript -->
  <script src="/assets/js/navigation.js">
  </script>
  <script src="/assets/js/site-config.js">
  </script>
  <script src="/assets/js/sidebar-toggle.js">
  </script>
  <!-- Universal Mermaid Fix (Enhanced) -->
  <!-- Universal Mermaid Fix -->
  <script src="/assets/js/mermaid-universal-fix.js">
  </script>
 </body>
</html>
