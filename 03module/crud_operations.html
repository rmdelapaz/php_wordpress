<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="ie=edge" http-equiv="X-UA-Compatible"/>
  <!-- SEO Meta Tags -->
  <title>CRUD Operations in PHP - Complete Guide - PHP WordPress Course</title>
  <meta content="Master CRUD operations in PHP with MySQL, build complete data-driven applications with create, read, update, and delete functionality" name="description"/>
  <meta content="PHP, MySQL, CRUD, database operations, PHP applications, data management" name="keywords"/>
  <meta content="PHP WordPress Course" name="author"/>
  <link href="/assets/css/main.css" rel="stylesheet"/>
  <link href="/assets/css/sidebar-enhanced.css" rel="stylesheet"/>
  <link href="/assets/css/sidebar-toggle.css" rel="stylesheet"/>
  <!-- Favicon -->
  <link href="/favicon.png" rel="icon" type="image/png"/>
  <link href="/favicon.png" rel="apple-touch-icon"/>
  <!-- CSS -->
  <link href="/assets/css/sidebar-enhanced.css" rel="stylesheet"/>
  <link href="/assets/css/sidebar-toggle.css" rel="stylesheet"/>
 </head>
 <body>
  <!-- Skip to main content -->
  <a class="sr-only" href="#main-content">Skip to main content</a>
  <div class="page-wrapper">
   <!-- Header -->
   <header class="site-header" role="banner">
    <div class="header-container">
     <div class="site-branding">
      <a class="site-logo" href="/">
       <h1 class="site-title">PHP WordPress Development</h1>
      </a>
     </div>
     <nav aria-label="Main navigation" class="main-navigation" role="navigation">
      <button aria-expanded="false" aria-label="Toggle navigation" class="mobile-menu-btn">
       <span>
       </span>
       <span>
       </span>
       <span>
       </span>
      </button>
      <div class="nav-menu">
       <ul class="nav-list">
        <li class="nav-item">
         <a class="nav-link" href="/">Home</a>
        </li>
        <li class="nav-item dropdown">
         <button aria-haspopup="true" class="nav-link dropdown-toggle active">Modules</button>
         <div class="dropdown-menu">
          <a class="dropdown-item" href="/module1.html">Module 1: Web Fundamentals</a>
          <a class="dropdown-item" href="/module2.html">Module 2: PHP Fundamentals</a>
          <a class="dropdown-item active" href="/module3.html">Module 3: MySQL Database</a>
          <a class="dropdown-item" href="/module4.html">Module 4: WordPress &amp; Docker</a>
          <a class="dropdown-item" href="/module5.html">Module 5: Theme Development</a>
          <a class="dropdown-item" href="/module6.html">Module 6: Plugin Development</a>
          <a class="dropdown-item" href="/module7.html">Module 7: Advanced WordPress</a>
          <a class="dropdown-item" href="/module8.html">Module 8: Deployment</a>
          <a class="dropdown-item" href="/module9.html">Module 9: Final Project</a>
         </div>
        </li>
        <li class="nav-item">
         <a class="nav-link" href="/resources.html">Resources</a>
        </li>
        <li class="nav-item">
         <a class="nav-link" href="/about.html">About</a>
        </li>
       </ul>
      </div>
     </nav>
     <div class="search-container">
      <div class="search-input-wrapper">
       <svg class="search-icon" fill="currentColor" height="20" viewbox="0 0 20 20" width="20">
        <path clip-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" fill-rule="evenodd">
        </path>
       </svg>
       <input aria-label="Search" class="search-input" placeholder="Search lessons..." type="search"/>
      </div>
      <div class="search-results">
      </div>
     </div>
    </div>
   </header>
   <!-- Progress Bar -->
   <div class="progress-container">
    <div class="progress-header">
     <h2 class="progress-title">Course Progress</h2>
     <span class="progress-text">Loading...</span>
    </div>
    <div class="progress-bar">
     <div class="progress-bar-fill">
      <span class="progress-bar-text">
      </span>
     </div>
    </div>
   </div>
   <!-- Breadcrumb -->
   <nav aria-label="Breadcrumb" class="breadcrumb container">
    <ol class="breadcrumb-list">
     <li class="breadcrumb-item">
      <a href="/">Home</a>
      <span class="breadcrumb-separator">/</span>
     </li>
     <li class="breadcrumb-item">
      <a href="/module3.html">Module 3</a>
      <span class="breadcrumb-separator">/</span>
     </li>
     <li class="breadcrumb-item">
      <span aria-current="page">CRUD Operations</span>
     </li>
    </ol>
   </nav>
   <!-- Main Content -->
   <main class="main-content" id="main-content" role="main">
    <div class="container">
     <div class="content-with-sidebar">
      <!-- Sidebar -->
      <aside class="sidebar">
    <div class="sidebar-nav">
        <h3 class="sidebar-title">Module 3: MySQL Database</h3>
        <div class="sidebar-section">
            <h4 class="sidebar-section-title">Session 5: PHP and MySQL Integration</h4>
            <ul class="sidebar-menu">
                <li><a class="sidebar-link" href="/03module/connecting_mysql.html">Connecting to MySQL with PHP</a></li>
                <li><a class="sidebar-link" href="/03module/executing_queries.html">Executing SQL queries through PHP</a></li>
                <li><a class="sidebar-link" href="/03module/prepared_statements.html">Prepared statements and security concerns</a></li>
                <li class="active"><a class="sidebar-link active" href="/03module/crud_operations.html">CRUD operations in PHP applications</a></li>
                <li><a class="sidebar-link" href="/03module/result_sets.html">Handling results sets</a></li>
                <li><a class="sidebar-link" href="/03module/error_debugging.html">Error handling and debugging</a></li>
                <li><a class="sidebar-link" href="/03module/php_mysql_integration.html">Final Project: Build a complete data-driven PHP application with MySQL backend</a></li>
            </ul>
        </div>
        <div class="sidebar-section">
            <h4 class="sidebar-section-title">Quick Links</h4>
            <ul class="sidebar-menu">
                <li><a class="sidebar-link" href="/module3.html">Module Overview</a></li>
                <li><a class="sidebar-link prev-session" href="/03module/sql_joins.html">‚Üê Prev: Advanced SQL</a></li>
                <li><a class="sidebar-link" href="/">‚Üê Course Home</a></li>
                <li><a class="sidebar-link" href="/module4.html">Next Module ‚Üí</a></li>
                <li><a class="sidebar-link" href="/resources.html">Resources</a></li>
            </ul>
        </div>
    </div>
</aside>
      <!-- Main Lesson Content -->
      <article class="lesson-content">
       <header class="lesson-header">
        <h1>CRUD Operations in PHP Applications</h1>
        <div class="lesson-meta">
         <div class="lesson-meta-item">
          <svg fill="currentColor" height="20" width="20">
           <path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z">
           </path>
          </svg>
          <span>Duration: 100 minutes</span>
         </div>
         <div class="lesson-meta-item">
          <svg fill="currentColor" height="20" width="20">
           <path d="M12 14l9-5-9-5-9 5 9 5z">
           </path>
          </svg>
          <span>Module 3: PHP Integration</span>
         </div>
        </div>
       </header>
       <!-- Learning Objectives -->
       <div class="lesson-objectives">
        <h2>Learning Objectives</h2>
        <ul>
         <li>Build complete CRUD functionality with PHP and MySQL</li>
         <li>Implement data validation and sanitization</li>
         <li>Create user interfaces for data management</li>
         <li>Handle file uploads and storage</li>
         <li>Implement search and filtering</li>
         <li>Add pagination to result sets</li>
         <li>Build relationships between entities</li>
         <li>Apply MVC patterns to PHP applications</li>
        </ul>
       </div>
       <!-- Lesson Body -->
       <div class="lesson-body">
        <section>
         <h2>Understanding CRUD Operations</h2>
         <p class="lead">CRUD (Create, Read, Update, Delete) operations form the foundation of data-driven applications. Let's build a complete system! üöÄ</p>
         <canvas height="400" id="crudCanvas" width="600">
         </canvas>
         <script>const ctx = document.getElementById('crudCanvas').getContext('2d');
                                    
                                    // Title
                                    ctx.font = 'bold 18px Arial';
                                    ctx.fillStyle = '#1f2937';
                                    ctx.fillText('CRUD Operations Flow', 200, 30);
                                    
                                    // CRUD boxes
                                    const operations = [
                                        { letter: 'C', name: 'Create', color: '#dcfce7', border: '#16a34a', x: 50, y: 60 },
                                        { letter: 'R', name: 'Read', color: '#dbeafe', border: '#2563eb', x: 320, y: 60 },
                                        { letter: 'U', name: 'Update', color: '#fef3c7', border: '#ca8a04', x: 50, y: 200 },
                                        { letter: 'D', name: 'Delete', color: '#fee2e2', border: '#dc2626', x: 320, y: 200 }
                                    ];
                                    
                                    operations.forEach(op =>{
                                        // Box
                                        ctx.fillStyle = op.color;
                                        ctx.fillRect(op.x, op.y, 230, 120);
                                        ctx.strokeStyle = op.border;
                                        ctx.lineWidth = 2;
                                        ctx.strokeRect(op.x, op.y, 230, 120);
                                        
                                        // Letter and name
                                        ctx.fillStyle = op.border;
                                        ctx.font = 'bold 24px Arial';
                                        ctx.fillText(op.letter, op.x + 10, op.y + 35);
                                        
                                        ctx.font = 'bold 14px Arial';
                                        ctx.fillText(op.name, op.x + 50, op.y + 30);
                                        
                                        // Details
                                        ctx.fillStyle = '#374151';
                                        ctx.font = '10px Arial';
                                        
                                        if (op.letter === 'C') {
                                            ctx.fillText('‚Ä¢ INSERT INTO statement', op.x + 10, op.y + 55);
                                            ctx.fillText('‚Ä¢ Form validation', op.x + 10, op.y + 70);
                                            ctx.fillText('‚Ä¢ Data sanitization', op.x + 10, op.y + 85);
                                            ctx.fillText('‚Ä¢ Success/error feedback', op.x + 10, op.y + 100);
                                        } else if (op.letter === 'R') {
                                            ctx.fillText('‚Ä¢ SELECT statement', op.x + 10, op.y + 55);
                                            ctx.fillText('‚Ä¢ Display in tables/lists', op.x + 10, op.y + 70);
                                            ctx.fillText('‚Ä¢ Search and filtering', op.x + 10, op.y + 85);
                                            ctx.fillText('‚Ä¢ Pagination support', op.x + 10, op.y + 100);
                                        } else if (op.letter === 'U') {
                                            ctx.fillText('‚Ä¢ UPDATE statement', op.x + 10, op.y + 55);
                                            ctx.fillText('‚Ä¢ Pre-populate forms', op.x + 10, op.y + 70);
                                            ctx.fillText('‚Ä¢ Validation rules', op.x + 10, op.y + 85);
                                            ctx.fillText('‚Ä¢ Change tracking', op.x + 10, op.y + 100);
                                        } else if (op.letter === 'D') {
                                            ctx.fillText('‚Ä¢ DELETE statement', op.x + 10, op.y + 55);
                                            ctx.fillText('‚Ä¢ Confirmation dialogs', op.x + 10, op.y + 70);
                                            ctx.fillText('‚Ä¢ Soft delete option', op.x + 10, op.y + 85);
                                            ctx.fillText('‚Ä¢ Cascade handling', op.x + 10, op.y + 100);
                                        }
                                    });
                                    
                                    // Center database icon
                                    ctx.fillStyle = '#e9d5ff';
                                    ctx.fillRect(250, 340, 100, 40);
                                    ctx.strokeStyle = '#7c3aed';
                                    ctx.strokeRect(250, 340, 100, 40);
                                    
                                    ctx.fillStyle = '#7c3aed';
                                    ctx.font = 'bold 12px Arial';
                                    ctx.fillText('MySQL DB', 270, 365);
                                    
                                    // Arrows to database
                                    ctx.strokeStyle = '#6b7280';
                                    ctx.setLineDash([5, 5]);
                                    
                                    // From each CRUD box to DB
                                    [[165, 180], [435, 180], [165, 320], [435, 320]].forEach(([x, y]) =>{
                                        ctx.beginPath();
                                        ctx.moveTo(x, y);
                                        ctx.lineTo(300, 340);
                                        ctx.stroke();
                                    });
                                    
                                    ctx.setLineDash([]);</script>
         <div class="alert alert-info">
          <div class="alert-icon">üí°</div>
          <div class="alert-content">
           <div class="alert-title">CRUD Best Practices</div>
           <div class="alert-message">
            <ul>
             <li>Always use prepared statements to prevent SQL injection</li>
             <li>Validate data on both client and server side</li>
             <li>Implement proper error handling and user feedback</li>
             <li>Use transactions for related operations</li>
             <li>Consider soft deletes for important data</li>
             <li>Log all CRUD operations for audit trails</li>
            </ul>
           </div>
          </div>
         </div>
        </section>
        <section>
         <h2>Complete CRUD Implementation</h2>
         <div class="mermaid">graph TB
                                        USER[User Interface] --&gt; CONTROLLER[Controller]
                                        CONTROLLER --&gt; MODEL[Model/Database]
                                        MODEL --&gt; DB[(MySQL)]
                                        
                                        CONTROLLER --&gt; VALIDATE[Validation]
                                        VALIDATE --&gt; SANITIZE[Sanitization]
                                        SANITIZE --&gt; MODEL
                                        
                                        MODEL --&gt; RESULT[Result]
                                        RESULT --&gt; VIEW[View/Template]
                                        VIEW --&gt; USER
                                        
                                        style USER fill:#dcfce7
                                        style CONTROLLER fill:#dbeafe
                                        style MODEL fill:#fef3c7
                                        style DB fill:#e9d5ff</div>
         <div class="real_world_example">
          <h3>Complete Product Management System</h3>
          <pre><code class="language-php">&lt;?php
// ========================================
// DATABASE CONNECTION CLASS
// ========================================

class Database {
    private static $instance = null;
    private $pdo;
    
    private function __construct() {
        $config = [
            'host' =&gt; 'localhost',
            'dbname' =&gt; 'shop',
            'username' =&gt; 'root',
            'password' =&gt; '',
            'charset' =&gt; 'utf8mb4'
        ];
        
        try {
            $dsn = "mysql:host={$config['host']};dbname={$config['dbname']};charset={$config['charset']}";
            
            $this-&gt;pdo = new PDO($dsn, $config['username'], $config['password'], [
                PDO::ATTR_ERRMODE =&gt; PDO::ERRMODE_EXCEPTION,
                PDO::ATTR_DEFAULT_FETCH_MODE =&gt; PDO::FETCH_ASSOC,
                PDO::ATTR_EMULATE_PREPARES =&gt; false
            ]);
        } catch (PDOException $e) {
            die("Connection failed: " . $e-&gt;getMessage());
        }
    }
    
    public static function getInstance() {
        if (self::$instance === null) {
            self::$instance = new self();
        }
        return self::$instance;
    }
    
    public function getConnection() {
        return $this-&gt;pdo;
    }
}

// ========================================
// PRODUCT MODEL CLASS
// ========================================

class Product {
    private $db;
    private $table = 'products';
    
    public function __construct() {
        $this-&gt;db = Database::getInstance()-&gt;getConnection();
    }
    
    /**
     * CREATE - Add new product
     */
    public function create($data) {
        try {
            // Validate required fields
            $required = ['name', 'price', 'category_id'];
            foreach ($required as $field) {
                if (empty($data[$field])) {
                    throw new Exception("Field '$field' is required");
                }
            }
            
            // Sanitize data
            $data = $this-&gt;sanitizeData($data);
            
            // Prepare SQL
            $sql = "INSERT INTO {$this-&gt;table} 
                    (name, description, price, category_id, stock_quantity, sku, created_at) 
                    VALUES 
                    (:name, :description, :price, :category_id, :stock_quantity, :sku, NOW())";
            
            $stmt = $this-&gt;db-&gt;prepare($sql);
            
            // Bind parameters
            $stmt-&gt;bindParam(':name', $data['name']);
            $stmt-&gt;bindParam(':description', $data['description']);
            $stmt-&gt;bindParam(':price', $data['price']);
            $stmt-&gt;bindParam(':category_id', $data['category_id']);
            $stmt-&gt;bindParam(':stock_quantity', $data['stock_quantity']);
            $stmt-&gt;bindParam(':sku', $data['sku']);
            
            // Execute
            if ($stmt-&gt;execute()) {
                return [
                    'success' =&gt; true,
                    'id' =&gt; $this-&gt;db-&gt;lastInsertId(),
                    'message' =&gt; 'Product created successfully'
                ];
            }
            
            return ['success' =&gt; false, 'message' =&gt; 'Failed to create product'];
            
        } catch (Exception $e) {
            return ['success' =&gt; false, 'message' =&gt; $e-&gt;getMessage()];
        }
    }
    
    /**
     * READ - Get products with pagination and filtering
     */
    public function read($params = []) {
        try {
            // Base query
            $sql = "SELECT p.*, c.name as category_name 
                    FROM {$this-&gt;table} p 
                    LEFT JOIN categories c ON p.category_id = c.id 
                    WHERE 1=1";
            
            $bindings = [];
            
            // Add search filter
            if (!empty($params['search'])) {
                $sql .= " AND (p.name LIKE :search OR p.description LIKE :search)";
                $bindings[':search'] = '%' . $params['search'] . '%';
            }
            
            // Add category filter
            if (!empty($params['category'])) {
                $sql .= " AND p.category_id = :category";
                $bindings[':category'] = $params['category'];
            }
            
            // Add price range filter
            if (!empty($params['min_price'])) {
                $sql .= " AND p.price &gt;= :min_price";
                $bindings[':min_price'] = $params['min_price'];
            }
            
            if (!empty($params['max_price'])) {
                $sql .= " AND p.price &lt;= :max_price";
                $bindings[':max_price'] = $params['max_price'];
            }
            
            // Count total records
            $countSql = "SELECT COUNT(*) as total FROM ({$sql}) as count_table";
            $countStmt = $this-&gt;db-&gt;prepare($countSql);
            $countStmt-&gt;execute($bindings);
            $total = $countStmt-&gt;fetch()['total'];
            
            // Add sorting
            $sortColumn = $params['sort'] ?? 'name';
            $sortOrder = $params['order'] ?? 'ASC';
            $allowedColumns = ['name', 'price', 'stock_quantity', 'created_at'];
            
            if (in_array($sortColumn, $allowedColumns)) {
                $sql .= " ORDER BY p.{$sortColumn} {$sortOrder}";
            }
            
            // Add pagination
            $page = max(1, $params['page'] ?? 1);
            $perPage = $params['per_page'] ?? 10;
            $offset = ($page - 1) * $perPage;
            
            $sql .= " LIMIT :limit OFFSET :offset";
            
            // Prepare and execute
            $stmt = $this-&gt;db-&gt;prepare($sql);
            foreach ($bindings as $key =&gt; $value) {
                $stmt-&gt;bindValue($key, $value);
            }
            $stmt-&gt;bindValue(':limit', $perPage, PDO::PARAM_INT);
            $stmt-&gt;bindValue(':offset', $offset, PDO::PARAM_INT);
            
            $stmt-&gt;execute();
            
            return [
                'success' =&gt; true,
                'data' =&gt; $stmt-&gt;fetchAll(),
                'pagination' =&gt; [
                    'total' =&gt; $total,
                    'per_page' =&gt; $perPage,
                    'current_page' =&gt; $page,
                    'total_pages' =&gt; ceil($total / $perPage)
                ]
            ];
            
        } catch (Exception $e) {
            return ['success' =&gt; false, 'message' =&gt; $e-&gt;getMessage()];
        }
    }
    
    /**
     * READ - Get single product
     */
    public function findById($id) {
        try {
            $sql = "SELECT p.*, c.name as category_name 
                    FROM {$this-&gt;table} p 
                    LEFT JOIN categories c ON p.category_id = c.id 
                    WHERE p.id = :id";
            
            $stmt = $this-&gt;db-&gt;prepare($sql);
            $stmt-&gt;execute([':id' =&gt; $id]);
            
            $product = $stmt-&gt;fetch();
            
            if ($product) {
                return ['success' =&gt; true, 'data' =&gt; $product];
            }
            
            return ['success' =&gt; false, 'message' =&gt; 'Product not found'];
            
        } catch (Exception $e) {
            return ['success' =&gt; false, 'message' =&gt; $e-&gt;getMessage()];
        }
    }
    
    /**
     * UPDATE - Update product
     */
    public function update($id, $data) {
        try {
            // Check if product exists
            $existing = $this-&gt;findById($id);
            if (!$existing['success']) {
                return ['success' =&gt; false, 'message' =&gt; 'Product not found'];
            }
            
            // Sanitize data
            $data = $this-&gt;sanitizeData($data);
            
            // Build update query dynamically
            $fields = [];
            $bindings = [':id' =&gt; $id];
            
            foreach (['name', 'description', 'price', 'category_id', 'stock_quantity', 'sku'] as $field) {
                if (isset($data[$field])) {
                    $fields[] = "{$field} = :{$field}";
                    $bindings[":{$field}"] = $data[$field];
                }
            }
            
            if (empty($fields)) {
                return ['success' =&gt; false, 'message' =&gt; 'No fields to update'];
            }
            
            // Add updated_at
            $fields[] = "updated_at = NOW()";
            
            $sql = "UPDATE {$this-&gt;table} SET " . implode(', ', $fields) . " WHERE id = :id";
            
            $stmt = $this-&gt;db-&gt;prepare($sql);
            
            if ($stmt-&gt;execute($bindings)) {
                return [
                    'success' =&gt; true,
                    'message' =&gt; 'Product updated successfully',
                    'affected_rows' =&gt; $stmt-&gt;rowCount()
                ];
            }
            
            return ['success' =&gt; false, 'message' =&gt; 'Failed to update product'];
            
        } catch (Exception $e) {
            return ['success' =&gt; false, 'message' =&gt; $e-&gt;getMessage()];
        }
    }
    
    /**
     * DELETE - Delete product (with soft delete option)
     */
    public function delete($id, $soft = true) {
        try {
            if ($soft) {
                // Soft delete - mark as deleted
                $sql = "UPDATE {$this-&gt;table} 
                        SET deleted_at = NOW() 
                        WHERE id = :id AND deleted_at IS NULL";
            } else {
                // Hard delete - remove from database
                $sql = "DELETE FROM {$this-&gt;table} WHERE id = :id";
            }
            
            $stmt = $this-&gt;db-&gt;prepare($sql);
            $stmt-&gt;execute([':id' =&gt; $id]);
            
            if ($stmt-&gt;rowCount() &gt; 0) {
                return [
                    'success' =&gt; true,
                    'message' =&gt; 'Product deleted successfully'
                ];
            }
            
            return ['success' =&gt; false, 'message' =&gt; 'Product not found or already deleted'];
            
        } catch (Exception $e) {
            return ['success' =&gt; false, 'message' =&gt; $e-&gt;getMessage()];
        }
    }
    
    /**
     * Bulk operations
     */
    public function bulkDelete($ids) {
        try {
            $placeholders = str_repeat('?,', count($ids) - 1) . '?';
            $sql = "UPDATE {$this-&gt;table} 
                    SET deleted_at = NOW() 
                    WHERE id IN ($placeholders)";
            
            $stmt = $this-&gt;db-&gt;prepare($sql);
            $stmt-&gt;execute($ids);
            
            return [
                'success' =&gt; true,
                'message' =&gt; $stmt-&gt;rowCount() . ' products deleted'
            ];
            
        } catch (Exception $e) {
            return ['success' =&gt; false, 'message' =&gt; $e-&gt;getMessage()];
        }
    }
    
    /**
     * Data sanitization
     */
    private function sanitizeData($data) {
        $sanitized = [];
        
        foreach ($data as $key =&gt; $value) {
            switch ($key) {
                case 'name':
                case 'description':
                case 'sku':
                    $sanitized[$key] = htmlspecialchars(trim($value), ENT_QUOTES, 'UTF-8');
                    break;
                    
                case 'price':
                    $sanitized[$key] = filter_var($value, FILTER_VALIDATE_FLOAT);
                    break;
                    
                case 'category_id':
                case 'stock_quantity':
                    $sanitized[$key] = filter_var($value, FILTER_VALIDATE_INT);
                    break;
                    
                default:
                    $sanitized[$key] = $value;
            }
        }
        
        return $sanitized;
    }
}</code></pre>
         </div>
        </section>
        <section>
         <h2>User Interface for CRUD Operations</h2>
         <div class="best_practice">
          <h3>HTML Forms and UI Components</h3>
          <pre><code class="language-php">&lt;?php
// ========================================
// PRODUCT CONTROLLER
// ========================================

class ProductController {
    private $model;
    
    public function __construct() {
        $this-&gt;model = new Product();
    }
    
    /**
     * Display products list
     */
    public function index() {
        // Get parameters from request
        $params = [
            'search' =&gt; $_GET['search'] ?? '',
            'category' =&gt; $_GET['category'] ?? '',
            'page' =&gt; $_GET['page'] ?? 1,
            'sort' =&gt; $_GET['sort'] ?? 'name',
            'order' =&gt; $_GET['order'] ?? 'ASC'
        ];
        
        $result = $this-&gt;model-&gt;read($params);
        
        if ($result['success']) {
            $products = $result['data'];
            $pagination = $result['pagination'];
            include 'views/products/index.php';
        } else {
            $error = $result['message'];
            include 'views/error.php';
        }
    }
    
    /**
     * Show create form
     */
    public function create() {
        include 'views/products/create.php';
    }
    
    /**
     * Store new product
     */
    public function store() {
        if ($_SERVER['REQUEST_METHOD'] !== 'POST') {
            header('Location: /products');
            exit;
        }
        
        // CSRF token validation
        if (!$this-&gt;validateCSRFToken($_POST['csrf_token'] ?? '')) {
            $_SESSION['error'] = 'Invalid request';
            header('Location: /products/create');
            exit;
        }
        
        $result = $this-&gt;model-&gt;create($_POST);
        
        if ($result['success']) {
            $_SESSION['success'] = $result['message'];
            header('Location: /products');
        } else {
            $_SESSION['error'] = $result['message'];
            $_SESSION['old_input'] = $_POST;
            header('Location: /products/create');
        }
        exit;
    }
    
    /**
     * Show edit form
     */
    public function edit($id) {
        $result = $this-&gt;model-&gt;findById($id);
        
        if ($result['success']) {
            $product = $result['data'];
            include 'views/products/edit.php';
        } else {
            $_SESSION['error'] = 'Product not found';
            header('Location: /products');
            exit;
        }
    }
    
    /**
     * Update product
     */
    public function update($id) {
        if ($_SERVER['REQUEST_METHOD'] !== 'POST') {
            header('Location: /products');
            exit;
        }
        
        // CSRF validation
        if (!$this-&gt;validateCSRFToken($_POST['csrf_token'] ?? '')) {
            $_SESSION['error'] = 'Invalid request';
            header("Location: /products/{$id}/edit");
            exit;
        }
        
        $result = $this-&gt;model-&gt;update($id, $_POST);
        
        if ($result['success']) {
            $_SESSION['success'] = $result['message'];
            header('Location: /products');
        } else {
            $_SESSION['error'] = $result['message'];
            $_SESSION['old_input'] = $_POST;
            header("Location: /products/{$id}/edit");
        }
        exit;
    }
    
    /**
     * Delete product
     */
    public function destroy($id) {
        if ($_SERVER['REQUEST_METHOD'] !== 'POST') {
            header('Location: /products');
            exit;
        }
        
        // CSRF validation
        if (!$this-&gt;validateCSRFToken($_POST['csrf_token'] ?? '')) {
            $_SESSION['error'] = 'Invalid request';
            header('Location: /products');
            exit;
        }
        
        $result = $this-&gt;model-&gt;delete($id);
        
        if ($result['success']) {
            $_SESSION['success'] = $result['message'];
        } else {
            $_SESSION['error'] = $result['message'];
        }
        
        header('Location: /products');
        exit;
    }
    
    /**
     * Generate CSRF token
     */
    public function generateCSRFToken() {
        if (empty($_SESSION['csrf_token'])) {
            $_SESSION['csrf_token'] = bin2hex(random_bytes(32));
        }
        return $_SESSION['csrf_token'];
    }
    
    /**
     * Validate CSRF token
     */
    private function validateCSRFToken($token) {
        return isset($_SESSION['csrf_token']) &amp;&amp; 
               hash_equals($_SESSION['csrf_token'], $token);
    }
}

// ========================================
// VIEW: products/index.php
// ========================================
?&gt;

&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Product Management&lt;/title&gt;
    &lt;link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class="container mt-5"&gt;
        &lt;h1&gt;Products&lt;/h1&gt;
        
        &lt;!-- Success/Error Messages --&gt;
        &lt;?php if (isset($_SESSION['success'])): ?&gt;
            &lt;div class="alert alert-success alert-dismissible fade show"&gt;
                &lt;?= htmlspecialchars($_SESSION['success']) ?&gt;
                &lt;button type="button" class="btn-close" data-bs-dismiss="alert"&gt;&lt;/button&gt;
            &lt;/div&gt;
            &lt;?php unset($_SESSION['success']); ?&gt;
        &lt;?php endif; ?&gt;
        
        &lt;!-- Search and Filter Form --&gt;
        &lt;form method="GET" action="/products" class="row g-3 mb-4"&gt;
            &lt;div class="col-md-4"&gt;
                &lt;input type="text" name="search" class="form-control" 
                       placeholder="Search products..." 
                       value="&lt;?= htmlspecialchars($params['search']) ?&gt;"&gt;
            &lt;/div&gt;
            &lt;div class="col-md-3"&gt;
                &lt;select name="category" class="form-control"&gt;
                    &lt;option value=""&gt;All Categories&lt;/option&gt;
                    &lt;!-- Categories would be loaded dynamically --&gt;
                &lt;/select&gt;
            &lt;/div&gt;
            &lt;div class="col-md-2"&gt;
                &lt;button type="submit" class="btn btn-primary"&gt;Search&lt;/button&gt;
            &lt;/div&gt;
            &lt;div class="col-md-3 text-end"&gt;
                &lt;a href="/products/create" class="btn btn-success"&gt;Add New Product&lt;/a&gt;
            &lt;/div&gt;
        &lt;/form&gt;
        
        &lt;!-- Products Table --&gt;
        &lt;table class="table table-striped"&gt;
            &lt;thead&gt;
                &lt;tr&gt;
                    &lt;th&gt;&lt;a href="?sort=id‚Ñ¥=&lt;?= $params['order'] === 'ASC' ? 'DESC' : 'ASC' ?&gt;"&gt;ID&lt;/a&gt;&lt;/th&gt;
                    &lt;th&gt;&lt;a href="?sort=name‚Ñ¥=&lt;?= $params['order'] === 'ASC' ? 'DESC' : 'ASC' ?&gt;"&gt;Name&lt;/a&gt;&lt;/th&gt;
                    &lt;th&gt;Category&lt;/th&gt;
                    &lt;th&gt;&lt;a href="?sort=price‚Ñ¥=&lt;?= $params['order'] === 'ASC' ? 'DESC' : 'ASC' ?&gt;"&gt;Price&lt;/a&gt;&lt;/th&gt;
                    &lt;th&gt;Stock&lt;/th&gt;
                    &lt;th&gt;Actions&lt;/th&gt;
                &lt;/tr&gt;
            &lt;/thead&gt;
            &lt;tbody&gt;
                &lt;?php foreach ($products as $product): ?&gt;
                &lt;tr&gt;
                    &lt;td&gt;&lt;?= $product['id'] ?&gt;&lt;/td&gt;
                    &lt;td&gt;&lt;?= htmlspecialchars($product['name']) ?&gt;&lt;/td&gt;
                    &lt;td&gt;&lt;?= htmlspecialchars($product['category_name']) ?&gt;&lt;/td&gt;
                    &lt;td&gt;$&lt;?= number_format($product['price'], 2) ?&gt;&lt;/td&gt;
                    &lt;td&gt;
                        &lt;span class="badge &lt;?= $product['stock_quantity'] &gt; 10 ? 'bg-success' : 'bg-warning' ?&gt;"&gt;
                            &lt;?= $product['stock_quantity'] ?&gt;
                        &lt;/span&gt;
                    &lt;/td&gt;
                    &lt;td&gt;
                        &lt;a href="/products/&lt;?= $product['id'] ?&gt;" class="btn btn-sm btn-info"&gt;View&lt;/a&gt;
                        &lt;a href="/products/&lt;?= $product['id'] ?&gt;/edit" class="btn btn-sm btn-warning"&gt;Edit&lt;/a&gt;
                        &lt;form method="POST" action="/products/&lt;?= $product['id'] ?&gt;/delete" 
                              style="display:inline;" onsubmit="return confirm('Are you sure?')"&gt;
                            &lt;input type="hidden" name="csrf_token" value="&lt;?= $controller-&gt;generateCSRFToken() ?&gt;"&gt;
                            &lt;button type="submit" class="btn btn-sm btn-danger"&gt;Delete&lt;/button&gt;
                        &lt;/form&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;
                &lt;?php endforeach; ?&gt;
            &lt;/tbody&gt;
        &lt;/table&gt;
        
        &lt;!-- Pagination --&gt;
        &lt;?php if ($pagination['total_pages'] &gt; 1): ?&gt;
        &lt;nav&gt;
            &lt;ul class="pagination"&gt;
                &lt;?php for ($i = 1; $i &lt;= $pagination['total_pages']; $i++): ?&gt;
                    &lt;li class="page-item &lt;?= $i === $pagination['current_page'] ? 'active' : '' ?&gt;"&gt;
                        &lt;a class="page-link" href="?page=&lt;?= $i ?&gt;&amp;search=&lt;?= urlencode($params['search']) ?&gt;"&gt;
                            &lt;?= $i ?&gt;
                        &lt;/a&gt;
                    &lt;/li&gt;
                &lt;?php endfor; ?&gt;
            &lt;/ul&gt;
        &lt;/nav&gt;
        &lt;?php endif; ?&gt;
    &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
         </div>
        </section>
        <!-- Practice Exercise -->
        <section>
         <h2>Practice Exercise</h2>
         <div class="alert alert-success">
          <div class="alert-icon">üíª</div>
          <div class="alert-content">
           <div class="alert-title">CRUD Implementation Challenges</div>
           <div class="alert-message">Build these CRUD features:<ol>
             <li>Create a complete User Management System</li>
             <li>Implement Category CRUD with hierarchy</li>
             <li>Build an Order Management System</li>
             <li>Create a Blog Post system with comments</li>
             <li>Implement file upload for products</li>
             <li>Add bulk import/export functionality</li>
             <li>Create an audit log for all CRUD operations</li>
             <li>Build REST API endpoints for CRUD</li>
            </ol>
           </div>
          </div>
         </div>
        </section>
       </div>
       <!-- Lesson Navigation -->
       <div class="lesson-navigation">
        <a class="lesson-nav-button prev" href="/03module/php_mysql_integration.html">
         <svg fill="currentColor" height="20" viewbox="0 0 20 20" width="20">
          <path d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z">
          </path>
         </svg>
         <span>
          <small>Previous</small>
          <br/>PHP MySQL Basics</span>
        </a>
        <button class="complete-lesson-btn">Mark as Complete</button>
        <a class="lesson-nav-button next" href="/03module/result_sets.html">
         <span>
          <small>Next</small>
          <br/>Handling Result Sets</span>
         <svg fill="currentColor" height="20" viewbox="0 0 20 20" width="20">
          <path d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z">
          </path>
         </svg>
        </a>
       </div>
      </article>
     </div>
    </div>
   </main>
   <!-- Footer -->
   <footer class="site-footer" role="contentinfo">
    <div class="footer-container">
     <div class="footer-content">
      <div class="footer-section footer-about">
       <h3>PHP WordPress Development</h3>
       <p>Complete Web Development Course</p>
      </div>
      <div class="footer-section">
       <h4>Quick Links</h4>
       <ul class="footer-links">
        <li>
         <a href="/">Home</a>
        </li>
        <li>
         <a class="active" href="/module3.html">Module 3</a>
        </li>
        <li>
         <a href="/resources.html">Resources</a>
        </li>
       </ul>
      </div>
      <div class="footer-section">
       <h4>Support</h4>
       <ul class="footer-links">
        <li>
         <a href="/help.html">Help Center</a>
        </li>
        <li>
         <a href="/faq.html">FAQ</a>
        </li>
        <li>
         <a href="/contact.html">Contact</a>
        </li>
       </ul>
      </div>
     </div>
     <div class="footer-bottom">
      <div class="footer-bottom-content">
       <p class="copyright">¬© 2025 PHP WordPress Development Course</p>
       <nav class="footer-bottom-links">
        <a href="/privacy.html">Privacy</a>
        <span class="separator">|</span>
        <a href="/terms.html">Terms</a>
       </nav>
      </div>
     </div>
    </div>
   </footer>
  </div>
  <!-- Back to Top -->
  <button aria-label="Back to top" class="back-to-top" id="back-to-top">
   <svg fill="none" height="24" stroke="currentColor" stroke-width="2" viewbox="0 0 24 24" width="24">
    <path d="M12 19V5M12 5l-7 7M12 5l7 7">
    </path>
   </svg>
  </button>
  <!-- JavaScript -->
  <script src="/assets/js/navigation.js">
  </script>
  <script src="/assets/js/site-config.js">
  </script>
  <script src="/assets/js/sidebar-toggle.js">
  </script>
  <!-- Universal Mermaid Fix (Enhanced) -->
  <!-- Universal Mermaid Fix -->
  <script src="/assets/js/mermaid-universal-fix.js">
  </script>
 </body>
</html>
