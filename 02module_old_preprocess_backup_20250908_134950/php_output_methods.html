<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PHP Output Methods (echo, print)</title>
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="icon" href="/favicon.png">
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
      mermaid.initialize({ startOnLoad: true });
    </script>
</head>
<body>
    <header>
        <h1>PHP Output Methods: echo and print</h1>
        <p><a href="index.html">← Back to Syllabus</a></p>
    </header>
    
    <main>
        <section class="intro">
            <h2>Introduction to PHP Output</h2>
            <p>Welcome to our exploration of PHP's output methods! In today's session, we'll dive deep into how PHP communicates with the browser using <code>echo</code> and <code>print</code>, the two primary methods for outputting content to your users.</p>
            
            <p>Output is a fundamental concept in web development. Think of it as the bridge between your server-side code and what your visitors actually see in their browsers. Without output methods, PHP would be like a brilliant thinker who never speaks – full of ideas but unable to share them with the world.</p>
            
            <div class="mermaid-diagram">
                <div class="mermaid">
                flowchart LR
                    A[PHP Code] --> B[Output Methods]
                    B --> C[HTML]
                    C --> D[Browser]
                    D --> E[User]
                    style A fill:#f96,stroke:#333,stroke-width:2px
                    style B fill:#6c9,stroke:#333,stroke-width:2px
                    style C fill:#69f,stroke:#333,stroke-width:2px
                    style D fill:#c9f,stroke:#333,stroke-width:2px
                    style E fill:#fc6,stroke:#333,stroke-width:2px
                </div>
            </div>
            
            <p class="analogy"><strong>Analogy:</strong> Think of PHP as a chef in a restaurant kitchen (the server). The output methods are the waiters who bring the prepared dishes (processed data) to the customers (browsers) at their tables. Without these waiters, the most delicious food would never reach the hungry diners!</p>
        </section>

        <section class="echo_method">
            <h2>The echo Method</h2>
            <p><code>echo</code> is PHP's most commonly used output method. It's not technically a function but a language construct, which gives it some special properties and makes it slightly faster than alternatives.</p>
            
            <h3>Basic echo Syntax</h3>
            <p>The basic syntax of <code>echo</code> is straightforward:</p>
            
            <pre><code>&lt;?php
echo "Hello, World!";
?&gt;</code></pre>
            
            <p>When this code executes, the text "Hello, World!" is sent to the output stream, which typically means it appears in the browser.</p>
            
            <h3>Echo with HTML</h3>
            <p>One of the strengths of <code>echo</code> is its ability to output HTML, allowing you to dynamically generate markup:</p>
            
            <pre><code>&lt;?php
echo "&lt;h2&gt;Welcome to My Website&lt;/h2&gt;";
echo "&lt;p&gt;This paragraph was generated using PHP's echo.&lt;/p&gt;";
?&gt;</code></pre>
            
            <p>This produces the following HTML in the browser:</p>
            <div class="output-example">
                <h2>Welcome to My Website</h2>
                <p>This paragraph was generated using PHP's echo.</p>
            </div>
            
            <h3>Multiple Arguments with echo</h3>
            <p>Unlike many PHP functions, <code>echo</code> can accept multiple arguments separated by commas (without using parentheses):</p>
            
            <pre><code>&lt;?php
echo "First part", " and ", "second part", "!";
// Outputs: First part and second part!
?&gt;</code></pre>
            
            <p>This unique feature can make your code slightly more efficient when outputting multiple strings.</p>
            
            <h3>Parentheses with echo</h3>
            <p>While <code>echo</code> doesn't require parentheses, you can use them if you prefer:</p>
            
            <pre><code>&lt;?php
echo("Hello, World!");  // Works fine
?&gt;</code></pre>
            
            <p>However, when using parentheses, you cannot use multiple arguments:</p>
            
            <pre><code>&lt;?php
// This will cause an error:
echo("First part", " and ", "second part");

// This is the correct way with parentheses:
echo("First part" . " and " . "second part");
?&gt;</code></pre>
            
            <h3>Variables and Concatenation with echo</h3>
            <p>You'll often want to combine static text with dynamic variables. There are two main approaches:</p>
            
            <pre><code>&lt;?php
$name = "Alex";
$age = 30;

// Approach 1: String concatenation with the '.' operator
echo "My name is " . $name . " and I am " . $age . " years old.";

// Approach 2: Variable interpolation within double quotes
echo "My name is $name and I am $age years old.";
?&gt;</code></pre>
            
            <p>Both approaches output: <code>My name is Alex and I am 30 years old.</code></p>
            
            <div class="important-note">
                <h4>Important:</h4>
                <p>Variable interpolation only works within double quotes (""), not single quotes (''). With single quotes, variables names are treated as literal text:</p>
                
                <pre><code>&lt;?php
$name = "Alex";
echo 'My name is $name'; // Outputs: My name is $name
echo "My name is $name"; // Outputs: My name is Alex
?&gt;</code></pre>
            </div>
            
            <svg width="600" height="300" viewBox="0 0 600 300">
                <!-- Background -->
                <rect x="0" y="0" width="600" height="300" fill="#f8f9fa" rx="15" ry="15" />
                
                <!-- Title -->
                <text x="300" y="40" font-size="24" text-anchor="middle" font-weight="bold">echo vs String Quotes</text>
                
                <!-- Double Quotes section -->
                <rect x="50" y="70" width="230" height="180" fill="#e3f2fd" stroke="#2196f3" stroke-width="2" rx="10" ry="10" />
                <text x="165" y="100" font-size="20" text-anchor="middle" font-weight="bold">Double Quotes</text>
                <text x="165" y="130" font-size="16" text-anchor="middle">echo "Hello $name";</text>
                <text x="165" y="160" font-size="16" text-anchor="middle">Variables are interpreted</text>
                <text x="165" y="190" font-size="16" text-anchor="middle">Escape sequences work</text>
                <text x="165" y="220" font-size="16" text-anchor="middle">\n, \t, \\, \$, \"</text>
                
                <!-- Single Quotes section -->
                <rect x="320" y="70" width="230" height="180" fill="#fff8e1" stroke="#ffc107" stroke-width="2" rx="10" ry="10" />
                <text x="435" y="100" font-size="20" text-anchor="middle" font-weight="bold">Single Quotes</text>
                <text x="435" y="130" font-size="16" text-anchor="middle">echo 'Hello $name';</text>
                <text x="435" y="160" font-size="16" text-anchor="middle">Variables printed literally</text>
                <text x="435" y="190" font-size="16" text-anchor="middle">Limited escape sequences</text>
                <text x="435" y="220" font-size="16" text-anchor="middle">Only \' and \\</text>
            </svg>
            
            <h3>Echo shorthand syntax</h3>
            <p>PHP offers a shorthand syntax for <code>echo</code> that's particularly useful when embedding PHP within HTML:</p>
            
            <pre><code>&lt;!-- Standard echo --&gt;
&lt;p&gt;&lt;?php echo "Hello, World!"; ?&gt;&lt;/p&gt;

&lt;!-- Shorthand echo --&gt;
&lt;p&gt;&lt;?= "Hello, World!" ?&gt;&lt;/p&gt;</code></pre>
            
            <p>Both produce identical output, but the shorthand version is more concise and easier to read when interspersing PHP with HTML.</p>
            
            <h3>Common echo Usage Patterns</h3>
            <p>Let's explore some common real-world use cases for <code>echo</code>:</p>
            
            <h4>Displaying Database Results</h4>
            <pre><code>&lt;?php
// Assume $result contains a query result with user data
while ($row = mysqli_fetch_assoc($result)) {
    echo "&lt;div class='user'&gt;";
    echo "  &lt;h3&gt;" . htmlspecialchars($row['username']) . "&lt;/h3&gt;";
    echo "  &lt;p&gt;Email: " . htmlspecialchars($row['email']) . "&lt;/p&gt;";
    echo "&lt;/div&gt;";
}
?&gt;</code></pre>
            
            <h4>Creating Dynamic Templates</h4>
            <pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;&lt;?= htmlspecialchars($pageTitle) ?&gt;&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;header&gt;
        &lt;h1&gt;&lt;?= htmlspecialchars($siteName) ?&gt;&lt;/h1&gt;
        &lt;nav&gt;
            &lt;?php
            foreach ($menuItems as $url => $label) {
                echo "&lt;a href='" . htmlspecialchars($url) . "'&gt;" . 
                     htmlspecialchars($label) . "&lt;/a&gt; ";
            }
            ?&gt;
        &lt;/nav&gt;
    &lt;/header&gt;
    
    &lt;main&gt;
        &lt;?= $pageContent // Main content inserted here ?&gt;
    &lt;/main&gt;
    
    &lt;footer&gt;
        &lt;?= "&amp;copy; " . date("Y") . " " . htmlspecialchars($siteName) ?&gt;
    &lt;/footer&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
            
            <p class="analogy"><strong>Analogy:</strong> The <code>echo</code> statement is like a megaphone – it simply amplifies and broadcasts whatever you give it, whether it's plain text, HTML, or the values of variables. It doesn't analyze or transform the content; it just makes sure everyone (the browser) can hear it.</p>
        </section>

        <section class="print_method">
            <h2>The print Method</h2>
            <p><code>print</code> is another output method in PHP that functions similarly to <code>echo</code> but with a few key differences.</p>
            
            <h3>Basic print Syntax</h3>
            <p>The basic syntax of <code>print</code> is similar to <code>echo</code>:</p>
            
            <pre><code>&lt;?php
print "Hello, World!";
?&gt;</code></pre>
            
            <h3>Key Differences Between print and echo</h3>
            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th>Feature</th>
                            <th>echo</th>
                            <th>print</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Return Value</td>
                            <td>No return value</td>
                            <td>Always returns 1</td>
                        </tr>
                        <tr>
                            <td>Multiple Arguments</td>
                            <td>Can handle multiple arguments</td>
                            <td>Only accepts one argument</td>
                        </tr>
                        <tr>
                            <td>Usage in Expressions</td>
                            <td>Cannot be used in expressions</td>
                            <td>Can be used in expressions</td>
                        </tr>
                        <tr>
                            <td>Speed</td>
                            <td>Slightly faster</td>
                            <td>Slightly slower</td>
                        </tr>
                        <tr>
                            <td>Type</td>
                            <td>Language construct</td>
                            <td>Language construct</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <h3>print Return Value</h3>
            <p>Unlike <code>echo</code>, <code>print</code> returns a value (always 1), which means it can be used in expressions:</p>
            
            <pre><code>&lt;?php
// Using print in an expression
$isSuccessful = (print "Operation completed.") && validateResult();

// This is equivalent to:
print "Operation completed.";  // Returns 1
$isSuccessful = 1 && validateResult();
?&gt;</code></pre>
            
            <p>This feature is rarely used in practice, but it's good to be aware of it.</p>
            
            <h3>Single Argument Limitation</h3>
            <p>Unlike <code>echo</code>, <code>print</code> can only accept a single argument:</p>
            
            <pre><code>&lt;?php
// This works with echo
echo "Hello", " ", "World";

// This doesn't work with print
// print "Hello", " ", "World";  // Syntax error

// Instead, concatenate the strings
print "Hello" . " " . "World";
?&gt;</code></pre>
            
            <h3>Usage Patterns for print</h3>
            <p>In most cases, <code>print</code> and <code>echo</code> are interchangeable. The choice often comes down to personal preference or team coding standards:</p>
            
            <pre><code>&lt;?php
// Both of these accomplish the same thing
echo "&lt;p&gt;Welcome to our website!&lt;/p&gt;";
print "&lt;p&gt;Welcome to our website!&lt;/p&gt;";

// Variable handling works the same
$username = "JaneDoe";
echo "Hello, $username!";
print "Hello, $username!";
?&gt;</code></pre>
            
            <p class="analogy"><strong>Analogy:</strong> If <code>echo</code> is like a megaphone, <code>print</code> is like a slightly heavier broadcasting device that also signals back to confirm it's working (its return value). It's a bit more formal and can only handle one message at a time, but it gets the job done just as effectively.</p>
            
            <div class="mermaid-diagram">
                <div class="mermaid">
                flowchart TD
                    A[Output Methods] --> B["echo - Language Construct"]
                    A --> C["print - Language Construct"]
                    
                    B --> D["Multiple arguments
                    No return value
                    Slightly faster"]
                    
                    C --> E["Single argument only
                    Returns 1
                    Can be used in expressions"]
                    
                    style A fill:#f96,stroke:#333,stroke-width:2px
                    style B fill:#6c9,stroke:#333,stroke-width:2px
                    style C fill:#6c9,stroke:#333,stroke-width:2px
                </div>
            </div>
        </section>
        
        <section class="practical_usage">
            <h2>Practical Applications and Best Practices</h2>
            <p>Now that we understand how <code>echo</code> and <code>print</code> work, let's explore some practical applications and best practices for using them effectively.</p>
            
            <h3>Security Considerations: Escaping Output</h3>
            <p>When outputting user-provided data or database content, always sanitize your output to prevent Cross-Site Scripting (XSS) attacks:</p>
            
            <pre><code>&lt;?php
// Unsafe - never do this!
$userInput = $_GET['comment'];
echo "You said: " . $userInput;

// Safe - always escape output in HTML contexts
$userInput = $_GET['comment'];
echo "You said: " . htmlspecialchars($userInput, ENT_QUOTES, 'UTF-8');
?&gt;</code></pre>
            
            <p>The <code>htmlspecialchars()</code> function converts special characters to their HTML entities, preventing malicious code execution.</p>
            
            <div class="important-note">
                <h4>Security Warning:</h4>
                <p>Failing to escape output is one of the most common security vulnerabilities in PHP applications. Always use <code>htmlspecialchars()</code> when outputting data in an HTML context, especially user-provided data.</p>
            </div>
            
            <h3>Template Patterns for Clean Code</h3>
            <p>For better code organization, consider using template patterns that separate logic from presentation:</p>
            
            <h4>Alternative Syntax for Control Structures</h4>
            <p>When embedding PHP in HTML, the alternative syntax for control structures makes templates more readable:</p>
            
            <pre><code>&lt;!-- User list template --&gt;
&lt;div class="user-list"&gt;
    &lt;?php if (count($users) > 0): ?&gt;
        &lt;ul&gt;
            &lt;?php foreach ($users as $user): ?&gt;
                &lt;li&gt;
                    &lt;?= htmlspecialchars($user['name']) ?&gt;
                    &lt;?php if ($user['is_admin']): ?&gt;
                        &lt;span class="badge"&gt;Admin&lt;/span&gt;
                    &lt;?php endif; ?&gt;
                &lt;/li&gt;
            &lt;?php endforeach; ?&gt;
        &lt;/ul&gt;
    &lt;?php else: ?&gt;
        &lt;p&gt;No users found.&lt;/p&gt;
    &lt;?php endif; ?&gt;
&lt;/div&gt;</code></pre>
            
            <h4>Output Buffering</h4>
            <p>For more complex scenarios, PHP's output buffering functions allow you to capture output instead of sending it immediately to the browser:</p>
            
            <pre><code>&lt;?php
// Start output buffering
ob_start();

// Generate content
echo "&lt;h1&gt;Page Title&lt;/h1&gt;";
echo "&lt;p&gt;This content is being captured by the buffer.&lt;/p&gt;";

// Get the content from the buffer
$content = ob_get_clean();  // Gets content and ends buffering

// Now you can manipulate the content before output
$content = str_replace("Page Title", "New Page Title", $content);

// Output the modified content
echo $content;
?&gt;</code></pre>
            
            <p>Output buffering is particularly useful for:</p>
            <ul>
                <li>Applying transformations to the entire page output</li>
                <li>Capturing output for caching</li>
                <li>Preventing partial page displays during errors</li>
                <li>Setting HTTP headers after generating content</li>
            </ul>
            
            <h3>Performance Considerations</h3>
            <p>While <code>echo</code> is marginally faster than <code>print</code>, the difference is negligible in most real-world applications. More important performance considerations include:</p>
            
            <h4>String Concatenation vs. Multiple echo Statements</h4>
            <pre><code>&lt;?php
// Approach 1: Multiple echo statements
echo "&lt;div&gt;";
echo "    &lt;h2&gt;" . $title . "&lt;/h2&gt;";
echo "    &lt;p&gt;" . $content . "&lt;/p&gt;";
echo "&lt;/div&gt;";

// Approach 2: Single echo with concatenation
echo "&lt;div&gt;" .
     "    &lt;h2&gt;" . $title . "&lt;/h2&gt;" .
     "    &lt;p&gt;" . $content . "&lt;/p&gt;" .
     "&lt;/div&gt;";
?&gt;</code></pre>
            
            <p>In modern PHP, the performance difference between these approaches is minimal. Choose the style that promotes readability and maintainability in your codebase.</p>
            
            <h4>HEREDOC and NOWDOC Syntax</h4>
            <p>For outputting multi-line strings, consider HEREDOC and NOWDOC syntax:</p>
            
            <pre><code>&lt;?php
// HEREDOC - with variable interpolation (like double quotes)
$name = "John";
echo &lt;&lt;&lt;HTML
&lt;div class="user-card"&gt;
    &lt;h2&gt;Welcome, {$name}!&lt;/h2&gt;
    &lt;p&gt;Thank you for logging in.&lt;/p&gt;
&lt;/div&gt;
HTML;

// NOWDOC - without variable interpolation (like single quotes)
echo &lt;&lt;&lt;'TEXT'
&lt;div class="static-content"&gt;
    &lt;p&gt;Variables like $name are not interpreted here.&lt;/p&gt;
    &lt;p&gt;This is useful for outputting code examples.&lt;/p&gt;
&lt;/div&gt;
TEXT;
?&gt;</code></pre>
            
            <p>These syntaxes improve code readability when outputting complex HTML structures.</p>
        </section>

        <section class="advanced_output">
            <h2>Advanced Output Methods</h2>
            <p>Beyond <code>echo</code> and <code>print</code>, PHP offers several specialized output functions for specific use cases.</p>
            
            <h3>Formatted Output with printf() and sprintf()</h3>
            <p>When you need precise control over the formatting of your output, <code>printf()</code> and <code>sprintf()</code> are invaluable:</p>
            
            <pre><code>&lt;?php
// Basic printf example
$name = "Jane";
$age = 28;
printf("Hello, my name is %s and I am %d years old.", $name, $age);
// Output: Hello, my name is Jane and I am 28 years old.

// Formatting numbers with precision
$price = 19.95;
printf("The item costs $%.2f", $price);
// Output: The item costs $19.95

// Left padding with zeros
$invoiceNumber = 42;
printf("Invoice: %06d", $invoiceNumber);
// Output: Invoice: 000042

// Using different formats
printf("Decimal: %d, Binary: %b, Hex: %x", 255, 255, 255);
// Output: Decimal: 255, Binary: 11111111, Hex: ff

// sprintf returns the formatted string instead of outputting it
$formattedText = sprintf("User ID: %04d", $userId);
echo $formattedText;
?&gt;</code></pre>
            
            <p>Common format specifiers include:</p>
            <ul>
                <li><code>%s</code> - String</li>
                <li><code>%d</code> - Integer (decimal)</li>
                <li><code>%f</code> - Float (use %.2f for 2 decimal places)</li>
                <li><code>%b</code> - Binary</li>
                <li><code>%x</code> - Hexadecimal (lowercase)</li>
                <li><code>%X</code> - Hexadecimal (uppercase)</li>
                <li><code>%%</code> - Literal percentage sign</li>
            </ul>
            
            <p class="analogy"><strong>Analogy:</strong> If <code>echo</code> is like a simple megaphone, <code>printf()</code> is like a sound mixer with precise controls. It doesn't just amplify your message; it allows you to adjust and fine-tune each element before broadcasting it.</p>
            
            <h3>Debug Output with var_dump() and print_r()</h3>
            <p>When debugging, you often need to inspect the structure and content of variables:</p>
            
            <pre><code>&lt;?php
// Sample array to debug
$user = [
    'id' => 1,
    'name' => 'Jane Doe',
    'email' => 'jane@example.com',
    'roles' => ['editor', 'author'],
    'active' => true
];

// var_dump() - Detailed output with types and values
var_dump($user);

// print_r() - More readable format, but less detailed
print_r($user);

// Making debug output more readable in HTML
echo "&lt;pre&gt;";
print_r($user);
echo "&lt;/pre&gt;";

// Capturing the output instead of displaying it
$output = print_r($user, true);
file_put_contents('debug.log', $output);
?&gt;</code></pre>
            
            <h4>var_dump() Output:</h4>
            <pre>
array(5) {
  ["id"]=>
  int(1)
  ["name"]=>
  string(8) "Jane Doe"
  ["email"]=>
  string(15) "jane@example.com"
  ["roles"]=>
  array(2) {
    [0]=>
    string(6) "editor"
    [1]=>
    string(6) "author"
  }
  ["active"]=>
  bool(true)
}
            </pre>
            
            <h4>print_r() Output:</h4>
            <pre>
Array
(
    [id] => 1
    [name] => Jane Doe
    [email] => jane@example.com
    [roles] => Array
        (
            [0] => editor
            [1] => author
        )
    [active] => 1
)
            </pre>
            
            <div class="important-note">
                <h4>Important:</h4>
                <p>Never use <code>var_dump()</code> or <code>print_r()</code> in production code visible to users. These functions expose internal data structures and can reveal sensitive information. Use them only during development and debugging.</p>
            </div>
            
            <h3>Error and Log Output</h3>
            <p>PHP provides specialized functions for error handling and logging:</p>
            
            <pre><code>&lt;?php
// Trigger a user-level error
trigger_error("Something went wrong", E_USER_WARNING);

// Write to the system error log
error_log("Database connection failed: " . $exception->getMessage());

// Customize error display
set_error_handler(function($errno, $errstr, $errfile, $errline) {
    echo "&lt;div class='error-message'&gt;";
    echo "Error: " . htmlspecialchars($errstr);
    echo "&lt;/div&gt;";
    
    // Log the detailed error for developers
    error_log("Error $errno in $errfile on line $errline: $errstr");
    
    // Return false to allow the standard error handler to run as well
    return false;
});
?&gt;</code></pre>
            
            <p>Properly handling and logging errors is crucial for maintaining and troubleshooting applications in production.</p>
        </section>

        <section class="real_world_examples">
            <h2>Real-World Examples: Building a Dynamic Webpage</h2>
            <p>Let's see how these output methods come together in a real-world example of a product listing page for an e-commerce site.</p>
            
            <h3>Example: Product Listing Page</h3>
            
            <pre><code>&lt;?php
// Database connection and query (simplified for example)
$db = new PDO('mysql:host=localhost;dbname=shop', 'username', 'password');
$query = $db->query('SELECT * FROM products WHERE active = 1 ORDER BY name');
$products = $query->fetchAll(PDO::FETCH_ASSOC);

// Page configuration
$pageTitle = "Our Products";
$itemsPerRow = 3;
$currentCategory = $_GET['category'] ?? 'all';

// Helper function to format prices
function formatPrice($price) {
    return sprintf('$%.2f', $price);
}

// Start capturing the main content
ob_start();
?&gt;

&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;&lt;?= htmlspecialchars($pageTitle) ?&gt; | My Store&lt;/title&gt;
    &lt;link rel="stylesheet" href="styles.css"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;header&gt;
        &lt;h1&gt;&lt;?= htmlspecialchars($pageTitle) ?&gt;&lt;/h1&gt;
        
        &lt;nav&gt;
            &lt;?php
            // Generate category menu
            $categories = ['all', 'electronics', 'clothing', 'books'];
            
            echo "&lt;ul class='category-menu'&gt;";
            foreach ($categories as $category) {
                $isActive = ($category === $currentCategory) ? ' class="active"' : '';
                printf(
                    "&lt;li%s&gt;&lt;a href='?category=%s'&gt;%s&lt;/a&gt;&lt;/li&gt;",
                    $isActive,
                    urlencode($category),
                    htmlspecialchars(ucfirst($category))
                );
            }
            echo "&lt;/ul&gt;";
            ?&gt;
        &lt;/nav&gt;
    &lt;/header&gt;
    
    &lt;main&gt;
        &lt;?php if (empty($products)): ?&gt;
            &lt;p class="no-results"&gt;No products found in this category.&lt;/p&gt;
        &lt;?php else: ?&gt;
            &lt;div class="product-grid"&gt;
                &lt;?php 
                $counter = 0;
                foreach ($products as $product):
                    // Skip products not in the selected category
                    if ($currentCategory !== 'all' && $product['category'] !== $currentCategory) {
                        continue;
                    }
                    
                    // Start a new row if needed
                    if ($counter % $itemsPerRow === 0) {
                        echo "&lt;div class='product-row'&gt;";
                    }
                    
                    // Output product card
                    ?&gt;
                    &lt;div class="product-card"&gt;
                        &lt;img src="&lt;?= htmlspecialchars($product['image_url']) ?&gt;" 
                             alt="&lt;?= htmlspecialchars($product['name']) ?&gt;"&gt;
                        
                        &lt;h3&gt;&lt;?= htmlspecialchars($product['name']) ?&gt;&lt;/h3&gt;
                        
                        &lt;p class="price"&gt;&lt;?= formatPrice($product['price']) ?&gt;&lt;/p&gt;
                        
                        &lt;?php if ($product['stock'] > 0): ?&gt;
                            &lt;p class="stock in-stock"&gt;In Stock&lt;/p&gt;
                            &lt;button class="add-to-cart" data-product-id="&lt;?= $product['id'] ?&gt;"&gt;
                                Add to Cart
                            &lt;/button&gt;
                        &lt;?php else: ?&gt;
                            &lt;p class="stock out-of-stock"&gt;Out of Stock&lt;/p&gt;
                            &lt;button class="notify-me" data-product-id="&lt;?= $product['id'] ?&gt;"&gt;
                                Notify When Available
                            &lt;/button&gt;
                        &lt;?php endif; ?&gt;
                    &lt;/div&gt;
                    &lt;?php
                    $counter++;
                    
                    // End the row if needed
                    if ($counter % $itemsPerRow === 0) {
                        echo "&lt;/div&gt;"; // Close product-row
                    }
                endforeach;
                
                // Close the last row if it's not complete
                if ($counter % $itemsPerRow !== 0) {
                    echo "&lt;/div&gt;"; // Close product-row
                }
                ?&gt;
            &lt;/div&gt;
        &lt;?php endif; ?&gt;
    &lt;/main&gt;
    
    &lt;footer&gt;
        &lt;p&gt;&amp;copy; &lt;?= date('Y') ?&gt; My Store. All rights reserved.&lt;/p&gt;
        &lt;p&gt;Page generated on &lt;?= date('Y-m-d H:i:s') ?&gt;&lt;/p&gt;
    &lt;/footer&gt;
    
    &lt;script src="shop.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
            
            <p>This example combines many of the output techniques we've discussed:</p>
            <ul>
                <li>Basic <code>echo</code> and string concatenation for simple HTML</li>
                <li>Shorthand echo <code>&lt;?= ?&gt;</code> for embedding variables in HTML</li>
                <li><code>printf()</code> for formatted output in the category menu</li>
                <li>Alternative syntax for control structures (<code>if/endif</code>, <code>foreach/endforeach</code>)</li>
                <li>HTML escaping with <code>htmlspecialchars()</code> for security</li>
                <li>A custom formatting function for prices</li>
            </ul>
            
            <p>The combination of these techniques results in clean, readable, and secure code that separates logic from presentation while generating dynamic content.</p>
        </section>

        <section class="debug_example">
            <h2>Debugging with Output Methods</h2>
            <p>Let's create a simple debugging helper that demonstrates advanced output techniques:</p>
            
            <pre><code>&lt;?php
/**
 * Debug Helper Class
 * Provides methods for debugging variables and execution flow
 */
class Debug {
    private static $startTime;
    private static $logFile = 'debug.log';
    
    /**
     * Initialize the debug helper
     */
    public static function init($logFile = null) {
        self::$startTime = microtime(true);
        
        if ($logFile) {
            self::$logFile = $logFile;
        }
        
        // Log the start of the request
        self::log("=== Debug session started ===");
        self::log("URL: " . $_SERVER['REQUEST_URI']);
        self::log("Time: " . date('Y-m-d H:i:s'));
    }
    
    /**
     * Log a message to the debug log file
     */
    public static function log($message) {
        $timestamp = sprintf("[%s]", date('H:i:s'));
        $elapsed = sprintf("[+%.4fs]", microtime(true) - self::$startTime);
        
        $logMessage = $timestamp . $elapsed . " " . $message . PHP_EOL;
        file_put_contents(self::$logFile, $logMessage, FILE_APPEND);
    }
    
    /**
     * Dump a variable to the debug log
     */
    public static function dump($var, $label = null) {
        $output = print_r($var, true);
        
        if ($label) {
            self::log("DUMP [$label]: " . $output);
        } else {
            self::log("DUMP: " . $output);
        }
    }
    
    /**
     * Display a variable in the browser (for development only)
     */
    public static function show($var, $label = null, $exit = false) {
        echo "&lt;div class='debug-output'&gt;";
        
        if ($label) {
            echo "&lt;h3&gt;" . htmlspecialchars($label) . "&lt;/h3&gt;";
        }
        
        echo "&lt;pre&gt;";
        var_dump($var);
        echo "&lt;/pre&gt;";
        
        echo "&lt;/div&gt;";
        
        // Also log to file
        self::dump($var, $label);
        
        if ($exit) {
            exit;
        }
    }
    
    /**
     * Calculate and show execution time
     */
    public static function timer($label = "Execution time") {
        $elapsed = microtime(true) - self::$startTime;
        
        echo "&lt;div class='debug-timer'&gt;";
        printf("&lt;strong&gt;%s:&lt;/strong&gt; %.4f seconds", htmlspecialchars($label), $elapsed);
        echo "&lt;/div&gt;";
        
        self::log("TIMER [$label]: " . $elapsed . " seconds");
    }
}

// Usage example:

// Initialize the debugger
Debug::init();

// Log a message
Debug::log("Processing started");

// Simulate some processing
$users = [
    ['id' => 1, 'name' => 'Alice'],
    ['id' => 2, 'name' => 'Bob'],
    ['id' => 3, 'name' => 'Charlie']
];

// Dump a variable to the log file
Debug::dump($users, "User array");

// Display a variable in the browser (dev environment only)
if ($_SERVER['REMOTE_ADDR'] === '127.0.0.1') {
    Debug::show($users, "User Data");
}

// Log processing time
Debug::timer("User processing");
?&gt;</code></pre>
            
            <p>This debugging class showcases several output techniques:</p>
            <ul>
                <li>Using <code>file_put_contents()</code> for logging to files</li>
                <li>Using <code>print_r()</code> with the second parameter set to <code>true</code> to capture the output</li>
                <li>Using <code>printf()</code> for formatted timing information</li>
                <li>Combining <code>echo</code> and <code>var_dump()</code> for browser-based debugging</li>
            </ul>
            
            <p>A debugging helper like this can be invaluable during development, allowing you to track execution flow, inspect variables, and measure performance without littering your code with temporary debug statements.</p>
        </section>

        <section class="best_practices_advanced">
            <h2>Advanced Best Practices for Output Management</h2>
            
            <h3>Content-Type Headers for Different Output Formats</h3>
            <p>When generating non-HTML output like JSON, XML, or CSV, set the appropriate Content-Type header:</p>
            
            <pre><code>&lt;?php
// Generating JSON output
header('Content-Type: application/json');
$data = ['status' => 'success', 'message' => 'Data saved successfully'];
echo json_encode($data);

// Generating XML output
header('Content-Type: application/xml');
echo '&lt;?xml version="1.0" encoding="UTF-8"?&gt;';
echo '&lt;response&gt;&lt;status&gt;success&lt;/status&gt;&lt;message&gt;Data saved successfully&lt;/message&gt;&lt;/response&gt;';

// Generating CSV output
header('Content-Type: text/csv');
header('Content-Disposition: attachment; filename="report.csv"');
$output = fopen('php://output', 'w');
fputcsv($output, ['Name', 'Email', 'Phone']);
fputcsv($output, ['John Doe', 'john@example.com', '555-1234']);
fputcsv($output, ['Jane Smith', 'jane@example.com', '555-5678']);
fclose($output);
?&gt;</code></pre>
            
            <h3>Output Filtering and Transformation</h3>
            <p>For complex applications, consider implementing output filters that can transform content before it reaches the browser:</p>
            
            <pre><code>&lt;?php
class OutputFilter {
    private static $filters = [];
    
    /**
     * Register a new output filter
     */
    public static function register($name, $callback) {
        self::$filters[$name] = $callback;
    }
    
    /**
     * Apply all registered filters to content
     */
    public static function apply($content) {
        foreach (self::$filters as $name => $callback) {
            $content = call_user_func($callback, $content);
        }
        return $content;
    }
}

// Register filters
OutputFilter::register('minify_html', function($content) {
    // Simple HTML minification
    $search = ['/\>[^\S ]+/s', '/[^\S ]+\</s', '/(\s)+/s'];
    $replace = ['>', '<', '\\1'];
    return preg_replace($search, $replace, $content);
});

OutputFilter::register('add_analytics', function($content) {
    // Add Google Analytics code before &lt;/body&gt;
    $analyticsCode = "&lt;script&gt;/* Analytics code here */&lt;/script&gt;";
    return str_replace('&lt;/body&gt;', $analyticsCode . '&lt;/body&gt;', $content);
});

// Start output buffering
ob_start();

// Generate page content as usual
echo "&lt;!DOCTYPE html&gt;";
echo "&lt;html&gt;";
echo "&lt;head&gt;&lt;title&gt;My Page&lt;/title&gt;&lt;/head&gt;";
echo "&lt;body&gt;";
echo "    &lt;h1&gt;Hello, World!&lt;/h1&gt;";
echo "    &lt;p&gt;This is my page content.&lt;/p&gt;";
echo "&lt;/body&gt;";
echo "&lt;/html&gt;";

// Get the buffered content and apply filters
$content = ob_get_clean();
echo OutputFilter::apply($content);
?&gt;</code></pre>
            
            <p>This approach allows you to separate content generation from transformations like minification, analytics injection, or content security policy implementation.</p>
            
            <h3>Template Engines for Cleaner Separation</h3>
            <p>For larger applications, consider using a template engine like Twig, Smarty, or Blade to achieve a cleaner separation of PHP logic and HTML output:</p>
            
            <pre><code>&lt;?php
// Example using Twig template engine
require_once 'vendor/autoload.php';

$loader = new \Twig\Loader\FilesystemLoader('templates');
$twig = new \Twig\Environment($loader, [
    'cache' => 'cache/twig',
    'auto_reload' => true,
]);

// Prepare data for the template
$data = [
    'pageTitle' => 'Product Listing',
    'products' => $productRepository->findAll(),
    'currentCategory' => $_GET['category'] ?? 'all',
    'categories' => $categoryRepository->findAll(),
];

// Render the template
echo $twig->render('products.twig', $data);
?&gt;</code></pre>
            
            <p>Template engines offer additional benefits like:</p>
            <ul>
                <li>Automatic escaping of variables to prevent XSS attacks</li>
                <li>Template inheritance and reusable components</li>
                <li>Easy to understand syntax for designers</li>
                <li>Caching for improved performance</li>
            </ul>
        </section>

        <section class="exercise">
            <h2>Practical Exercise: Building a Dynamic Dashboard Widget</h2>
            <p>Let's put our knowledge of output methods into practice by creating a reusable dashboard widget that displays dynamic data.</p>
            
            <h3>Exercise Requirements</h3>
            <ol>
                <li>Create a widget that displays recent user registrations</li>
                <li>The widget should format dates and times appropriately</li>
                <li>It should handle both empty results and error conditions</li>
                <li>All output should be properly escaped to prevent XSS</li>
                <li>The code should be organized and maintainable</li>
            </ol>
            
            <h3>Widget Implementation</h3>
            
            <pre><code>&lt;?php
/**
 * Dashboard Widget: Recent Registrations
 */
class RecentRegistrationsWidget {
    private $db;
    private $limit;
    private $error = null;
    
    /**
     * Constructor
     */
    public function __construct($db, $limit = 5) {
        $this->db = $db;
        $this->limit = max(1, intval($limit));
    }
    
    /**
     * Get recent registrations from the database
     */
    private function getRecentRegistrations() {
        try {
            $query = "SELECT id, username, email, created_at 
                      FROM users 
                      ORDER BY created_at DESC 
                      LIMIT :limit";
                      
            $stmt = $this->db->prepare($query);
            $stmt->bindValue(':limit', $this->limit, PDO::PARAM_INT);
            $stmt->execute();
            
            return $stmt->fetchAll(PDO::FETCH_ASSOC);
        } catch (PDOException $e) {
            $this->error = "Database error: " . $e->getMessage();
            return [];
        }
    }
    
    /**
     * Format a timestamp for display
     */
    private function formatDate($timestamp) {
        $date = new DateTime($timestamp);
        $now = new DateTime();
        $interval = $date->diff($now);
        
        if ($interval->days == 0) {
            // Today - show time
            return sprintf("Today at %s", $date->format('g:i A'));
        } elseif ($interval->days == 1) {
            // Yesterday
            return "Yesterday";
        } elseif ($interval->days < 7) {
            // This week
            return $date->format('l'); // Day name
        } else {
            // Older
            return $date->format('M j, Y'); // Month Day, Year
        }
    }
    
    /**
     * Render the widget
     */
    public function render() {
        // Start capturing output
        ob_start();
        
        echo '&lt;div class="dashboard-widget recent-registrations"&gt;';
        echo '    &lt;h3&gt;Recent Registrations&lt;/h3&gt;';
        
        if ($this->error) {
            // Display error message
            printf(
                '&lt;div class="widget-error"&gt;%s&lt;/div&gt;',
                htmlspecialchars($this->error)
            );
        } else {
            $registrations = $this->getRecentRegistrations();
            
            if (empty($registrations)) {
                echo '&lt;p class="no-data"&gt;No recent registrations found.&lt;/p&gt;';
            } else {
                echo '&lt;ul class="registration-list"&gt;';
                
                foreach ($registrations as $user) {
                    $username = htmlspecialchars($user['username']);
                    $email = htmlspecialchars($user['email']);
                    $date = $this->formatDate($user['created_at']);
                    
                    echo '&lt;li&gt;';
                    echo '    &lt;div class="user-info"&gt;';
                    printf('        &lt;span class="username"&gt;%s&lt;/span&gt;', $username);
                    printf('        &lt;span class="email"&gt;%s&lt;/span&gt;', $email);
                    echo '    &lt;/div&gt;';
                    printf('    &lt;div class="date"&gt;%s&lt;/div&gt;', $date);
                    echo '&lt;/li&gt;';
                }
                
                echo '&lt;/ul&gt;';
                
                // Show view all link if we have users
                echo '&lt;a href="users.php" class="view-all"&gt;View All Users&lt;/a&gt;';
            }
        }
        
        echo '&lt;/div&gt;';
        
        // Return the captured output
        return ob_get_clean();
    }
}

// Usage example:
try {
    $db = new PDO('mysql:host=localhost;dbname=myapp', 'username', 'password');
    $widget = new RecentRegistrationsWidget($db, 5);
    echo $widget->render();
} catch (Exception $e) {
    echo "&lt;div class='error'&gt;Error initializing widget: " . 
         htmlspecialchars($e->getMessage()) . "&lt;/div&gt;";
}
?&gt;</code></pre>
            
            <h3>Key Techniques Used in This Exercise</h3>
            <ul>
                <li>Object-oriented approach for encapsulation and reusability</li>
                <li>Output buffering (<code>ob_start()</code> and <code>ob_get_clean()</code>) to capture all output</li>
                <li>Proper error handling with custom error messages</li>
                <li>Data formatting with date manipulation</li>
                <li>HTML escaping using <code>htmlspecialchars()</code> for security</li>
                <li>String formatting with <code>printf()</code> for complex output</li>
                <li>Conditional output for different states (error, empty, data)</li>
            </ul>
            
            <h3>Extension Ideas</h3>
            <p>Try extending this widget with additional features:</p>
            <ol>
                <li>Add sorting options (newest first, alphabetical)</li>
                <li>Add pagination for larger datasets</li>
                <li>Implement theming or style options</li>
                <li>Add search/filter functionality</li>
                <li>Create additional widgets using the same pattern</li>
            </ol>
        </section>

        <section class="conclusion">
            <h2>Summary and Best Practices</h2>
            <p>We've covered a lot of ground exploring PHP's output methods. Let's summarize the key points and best practices:</p>
            
            <h3>Key Takeaways</h3>
            <ul>
                <li><code>echo</code> and <code>print</code> are the primary output methods in PHP</li>
                <li><code>echo</code> is slightly faster and can handle multiple arguments</li>
                <li><code>print</code> returns a value (1) and can be used in expressions</li>
                <li>For most purposes, the choice between <code>echo</code> and <code>print</code> is a matter of preference</li>
                <li>Specialized output functions like <code>printf()</code>, <code>sprintf()</code>, and <code>var_dump()</code> serve specific needs</li>
                <li>Output buffering provides advanced control over generated content</li>
                <li>Proper escaping of output is essential for security</li>
            </ul>
            
            <h3>Best Practices Checklist</h3>
            <ul>
                <li><strong>Security:</strong> Always escape output with <code>htmlspecialchars()</code> in HTML contexts</li>
                <li><strong>Readability:</strong> Choose output methods that make your code more readable</li>
                <li><strong>Separation:</strong> Separate logic from presentation when possible</li>
                <li><strong>Consistency:</strong> Be consistent in your choice of output methods throughout a project</li>
                <li><strong>Performance:</strong> Use output buffering for complex manipulations</li>
                <li><strong>Debugging:</strong> Use appropriate debug output methods during development</li>
                <li><strong>Headers:</strong> Set appropriate content-type headers for non-HTML output</li>
            </ul>
            
            <p>Understanding PHP's output methods is foundational to web development. These tools help you bridge the gap between server-side processing and client-side display, enabling you to create dynamic, interactive, and secure web applications.</p>
            
            <div class="mermaid-diagram">
                <div class="mermaid">
                graph TD
                    A[Output Methods Decision] --> B{What's your need?}
                    
                    B -->|"Simple output"| C["echo or print
                    (echo preferred)"]
                    
                    B -->|"Formatted output"| D["printf() or sprintf()"]
                    
                    B -->|"Debugging"| E["var_dump() or print_r()"]
                    
                    B -->|"Complex manipulation"| F["Output buffering
                    (ob_start, ob_get_clean)"]
                    
                    B -->|"Non-HTML formats"| G["json_encode, XML functions,
                    or direct file output"]
                    
                    style A fill:#f96,stroke:#333,stroke-width:2px
                </div>
            </div>
            
            <p>Remember that mastering these output methods is just the beginning. As you progress in your PHP journey, you'll discover more sophisticated ways to structure and deliver your application's output, from template engines to APIs and beyond.</p>
        </section>

        <section class="resources">
            <h2>Additional Resources</h2>
            
            <h3>Official Documentation</h3>
            <ul>
                <li><a href="https://www.php.net/manual/en/function.echo.php" target="_blank">PHP Manual: echo</a></li>
                <li><a href="https://www.php.net/manual/en/function.print.php" target="_blank">PHP Manual: print</a></li>
                <li><a href="https://www.php.net/manual/en/function.printf.php" target="_blank">PHP Manual: printf</a></li>
                <li><a href="https://www.php.net/manual/en/function.sprintf.php" target="_blank">PHP Manual: sprintf</a></li>
                <li><a href="https://www.php.net/manual/en/function.var-dump.php" target="_blank">PHP Manual: var_dump</a></li>
                <li><a href="https://www.php.net/manual/en/function.print-r.php" target="_blank">PHP Manual: print_r</a></li>
                <li><a href="https://www.php.net/manual/en/book.outcontrol.php" target="_blank">PHP Manual: Output Control Functions</a></li>
            </ul>
            
            <h3>Security Resources</h3>
            <ul>
                <li><a href="https://www.php.net/manual/en/function.htmlspecialchars.php" target="_blank">PHP Manual: htmlspecialchars</a></li>
                <li><a href="https://cheatsheetseries.owasp.org/cheatsheets/Cross_Site_Scripting_Prevention_Cheat_Sheet.html" target="_blank">OWASP XSS Prevention Cheat Sheet</a></li>
            </ul>
            
            <h3>Books and Tutorials</h3>
            <ul>
                <li>"PHP & MySQL: Novice to Ninja" by Kevin Yank and Tom Butler</li>
                <li>"Modern PHP" by Josh Lockhart</li>
                <li>"PHP: The Right Way" - <a href="https://phptherightway.com/" target="_blank">https://phptherightway.com/</a></li>
            </ul>
            
            <h3>Template Engines</h3>
            <ul>
                <li>Twig: <a href="https://twig.symfony.com/" target="_blank">https://twig.symfony.com/</a></li>
                <li>Smarty: <a href="https://www.smarty.net/" target="_blank">https://www.smarty.net/</a></li>
                <li>Blade: <a href="https://laravel.com/docs/blade" target="_blank">https://laravel.com/docs/blade</a></li>
            </ul>
        </section>
    </main>
    
    <footer>
        <p>&copy; 2025 PHP WordPress Development Course</p>

    </footer>
</body>
</html>
