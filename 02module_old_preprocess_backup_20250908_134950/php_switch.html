<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Understanding PHP Conditionals: Switch Statements</title>
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="icon" href="/favicon.png">
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
      mermaid.initialize({ startOnLoad: true });
    </script>
</head>
<body>
    <header>
        <h1>Understanding PHP Conditionals: Switch Statements</h1>
        <p><a href="index.html">← Back to Syllabus</a> | <a href="module2.html">← Module 2 Overview</a></p>
    </header>
    
    <main>
        <section class="intro">
            <h2>Introduction to Switch Statements</h2>
            <p>Welcome to our continuing exploration of PHP conditional statements! In our previous sessions, we covered <code>if</code>, <code>if-else</code>, and <code>if-elseif-else</code> statements. Today, we're focusing on <code>switch</code> statements, which provide an elegant alternative for comparing a single variable against multiple values.</p>
            
            <div class="analogy">
                <h3>The TV Remote Analogy</h3>
                <p>Think of a switch statement as a TV remote control. When you press a channel button (the expression), the TV switches to that specific channel (case). Each channel button is designed to perform a specific action (show a particular channel), just like each case in a switch statement is designed to execute specific code. If you press a button that doesn't exist (no matching case), some remotes will default to a predefined action (the default case).</p>
                
                <div class="mermaid-diagram">
                    <div class="mermaid">
                    graph TD
                        A[Expression Evaluation] --> B{Compare with Cases}
                        B -->|Case 1 Matches| C[Execute Case 1 Code]
                        B -->|Case 2 Matches| D[Execute Case 2 Code]
                        B -->|Case 3 Matches| E[Execute Case 3 Code]
                        B -->|No Case Matches| F[Execute Default Code]
                        C --> G[Continue from End of Switch]
                        D --> G
                        E --> G
                        F --> G
                    </div>
                </div>
            </div>
        </section>

        <section class="basic_syntax">
            <h2>Basic Switch Syntax</h2>
            <p>The switch statement evaluates an expression once and compares it against a series of values. When a match is found, the corresponding code block executes.</p>
            
            <div class="code-example">
                <h3>Basic Syntax</h3>
                <pre><code>
switch (expression) {
    case value1:
        // Code to execute if expression equals value1
        break;
    case value2:
        // Code to execute if expression equals value2
        break;
    case value3:
        // Code to execute if expression equals value3
        break;
    default:
        // Code to execute if no case matches
}
                </code></pre>
                
                <p>Let's break down the components:</p>
                <ul>
                    <li><strong>switch</strong>: The keyword that starts the switch statement</li>
                    <li><strong>expression</strong>: The value to evaluate (typically a variable or function call)</li>
                    <li><strong>case</strong>: A keyword that introduces a potential matching value</li>
                    <li><strong>value</strong>: A literal value to compare against the expression</li>
                    <li><strong>break</strong>: A statement that exits the switch block (prevents "falling through" to the next case)</li>
                    <li><strong>default</strong>: An optional catch-all case that executes when no other case matches</li>
                </ul>
            </div>
            
            <div class="real-world">
                <h3>Real-World Example: Day of the Week</h3>
                <p>A classic example of switch statements is handling different days of the week:</p>
                
                <pre><code>
$dayOfWeek = date('l'); // Gets the current day name (e.g., "Monday")

switch ($dayOfWeek) {
    case 'Monday':
        echo "Start of the work week. Time to plan your tasks!";
        break;
    case 'Tuesday':
        echo "Productive day ahead. Keep the momentum going!";
        break;
    case 'Wednesday':
        echo "Midweek already! You're halfway there.";
        break;
    case 'Thursday':
        echo "One more day until Friday. Keep pushing!";
        break;
    case 'Friday':
        echo "Happy Friday! Weekend is almost here.";
        break;
    case 'Saturday':
    case 'Sunday':
        echo "It's the weekend! Time to relax.";
        break;
    default:
        echo "Invalid day of the week.";
}
                </code></pre>
                
                <p>Notice how Saturday and Sunday share the same code block. This is a convenient feature of switch statements that allows you to handle multiple values with the same code.</p>
            </div>
        </section>
        
        <section class="comparison">
            <h2>Switch vs. If-Elseif: When to Use Each</h2>
            
            <div class="comparison-table">
                <h3>Comparing Switch and If-Elseif</h3>
                <p>Both switch and if-elseif can be used to compare a value against multiple options, but they have different strengths and use cases:</p>
                
                <table>
                    <tr>
                        <th>Feature</th>
                        <th>Switch Statement</th>
                        <th>If-Elseif Statement</th>
                    </tr>
                    <tr>
                        <td>Comparison type</td>
                        <td>Equality (==) only</td>
                        <td>Any comparison (==, ===, >, <, etc.)</td>
                    </tr>
                    <tr>
                        <td>Multiple conditions</td>
                        <td>Multiple values for one variable</td>
                        <td>Multiple variables or complex conditions</td>
                    </tr>
                    <tr>
                        <td>Value grouping</td>
                        <td>Easy (case 1: case 2: code;)</td>
                        <td>Requires logical operators (||)</td>
                    </tr>
                    <tr>
                        <td>Readability for many conditions</td>
                        <td>Usually better</td>
                        <td>Can become unwieldy</td>
                    </tr>
                    <tr>
                        <td>Performance</td>
                        <td>Potentially faster for many equal comparisons</td>
                        <td>Better for few or complex conditions</td>
                    </tr>
                </table>
            </div>
            
            <div class="example-comparison">
                <h3>Same Logic, Different Syntax</h3>
                <p>Let's see how the same logic looks using both approaches:</p>
                
                <pre><code>
// Using switch
$fruitName = "apple";
$message = "";

switch ($fruitName) {
    case "apple":
        $message = "Apples are red or green.";
        break;
    case "banana":
        $message = "Bananas are yellow.";
        break;
    case "orange":
        $message = "Oranges are, well, orange.";
        break;
    default:
        $message = "I don't know what color that fruit is.";
}

// Using if-elseif
$fruitName = "apple";
$message = "";

if ($fruitName === "apple") {
    $message = "Apples are red or green.";
} elseif ($fruitName === "banana") {
    $message = "Bananas are yellow.";
} elseif ($fruitName === "orange") {
    $message = "Oranges are, well, orange.";
} else {
    $message = "I don't know what color that fruit is.";
}
                </code></pre>
                
                <p>Both code blocks accomplish the same task, but the switch statement can be more readable when dealing with many cases, especially when multiple values should trigger the same code.</p>
            </div>
            
            <div class="best-practice">
                <h3>Best Practice: Choose Based on the Task</h3>
                <ul>
                    <li><strong>Use switch when:</strong>
                        <ul>
                            <li>Comparing a single variable against multiple values</li>
                            <li>Multiple values should trigger the same code block</li>
                            <li>You have many conditions to check (5+ cases)</li>
                            <li>You only need equality comparison (not &lt;, &gt;, etc.)</li>
                        </ul>
                    </li>
                    <li><strong>Use if-elseif when:</strong>
                        <ul>
                            <li>Checking different variables in each condition</li>
                            <li>Using complex conditions with logical operators</li>
                            <li>Using different comparison operators (===, !==, &lt;, &gt;, etc.)</li>
                            <li>You have few conditions to check</li>
                        </ul>
                    </li>
                </ul>
            </div>
        </section>
        
        <section class="fall_through">
            <h2>The Fall-Through Behavior</h2>
            
            <p>One of the most distinctive (and sometimes tricky) features of switch statements is the "fall-through" behavior. Unlike if-elseif statements, which automatically stop after a matching condition is found, switch statements will continue executing code from the matching case until they either reach a <code>break</code> statement or the end of the switch block.</p>
            
            <div class="example-fallthrough">
                <h3>Understanding Fall-Through with an Example</h3>
                <pre><code>
$dayType = "unknown";
$day = "Tuesday";

switch ($day) {
    case "Monday":
        echo "Start of the week... ";
        // Missing break causes fall-through!
    case "Tuesday":
        echo "Second day... ";
        // Missing break causes fall-through!
    case "Wednesday":
        echo "Midweek... ";
        break; // This stops the fall-through
    case "Thursday":
        echo "Getting closer to Friday... ";
        break;
    case "Friday":
        echo "End of the work week!";
        break;
    default:
        echo "It's the weekend!";
}
                </code></pre>
                
                <p>For <code>$day = "Tuesday"</code>, this code will output: "Second day... Midweek... " because execution starts at the matching case and continues until it hits a break statement.</p>
            </div>
            
            <div class="svg-diagram">
                <h3>Visual Representation of Fall-Through</h3>
                <svg viewBox="0 0 800 350" xmlns="http://www.w3.org/2000/svg">
                    <!-- Switch expression box -->
                    <rect x="350" y="20" width="100" height="40" rx="5" ry="5" fill="#e6f7ff" stroke="#0066cc" stroke-width="2"/>
                    <text x="400" y="45" text-anchor="middle" font-size="16">$day value</text>
                    
                    <!-- Cases -->
                    <rect x="150" y="100" width="500" height="40" rx="5" ry="5" fill="#f0f8ff" stroke="#0066cc" stroke-width="2"/>
                    <text x="400" y="125" text-anchor="middle" font-size="16">case "Monday": echo "Start of the week... ";</text>
                    
                    <rect x="150" y="150" width="500" height="40" rx="5" ry="5" fill="#e6ffef" stroke="#00cc66" stroke-width="3"/>
                    <text x="400" y="175" text-anchor="middle" font-size="16">case "Tuesday": echo "Second day... ";</text>
                    
                    <rect x="150" y="200" width="500" height="40" rx="5" ry="5" fill="#f0f8ff" stroke="#0066cc" stroke-width="2"/>
                    <text x="400" y="225" text-anchor="middle" font-size="16">case "Wednesday": echo "Midweek... "; break;</text>
                    
                    <rect x="150" y="250" width="500" height="40" rx="5" ry="5" fill="#f0f8ff" stroke="#0066cc" stroke-width="2"/>
                    <text x="400" y="275" text-anchor="middle" font-size="16">case "Thursday": echo "Getting closer... "; break;</text>
                    
                    <!-- Arrows -->
                    <line x1="400" y1="60" x2="400" y2="90" stroke="#0066cc" stroke-width="2"/>
                    <polygon points="395,90 405,90 400,100" fill="#0066cc"/>
                    
                    <!-- Execution path -->
                    <line x1="400" y1="60" x2="300" y2="90" stroke="#00cc66" stroke-width="3" stroke-dasharray="5,5"/>
                    <line x1="300" y1="90" x2="300" y2="150" stroke="#00cc66" stroke-width="3" stroke-dasharray="5,5"/>
                    <polygon points="295,150 305,150 300,160" fill="#00cc66"/>
                    
                    <!-- Fall-through arrow -->
                    <line x1="400" y1="190" x2="400" y2="200" stroke="#00cc66" stroke-width="3"/>
                    <polygon points="395,200 405,200 400,210" fill="#00cc66"/>
                    
                    <!-- Break statement -->
                    <line x1="500" y1="220" x2="650" y2="220" stroke="#cc3300" stroke-width="2"/>
                    <line x1="650" y1="220" x2="650" y2="320" stroke="#cc3300" stroke-width="2"/>
                    <polygon points="645,320 655,320 650,330" fill="#cc3300"/>
                    
                    <rect x="600" y="330" width="100" height="40" rx="5" ry="5" fill="#ffede6" stroke="#cc3300" stroke-width="2"/>
                    <text x="650" y="355" text-anchor="middle" font-size="16">Exit Switch</text>
                    
                    <!-- Legend -->
                    <rect x="50" y="310" width="20" height="20" fill="#e6ffef" stroke="#00cc66" stroke-width="3"/>
                    <text x="80" y="325" text-anchor="start" font-size="14">Entry point (matching case)</text>
                    
                    <line x1="50" y1="340" x2="70" y2="340" stroke="#00cc66" stroke-width="3"/>
                    <text x="80" y="345" text-anchor="start" font-size="14">Execution flow</text>
                    
                    <line x1="50" y1="360" x2="70" y2="360" stroke="#cc3300" stroke-width="2"/>
                    <text x="80" y="365" text-anchor="start" font-size="14">Break statement effect</text>
                </svg>
                <p>This diagram shows how execution jumps to the matching case ("Tuesday"), then falls through to the next case until it hits a break statement.</p>
            </div>
            
            <div class="intentional-fallthrough">
                <h3>Intentional Fall-Through: When It's Useful</h3>
                <p>While fall-through is often a source of bugs, it can be intentionally used for several scenarios:</p>
                
                <div class="example">
                    <h4>Example 1: Shared Code for Multiple Cases</h4>
                    <pre><code>
$day = "Saturday";

switch ($day) {
    case "Monday":
    case "Tuesday":
    case "Wednesday":
    case "Thursday":
    case "Friday":
        $dayType = "weekday";
        break;
    case "Saturday":
    case "Sunday":
        $dayType = "weekend";
        break;
}

echo "$day is a $dayType.";
                    </code></pre>
                    <p>This pattern uses fall-through to group days into "weekday" or "weekend" categories.</p>
                </div>
                
                <div class="example">
                    <h4>Example 2: Cumulative Actions</h4>
                    <pre><code>
$userAccessLevel = 3; // 1 = basic, 2 = editor, 3 = admin
$userPermissions = [];

switch ($userAccessLevel) {
    case 3: // Admin
        $userPermissions[] = "manage_users";
        $userPermissions[] = "manage_plugins";
        // Fall through to also get editor permissions
    case 2: // Editor
        $userPermissions[] = "edit_others_posts";
        $userPermissions[] = "publish_posts";
        // Fall through to also get basic permissions
    case 1: // Basic
        $userPermissions[] = "read";
        $userPermissions[] = "edit_own_posts";
        break;
}

echo "User has the following permissions: " . implode(", ", $userPermissions);
                    </code></pre>
                    <p>This pattern uses fall-through to accumulate permissions based on access level. Higher levels inherit all permissions from lower levels.</p>
                </div>
            </div>
            
            <div class="best-practice">
                <h3>Best Practice: Document Intentional Fall-Through</h3>
                <p>If you're intentionally using fall-through behavior, add a comment to make it clear that the missing break is deliberate:</p>
                <pre><code>
switch ($userAccessLevel) {
    case 3: // Admin
        $userPermissions[] = "manage_users";
        // Intentional fall-through to inherit editor permissions
    case 2: // Editor
        $userPermissions[] = "edit_posts";
        // Intentional fall-through to inherit basic permissions
    case 1: // Basic
        $userPermissions[] = "read";
        break;
}
                </code></pre>
            </div>
        </section>
        
        <section class="switch_limitations">
            <h2>Limitations and Gotchas</h2>
            
            <div class="limitation">
                <h3>Limitation 1: Expression Types</h3>
                <p>Switch cases must be simple values, not expressions or ranges:</p>
                <pre><code>
$score = 85;

// This won't work as expected!
switch ($score) {
    case ($score >= 90): // PHP evaluates this to either true or false
        echo "A grade";
        break;
    case ($score >= 80): // Same here
        echo "B grade";
        break;
    // etc.
}

// Instead, use if-elseif for range comparisons:
if ($score >= 90) {
    echo "A grade";
} elseif ($score >= 80) {
    echo "B grade";
}
                </code></pre>
            </div>
            
            <div class="limitation">
                <h3>Limitation 2: Loose Comparison</h3>
                <p>Switch uses loose comparison (==) rather than strict comparison (===), which can lead to unexpected behavior:</p>
                <pre><code>
$value = "1"; // String "1"

switch ($value) {
    case 1: // Integer 1
        echo "Matched integer 1";
        break;
    case "1": // String "1"
        echo "Matched string '1'";
        break;
}

// This will output "Matched integer 1" because switch uses loose comparison
// The string "1" is considered equal to the integer 1 with loose comparison
                </code></pre>
                <p>If strict type checking is important, use if-elseif with the === operator instead.</p>
            </div>
            
            <div class="limitation">
                <h3>Limitation 3: Missing Break Statements</h3>
                <p>Forgetting a break statement is a common source of bugs:</p>
                <pre><code>
$color = "red";

switch ($color) {
    case "red":
        echo "Stop";
        // Oops, forgot the break!
    case "yellow":
        echo "Caution";
        break;
    case "green":
        echo "Go";
        break;
}

// This will output "StopCaution" instead of just "Stop"
                </code></pre>
            </div>
            
            <div class="best-practice">
                <h3>Best Practice: Use Switch for Its Strengths</h3>
                <p>Use switch statements when they align with your needs and if-elseif when they don't. Don't try to force complex conditions into a switch statement.</p>
            </div>
        </section>
        
        <section class="practical_examples">
            <h2>Practical Examples of Switch Statements</h2>
            
            <div class="example">
                <h3>Example 1: HTTP Status Code Handling</h3>
                <pre><code>
$httpStatus = 404;
$statusMessage = "";

switch ($httpStatus) {
    case 200:
        $statusMessage = "OK - The request was successful.";
        break;
    case 201:
        $statusMessage = "Created - The resource was created successfully.";
        break;
    case 301:
    case 302:
    case 307:
        $statusMessage = "Redirection - The resource has moved.";
        break;
    case 400:
        $statusMessage = "Bad Request - The request could not be understood.";
        break;
    case 401:
        $statusMessage = "Unauthorized - Authentication required.";
        break;
    case 403:
        $statusMessage = "Forbidden - You don't have permission.";
        break;
    case 404:
        $statusMessage = "Not Found - The resource could not be found.";
        break;
    case 500:
        $statusMessage = "Internal Server Error - Something went wrong on the server.";
        break;
    default:
        $statusMessage = "Unknown status code: $httpStatus";
}

echo $statusMessage;
                </code></pre>
            </div>
            
            <div class="example">
                <h3>Example 2: Month to Season Converter</h3>
                <pre><code>
$month = date('n'); // Current month as a number (1-12)
$season = "";

switch ($month) {
    case 12:
    case 1:
    case 2:
        $season = "Winter";
        break;
    case 3:
    case 4:
    case 5:
        $season = "Spring";
        break;
    case 6:
    case 7:
    case 8:
        $season = "Summer";
        break;
    case 9:
    case 10:
    case 11:
        $season = "Fall";
        break;
    default:
        $season = "Unknown";
}

echo "Current season: $season";
                </code></pre>
                <p>Note: This is for the Northern Hemisphere. You would need to adjust for the Southern Hemisphere.</p>
            </div>
            
            <div class="example">
                <h3>Example 3: Simple Calculator</h3>
                <pre><code>
$num1 = 10;
$num2 = 5;
$operation = '+';
$result = null;

switch ($operation) {
    case '+':
        $result = $num1 + $num2;
        break;
    case '-':
        $result = $num1 - $num2;
        break;
    case '*':
        $result = $num1 * $num2;
        break;
    case '/':
        if ($num2 != 0) {
            $result = $num1 / $num2;
        } else {
            $result = "Error: Division by zero";
        }
        break;
    case '%':
        $result = $num1 % $num2;
        break;
    default:
        $result = "Error: Invalid operation";
}

echo "$num1 $operation $num2 = $result";
                </code></pre>
            </div>
            
            <div class="example">
                <h3>Example 4: WordPress Content Type Handler</h3>
                <pre><code>
// WordPress function to get post type (simplified for example)
$postType = 'product'; // In a real WordPress environment, you'd use get_post_type()

switch ($postType) {
    case 'post':
        echo "This is a standard blog post.";
        include(get_template_directory() . '/template-parts/content-post.php');
        break;
    case 'page':
        echo "This is a static page.";
        include(get_template_directory() . '/template-parts/content-page.php');
        break;
    case 'product':
        echo "This is a WooCommerce product.";
        include(get_template_directory() . '/template-parts/content-product.php');
        break;
    case 'portfolio':
        echo "This is a portfolio item.";
        include(get_template_directory() . '/template-parts/content-portfolio.php');
        break;
    default:
        echo "This is a custom post type: $postType";
        include(get_template_directory() . '/template-parts/content.php');
}
                </code></pre>
            </div>
        </section>
        
        <section class="alternative_syntax">
            <h2>Alternative Syntax for Templates</h2>
            
            <p>Like other PHP control structures, switch statements have an alternative syntax that's useful in template files where PHP and HTML are mixed:</p>
            
            <div class="code-example">
                <pre><code>
&lt;!-- Standard syntax --&gt;
&lt;?php
switch ($postType) {
    case 'post':
        echo "&lt;div class='post'&gt;Blog post content&lt;/div&gt;";
        break;
    case 'page':
        echo "&lt;div class='page'&gt;Page content&lt;/div&gt;";
        break;
    default:
        echo "&lt;div class='default'&gt;Default content&lt;/div&gt;";
}
?&gt;

&lt;!-- Alternative syntax --&gt;
&lt;?php switch ($postType): ?&gt;
    &lt;?php case 'post': ?&gt;
        &lt;div class='post'&gt;
            Blog post content
        &lt;/div&gt;
    &lt;?php break; ?&gt;
    
    &lt;?php case 'page': ?&gt;
        &lt;div class='page'&gt;
            Page content
        &lt;/div&gt;
    &lt;?php break; ?&gt;
    
    &lt;?php default: ?&gt;
        &lt;div class='default'&gt;
            Default content
        &lt;/div&gt;
&lt;?php endswitch; ?&gt;
                </code></pre>
            </div>
            
            <div class="wordpress-example">
                <h3>WordPress Theme Example: Content Template Selection</h3>
                <p>This syntax is commonly used in WordPress theme templates:</p>
                <pre><code>
&lt;article id="post-&lt;?php the_ID(); ?&gt;" &lt;?php post_class(); ?&gt;&gt;
    &lt;?php switch (get_post_format()): ?&gt;
        &lt;?php case 'video': ?&gt;
            &lt;div class="video-content"&gt;
                &lt;?php echo get_post_meta(get_the_ID(), 'video_embed', true); ?&gt;
            &lt;/div&gt;
        &lt;?php break; ?&gt;
        
        &lt;?php case 'gallery': ?&gt;
            &lt;div class="gallery-slider"&gt;
                &lt;?php echo get_post_gallery(); ?&gt;
            &lt;/div&gt;
        &lt;?php break; ?&gt;
        
        &lt;?php case 'audio': ?&gt;
            &lt;div class="audio-player"&gt;
                &lt;?php echo get_post_meta(get_the_ID(), 'audio_embed', true); ?&gt;
            &lt;/div&gt;
        &lt;?php break; ?&gt;
        
        &lt;?php default: ?&gt;
            &lt;?php if (has_post_thumbnail()): ?&gt;
                &lt;div class="featured-image"&gt;
                    &lt;?php the_post_thumbnail('large'); ?&gt;
                &lt;/div&gt;
            &lt;?php endif; ?&gt;
    &lt;?php endswitch; ?&gt;
    
    &lt;div class="entry-content"&gt;
        &lt;h2&gt;&lt;?php the_title(); ?&gt;&lt;/h2&gt;
        &lt;?php the_content(); ?&gt;
    &lt;/div&gt;
&lt;/article&gt;
                </code></pre>
            </div>
        </section>
        
        <section class="advanced_techniques">
            <h2>Advanced Switch Techniques</h2>
            
            <div class="technique">
                <h3>Technique 1: Using Functions in Cases</h3>
                <p>You can use functions or constants for case values, as long as they resolve to a simple value:</p>
                <pre><code>
define('STATUS_PENDING', 1);
define('STATUS_APPROVED', 2);
define('STATUS_REJECTED', 3);

$orderStatus = STATUS_APPROVED;

switch ($orderStatus) {
    case STATUS_PENDING:
        echo "The order is pending approval.";
        break;
    case STATUS_APPROVED:
        echo "The order has been approved.";
        break;
    case STATUS_REJECTED:
        echo "The order was rejected.";
        break;
    default:
        echo "Unknown order status: $orderStatus";
}
                </code></pre>
            </div>
            
            <div class="technique">
                <h3>Technique 2: Switch Inside a Function</h3>
                <p>Using switch inside a function with return statements can eliminate the need for break statements:</p>
                <pre><code>
function getColorHex($colorName) {
    switch (strtolower($colorName)) {
        case 'red':
            return '#FF0000';
        case 'green':
            return '#00FF00';
        case 'blue':
            return '#0000FF';
        case 'yellow':
            return '#FFFF00';
        case 'purple':
            return '#800080';
        default:
            return '#000000'; // Default to black
    }
}

echo "The HEX code for blue is: " . getColorHex('blue');
                </code></pre>
                <p>Since a return statement exits the function immediately, no break statements are needed.</p>
            </div>
            
            <div class="technique">
                <h3>Technique 3: Switch with Calculated Cases</h3>
                <p>While case values must be simple, you can use expressions in the switch expression:</p>
                <pre><code>
$score = 85;

// Determine the grade range (0-9)
$gradeRange = floor($score / 10);

switch ($gradeRange) {
    case 10:
    case 9:
        $grade = 'A';
        break;
    case 8:
        $grade = 'B';
        break;
    case 7:
        $grade = 'C';
        break;
    case 6:
        $grade = 'D';
        break;
    default:
        $grade = 'F';
}

echo "Score: $score, Grade: $grade";
                </code></pre>
            </div>
            
            <div class="technique">
                <h3>Technique 4: Nested Switch Statements</h3>
                <p>You can nest switch statements for more complex decision trees:</p>
                <pre><code>
$category = "electronics";
$item = "phone";

switch ($category) {
    case "electronics":
        echo "Electronics Department: ";
        
        switch ($item) {
            case "phone":
                echo "Mobile Phones Section";
                break;
            case "laptop":
                echo "Computer Section";
                break;
            default:
                echo "General Electronics";
        }
        break;
        
    case "clothing":
        echo "Clothing Department: ";
        
        switch ($item) {
            case "shirt":
                echo "Shirts Section";
                break;
            case "pants":
                echo "Pants Section";
                break;
            default:
                echo "General Clothing";
        }
        break;
        
    default:
        echo "Unknown Department";
}
                </code></pre>
                <p>Note: While nested switch statements work, they can make code harder to read. Consider alternative approaches if nesting becomes deep.</p>
            </div>
        </section>
        
        <section class="best_practices">
            <h2>Best Practices for Switch Statements</h2>
            
            <div class="practice">
                <h3>Always Include Break Statements</h3>
                <p>Unless you specifically want fall-through behavior, always include break statements to prevent unexpected execution flow:</p>
                <pre><code>
// Good practice
switch ($status) {
    case 'pending':
        echo "Waiting for approval";
        break; // Don't forget this!
    case 'approved':
        echo "Ready to proceed";
        break;
    default:
        echo "Unknown status";
}
                </code></pre>
            </div>
            
            <div class="practice">
                <h3>Add Comments for Intentional Fall-Through</h3>
                <p>If you're intentionally using fall-through behavior, add a comment to clarify your intention:</p>
                <pre><code>
switch ($accessLevel) {
    case 'admin':
        $permissions[] = 'manage_users';
        // Fall through intentionally to give admins all editor permissions too
    case 'editor':
        $permissions[] = 'publish_posts';
        break;
}
                </code></pre>
            </div>
            
            <div class="practice">
                <h3>Include a Default Case</h3>
                <p>Always include a default case to handle unexpected values:</p>
                <pre><code>
switch ($month) {
    case 1:
        echo "January";
        break;
    // other months...
    case 12:
        echo "December";
        break;
    default:
        echo "Invalid month";
}
                </code></pre>
            </div>
            
            <div class="practice">
                <h3>Group Similar Cases</h3>
                <p>Group cases that share the same code for better readability:</p>
                <pre><code>
// Good practice
switch ($day) {
    case 'Monday':
    case 'Tuesday':
    case 'Wednesday':
    case 'Thursday':
    case 'Friday':
        echo "It's a weekday";
        break;
    case 'Saturday':
    case 'Sunday':
        echo "It's the weekend";
        break;
}

// Instead of repeating the same code for each case
switch ($day) {
    case 'Monday':
        echo "It's a weekday";
        break;
    case 'Tuesday':
        echo "It's a weekday";
        break;
    // and so on...
}
                </code></pre>
            </div>
            
            <div class="practice">
                <h3>Be Aware of Type Juggling</h3>
                <p>Remember that switch uses loose comparison (==), which can lead to unexpected matches. If strict comparison is needed, use if-elseif with === instead:</p>
                <pre><code>
$id = "123"; // String containing a number

// With switch (loose comparison)
switch ($id) {
    case 123: // Integer 123
        echo "Matched!"; // This will execute because "123" == 123
        break;
}

// If strict comparison is needed, use if-elseif
if ($id === 123) {
    echo "This won't match because '123' !== 123";
}
                </code></pre>
            </div>
        </section>
        
        <section class="looking_ahead">
            <h2>Looking Ahead: Ternary Operators and Null Coalescing</h2>
            
            <p>Now that we've mastered switch statements, our next topics will be ternary operators and the null coalescing operator, which provide concise ways to write simple conditional expressions.</p>
            
            <div class="preview">
                <h3>Preview: Ternary Operator</h3>
                <pre><code>
// Instead of:
if ($isLoggedIn) {
    $greeting = "Welcome back!";
} else {
    $greeting = "Hello, guest!";
}

// You can write:
$greeting = $isLoggedIn ? "Welcome back!" : "Hello, guest!";
                </code></pre>
            </div>
            
            <div class="preview">
                <h3>Preview: Null Coalescing Operator</h3>
                <pre><code>
// Instead of:
if (isset($_GET['page'])) {
    $page = $_GET['page'];
} else {
    $page = 1;
}

// You can write:
$page = $_GET['page'] ?? 1;
                </code></pre>
            </div>
            
            <div class="mermaid-diagram">
                <h3>PHP Conditional Structures Progression</h3>
                <div class="mermaid">
                flowchart LR
                    A[if] --> B[if-else]
                    B --> C[if-elseif-else]
                    C --> D[switch]
                    
                    E[Simple Conditionals] --> F[Ternary Operator]
                    F --> G[Null Coalescing Operator]
                    
                    style D fill:#ccefff,stroke:#0066cc,stroke-width:2px
                    style F fill:#e6f7ff,stroke:#0066cc
                    style G fill:#e6f7ff,stroke:#0066cc
                </div>
            </div>
        </section>
        
        <section class="practice_exercises">
            <h2>Practice Exercises</h2>
            
            <div class="exercise">
                <h3>Exercise 1: Month Name Converter</h3>
                <p>Write a PHP script that converts a month number (1-12) to its name. Use a switch statement to handle each month.</p>
                <details>
                    <summary>Reveal Solution</summary>
                    <pre><code>
$monthNumber = 5;
$monthName = "";

switch ($monthNumber) {
    case 1:
        $monthName = "January";
        break;
    case 2:
        $monthName = "February";
        break;
    case 3:
        $monthName = "March";
        break;
    case 4:
        $monthName = "April";
        break;
    case 5:
        $monthName = "May";
        break;
    case 6:
        $monthName = "June";
        break;
    case 7:
        $monthName = "July";
        break;
    case 8:
        $monthName = "August";
        break;
    case 9:
        $monthName = "September";
        break;
    case 10:
        $monthName = "October";
        break;
    case 11:
        $monthName = "November";
        break;
    case 12:
        $monthName = "December";
        break;
    default:
        $monthName = "Invalid month number";
}

echo "Month $monthNumber is $monthName";
                    </code></pre>
                </details>
            </div>
            
            <div class="exercise">
                <h3>Exercise 2: Payment Method Processor</h3>
                <p>Write a PHP snippet that processes different payment methods (credit card, PayPal, bank transfer, crypto) and displays appropriate instructions for each. Use a switch statement for the different methods.</p>
                <details>
                    <summary>Reveal Solution</summary>
                    <pre><code>
$paymentMethod = "paypal";
$instructions = "";

switch ($paymentMethod) {
    case "credit_card":
        $instructions = "Please enter your credit card details on the next screen. We accept Visa, Mastercard, and American Express.";
        break;
    case "paypal":
        $instructions = "You will be redirected to PayPal to complete your payment. Please have your PayPal login details ready.";
        break;
    case "bank_transfer":
        $instructions = "Please transfer the amount to the following account: 
            Bank: Example Bank
            Account: 1234567890
            Reference: Your Order Number";
        break;
    case "crypto":
        $instructions = "Send the exact amount to the following Bitcoin address: 1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa";
        break;
    default:
        $instructions = "Unrecognized payment method. Please select a valid payment option.";
}

echo "Payment Instructions for $paymentMethod:<br>";
echo $instructions;
                    </code></pre>
                </details>
            </div>
            
            <div class="exercise">
                <h3>Exercise 3: HTTP Status Code Classifier</h3>
                <p>Write a PHP function that takes an HTTP status code and returns its general class (Informational, Success, Redirection, Client Error, Server Error). Use a switch statement with intentional fall-through for efficiency.</p>
                <details>
                    <summary>Reveal Solution</summary>
                    <pre><code>
function getStatusCodeClass($statusCode) {
    $class = "";
    
    switch ($statusCode) {
        case 100:
        case 101:
        case 102:
        case 103:
            $class = "Informational (1xx)";
            break;
            
        case 200:
        case 201:
        case 202:
        case 203:
        case 204:
        case 205:
        case 206:
            $class = "Success (2xx)";
            break;
            
        case 300:
        case 301:
        case 302:
        case 303:
        case 304:
        case 307:
        case 308:
            $class = "Redirection (3xx)";
            break;
            
        case 400:
        case 401:
        case 402:
        case 403:
        case 404:
        case 405:
        case 406:
        case 407:
        case 408:
        case 409:
        case 410:
        case 429:
            $class = "Client Error (4xx)";
            break;
            
        case 500:
        case 501:
        case 502:
        case 503:
        case 504:
        case 505:
            $class = "Server Error (5xx)";
            break;
            
        default:
            $class = "Unknown Status Code";
    }
    
    return $class;
}

// Test the function
$testCodes = [200, 404, 500, 302, 100, 999];

foreach ($testCodes as $code) {
    echo "HTTP Status $code: " . getStatusCodeClass($code) . "<br>";
}
                    </code></pre>
                </details>
            </div>
            
            <div class="exercise">
                <h3>Exercise 4: WordPress Template Selector</h3>
                <p>Write a PHP snippet for a WordPress theme that selects different templates based on post type and format. Handle 'post', 'page', 'product', and a default case. For 'post', also check the post format ('standard', 'video', 'gallery') and display appropriate content.</p>
                <details>
                    <summary>Reveal Solution</summary>
                    <pre><code>
// Simulated WordPress functions
// In a real WordPress environment, you'd use get_post_type() and get_post_format()
$postType = "post";
$postFormat = "video";

switch ($postType) {
    case "post":
        echo "&lt;div class='post'&gt;";
        
        switch ($postFormat) {
            case "video":
                echo "&lt;div class='video-container'&gt;";
                echo "Video embed code would go here.";
                echo "&lt;/div&gt;";
                break;
                
            case "gallery":
                echo "&lt;div class='gallery-slider'&gt;";
                echo "Gallery images would go here.";
                echo "&lt;/div&gt;";
                break;
                
            case "standard":
            default:
                echo "&lt;div class='featured-image'&gt;";
                echo "Featured image would go here.";
                echo "&lt;/div&gt;";
                break;
        }
        
        echo "&lt;div class='content'&gt;";
        echo "Post content would go here.";
        echo "&lt;/div&gt;";
        echo "&lt;/div&gt;";
        break;
        
    case "page":
        echo "&lt;div class='page'&gt;";
        echo "Page content would go here.";
        echo "&lt;/div&gt;";
        break;
        
    case "product":
        echo "&lt;div class='product'&gt;";
        echo "Product information would go here.";
        echo "&lt;div class='product-price'&gt;$99.99&lt;/div&gt;";
        echo "&lt;button class='add-to-cart'&gt;Add to Cart&lt;/button&gt;";
        echo "&lt;/div&gt;";
        break;
        
    default:
        echo "&lt;div class='default-content'&gt;";
        echo "Content for custom post type: $postType";
        echo "&lt;/div&gt;";
        break;
}
                    </code></pre>
                </details>
            </div>
        </section>
        
        <section class="additional_resources">
            <h2>Additional Resources</h2>
            
            <ul>
                <li><a href="https://www.php.net/manual/en/control-structures.switch.php" target="_blank">PHP Manual: Switch Statements</a></li>
                <li><a href="https://www.php.net/manual/en/control-structures.alternative-syntax.php" target="_blank">PHP Manual: Alternative Syntax</a></li>
                <li><a href="https://developer.wordpress.org/themes/template-files-section/post-template-files/" target="_blank">WordPress: Template Files</a></li>
                <li><a href="https://developer.wordpress.org/themes/basics/template-hierarchy/" target="_blank">WordPress: Template Hierarchy</a></li>
            </ul>
        </section>
        
        <section class="homework">
            <h2>Homework Assignment</h2>
            
            <p>Building on our grading system, enhance it with the following requirements using a switch statement:</p>
            
            <ol>
                <li>Create variables for <code>$studentName</code>, <code>$score</code> (between 0 and 100), and <code>$subject</code> (e.g., "Math", "English", "Science", "History")</li>
                <li>Using a switch statement, apply different grading scales based on the subject:
                    <ul>
                        <li>For Math: A (90-100), B (80-89), C (70-79), D (60-69), F (below 60)</li>
                        <li>For English and History: A (85-100), B (75-84), C (65-74), D (55-64), F (below 55)</li>
                        <li>For Science: A (87-100), B (77-86), C (67-76), D (57-66), F (below 57)</li>
                        <li>For any other subject: Use the standard scale from our original grading system</li>
                    </ul>
                </li>
                <li>For each subject, display different feedback comments based on the letter grade (e.g., different comments for an A in Math vs. an A in English)</li>
                <li>Create a complete student report that displays:
                    <ul>
                        <li>Student name</li>
                        <li>Subject</li>
                        <li>Score</li>
                        <li>Letter grade</li>
                        <li>Subject-specific feedback</li>
                        <li>General advice on whether the student should continue studying this subject or focus on improving</li>
                    </ul>
                </li>
                <li><strong>Bonus:</strong> Add handling for extra credit that might push a student to the next grade level</li>
            </ol>
            
            <p>Submit your code and a brief explanation of your solution, highlighting how you used the switch statement effectively.</p>
        </section>
    </main>
    
    <footer>
        <p>&copy; 2025 PHP WordPress Development Course</p>
        <p><a href="module2.html">Back to Module 2</a> | <a href="index.html">Back to Syllabus</a> | <a href="php_ternary_operator.html">Next: Ternary Operator</a></p>
    </footer>
</body>
</html>
