<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <!-- SEO Meta Tags -->
    <title>Theme Settings and Options - WordPress Development | PHP WordPress Course</title>
    <meta name="description" content="Learn to create and manage WordPress theme settings and options pages. Master the Settings API, Options API, and create custom theme configuration panels.">
    <meta name="keywords" content="WordPress Theme Settings, Options API, Settings API, Theme Configuration, WordPress Admin Pages, Theme Options">
    <meta name="author" content="PHP WordPress Course">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="apple-touch-icon" href="/favicon.png">
    
    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    
    <style>
        .options-interface {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            margin: 30px 0;
        }
        
        .options-header {
            background: #23282d;
            color: white;
            padding: 20px;
        }
        
        .options-tabs {
            display: flex;
            background: #f1f1f1;
            border-bottom: 1px solid #ddd;
        }
        
        .tab-button {
            padding: 15px 25px;
            background: none;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }
        
        .tab-button.active {
            background: white;
            border-bottom-color: #0073aa;
        }
        
        .options-content {
            padding: 30px;
        }
        
        .option-group {
            background: #f9f9f9;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .option-group h3 {
            margin-top: 0;
            padding-bottom: 10px;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
        }
        
        .option-field {
            margin-bottom: 20px;
        }
        
        .option-label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .option-input {
            width: 100%;
            max-width: 400px;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .option-description {
            color: #666;
            font-size: 13px;
            margin-top: 5px;
            font-style: italic;
        }
        
        .api-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 30px 0;
        }
        
        .api-card {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 25px;
        }
        
        .api-card h3 {
            margin-top: 0;
            color: #0073aa;
        }
        
        .api-features {
            list-style: none;
            padding: 0;
        }
        
        .api-features li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        
        .api-features li:last-child {
            border-bottom: none;
        }
        
        .settings-workflow {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 8px;
            margin: 30px 0;
        }
        
        .workflow-steps {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .workflow-step {
            flex: 1;
            text-align: center;
            padding: 0 10px;
        }
        
        .step-number {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            line-height: 40px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .code-example {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            overflow-x: auto;
        }
        
        .field-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .field-card {
            background: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            text-align: center;
        }
        
        .field-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }
        
        .field-name {
            font-weight: 600;
            color: #23282d;
        }
        
        .validation-rules {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .validation-rules h4 {
            color: #856404;
            margin-top: 0;
        }
        
        .export-import {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 25px;
            margin: 30px 0;
        }
        
        .export-import-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .btn-primary {
            background: #0073aa;
            color: white;
        }
        
        .btn-primary:hover {
            background: #005a87;
        }
        
        .btn-secondary {
            background: #e0e0e0;
            color: #333;
        }
        
        .btn-secondary:hover {
            background: #d0d0d0;
        }
        
        .btn-success {
            background: #46b450;
            color: white;
        }
        
        .btn-success:hover {
            background: #3a9444;
        }
        
        .metabox-demo {
            background: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .metabox-header {
            background: #f1f1f1;
            padding: 10px 15px;
            border-bottom: 1px solid #ddd;
            font-weight: 600;
            cursor: move;
        }
        
        .metabox-content {
            padding: 20px;
        }
        
        .best-practices {
            background: #e8f5e9;
            border: 1px solid #4CAF50;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .best-practices h3 {
            color: #2e7d32;
            margin-top: 0;
        }
        
        .options-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .options-table th {
            background: #23282d;
            color: white;
            padding: 12px;
            text-align: left;
        }
        
        .options-table td {
            padding: 12px;
            border: 1px solid #ddd;
            background: white;
        }
        
        .options-table tr:nth-child(even) td {
            background: #f9f9f9;
        }
    </style>
</head>
<body>
    <!-- Skip to main content -->
    <a href="#main-content" class="sr-only">Skip to main content</a>
    
    <div class="page-wrapper">
        <!-- Header -->
        <header class="site-header" role="banner">
            <div class="header-container">
                <div class="site-branding">
                    <a href="/" class="site-logo">
                        <h1 class="site-title">PHP WordPress Development</h1>
                    </a>
                </div>
                
                <nav class="main-navigation" role="navigation" aria-label="Main navigation">
                    <button class="mobile-menu-btn" aria-label="Toggle navigation" aria-expanded="false">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    
                    <div class="nav-menu">
                        <ul class="nav-list">
                            <li class="nav-item"><a href="/" class="nav-link">Home</a></li>
                            <li class="nav-item dropdown">
                                <button class="nav-link dropdown-toggle active" aria-haspopup="true">Modules</button>
                                <div class="dropdown-menu">
                                    <a href="/module1.html" class="dropdown-item">Module 1: Web Fundamentals</a>
                                    <a href="/module2.html" class="dropdown-item">Module 2: PHP Fundamentals</a>
                                    <a href="/module3.html" class="dropdown-item">Module 3: MySQL Database</a>
                                    <a href="/module4.html" class="dropdown-item active">Module 4: WordPress & Docker</a>
                                    <a href="/module5.html" class="dropdown-item">Module 5: Theme Development</a>
                                    <a href="/module6.html" class="dropdown-item">Module 6: Plugin Development</a>
                                    <a href="/module7.html" class="dropdown-item">Module 7: Advanced WordPress</a>
                                    <a href="/module8.html" class="dropdown-item">Module 8: Deployment</a>
                                    <a href="/module9.html" class="dropdown-item">Module 9: Final Project</a>
                                </div>
                            </li>
                            <li class="nav-item"><a href="/resources.html" class="nav-link">Resources</a></li>
                            <li class="nav-item"><a href="/about.html" class="nav-link">About</a></li>
                        </ul>
                    </div>
                </nav>
            </div>
        </header>
        
        <!-- Breadcrumb -->
        <nav class="breadcrumb container" aria-label="Breadcrumb">
            <ol class="breadcrumb-list">
                <li class="breadcrumb-item">
                    <a href="/">Home</a>
                    <span class="breadcrumb-separator">/</span>
                </li>
                <li class="breadcrumb-item">
                    <a href="/module4.html">Module 4</a>
                    <span class="breadcrumb-separator">/</span>
                </li>
                <li class="breadcrumb-item">
                    <span aria-current="page">Theme Settings & Options</span>
                </li>
            </ol>
        </nav>
        
        <!-- Main Content -->
        <main id="main-content" class="main-content" role="main">
            <div class="container">
                <div class="content-with-sidebar">
                    <!-- Sidebar -->
                    <aside class="sidebar">
                        <div class="sidebar-nav">
                            <h3 class="sidebar-title">Module 4: WordPress & Docker</h3>
                            <div class="sidebar-section">
                                <h4 class="sidebar-section-title">Session 4: Working with Themes</h4>
                                <a href="/04module/understanding_wordpress_themes.html" class="sidebar-link">Understanding WordPress Themes</a>
                                <a href="/04module/default_themes_overview.html" class="sidebar-link">Default Themes Overview</a>
                                <a href="/04module/installing_activating_themes.html" class="sidebar-link">Installing & Activating Themes</a>
                                <a href="/04module/theme_customizer.html" class="sidebar-link">Theme Customizer</a>
                                <a href="#" class="sidebar-link active">Theme Settings & Options</a>
                                <a href="/04module/child_themes.html" class="sidebar-link">Child Themes</a>
                                <a href="/04module/responsive_mobile_themes.html" class="sidebar-link">Responsive & Mobile Themes</a>
                            </div>
                        </div>
                    </aside>
                    
                    <!-- Main Lesson Content -->
                    <article class="lesson-content">
                        <header class="lesson-header">
                            <h1>Theme Settings and Options</h1>
                            <div class="lesson-meta">
                                <div class="lesson-meta-item">
                                    <svg width="20" height="20" fill="currentColor">
                                        <path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                    </svg>
                                    <span>Duration: 40 minutes</span>
                                </div>
                                <div class="lesson-meta-item">
                                    <svg width="20" height="20" fill="currentColor">
                                        <path d="M12 14l9-5-9-5-9 5 9 5z"/>
                                    </svg>
                                    <span>Module 4: Session 4.5</span>
                                </div>
                            </div>
                        </header>

                        <!-- Learning Objectives -->
                        <div class="lesson-objectives">
                            <h2>Learning Objectives</h2>
                            <ul>
                                <li>Understand WordPress Options API and Settings API</li>
                                <li>Create custom theme options pages</li>
                                <li>Build settings forms with proper validation</li>
                                <li>Implement different field types for settings</li>
                                <li>Store and retrieve theme options efficiently</li>
                                <li>Create tabbed options interfaces</li>
                                <li>Export and import theme settings</li>
                                <li>Integrate with the Customizer API</li>
                            </ul>
                        </div>
                        
                        <!-- Lesson Body -->
                        <div class="lesson-body">
                            <!-- Introduction -->
                            <section>
                                <h2>Introduction to Theme Settings</h2>
                                <p class="lead">Theme settings and options allow users to configure various aspects of their theme without editing code. While the Customizer provides a live preview interface, theme options pages offer more complex configuration capabilities for advanced settings.</p>
                                
                                <div class="alert alert-info">
                                    <div class="alert-icon">⚙️</div>
                                    <div class="alert-content">
                                        <div class="alert-title">Important Note</div>
                                        <div class="alert-message">Modern WordPress development favors the Customizer API for theme options. However, understanding the Settings API is crucial for complex configurations and backward compatibility.</div>
                                    </div>
                                </div>
                            </section>

                            <!-- API Comparison -->
                            <section>
                                <h2>WordPress APIs for Theme Settings</h2>
                                
                                <div class="api-comparison">
                                    <div class="api-card">
                                        <h3>Options API</h3>
                                        <ul class="api-features">
                                            <li>Simple key-value storage</li>
                                            <li>Direct database interaction</li>
                                            <li>No built-in UI</li>
                                            <li>Functions: get_option(), update_option()</li>
                                            <li>Best for: Simple data storage</li>
                                        </ul>
                                    </div>
                                    
                                    <div class="api-card">
                                        <h3>Settings API</h3>
                                        <ul class="api-features">
                                            <li>Built on Options API</li>
                                            <li>Form handling & validation</li>
                                            <li>Security (nonces, capability checks)</li>
                                            <li>Admin page integration</li>
                                            <li>Best for: Complex settings pages</li>
                                        </ul>
                                    </div>
                                </div>
                            </section>

                            <!-- Settings Workflow -->
                            <section>
                                <div class="settings-workflow">
                                    <h2 style="margin-top: 0; text-align: center;">Settings API Workflow</h2>
                                    <div class="workflow-steps">
                                        <div class="workflow-step">
                                            <div class="step-number">1</div>
                                            <div>Register Settings</div>
                                        </div>
                                        <div class="workflow-step">
                                            <div class="step-number">2</div>
                                            <div>Add Sections</div>
                                        </div>
                                        <div class="workflow-step">
                                            <div class="step-number">3</div>
                                            <div>Add Fields</div>
                                        </div>
                                        <div class="workflow-step">
                                            <div class="step-number">4</div>
                                            <div>Create Page</div>
                                        </div>
                                        <div class="workflow-step">
                                            <div class="step-number">5</div>
                                            <div>Render Form</div>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <!-- Creating Options Page -->
                            <section>
                                <h2>Creating a Theme Options Page</h2>
                                
                                <div class="code-example">
                                    <pre><code>// Step 1: Add admin menu
add_action('admin_menu', 'mytheme_add_admin_menu');

function mytheme_add_admin_menu() {
    add_theme_page(
        'Theme Options',           // Page title
        'Theme Options',           // Menu title
        'manage_options',          // Capability
        'mytheme-options',         // Menu slug
        'mytheme_options_page'     // Callback function
    );
}

// Step 2: Register settings
add_action('admin_init', 'mytheme_settings_init');

function mytheme_settings_init() {
    // Register a setting
    register_setting('mytheme_options_group', 'mytheme_options');
    
    // Add a section
    add_settings_section(
        'mytheme_general_section',
        'General Settings',
        'mytheme_general_section_callback',
        'mytheme-options'
    );
    
    // Add fields
    add_settings_field(
        'mytheme_logo_url',
        'Logo URL',
        'mytheme_logo_url_render',
        'mytheme-options',
        'mytheme_general_section'
    );
    
    add_settings_field(
        'mytheme_footer_text',
        'Footer Text',
        'mytheme_footer_text_render',
        'mytheme-options',
        'mytheme_general_section'
    );
}

// Section callback
function mytheme_general_section_callback() {
    echo '&lt;p&gt;Configure general theme settings below:&lt;/p&gt;';
}

// Field callbacks
function mytheme_logo_url_render() {
    $options = get_option('mytheme_options');
    $value = isset($options['logo_url']) ? $options['logo_url'] : '';
    ?&gt;
    &lt;input type="url" name="mytheme_options[logo_url]" 
           value="&lt;?php echo esc_attr($value); ?&gt;" 
           class="regular-text" /&gt;
    &lt;p class="description"&gt;Enter your logo URL&lt;/p&gt;
    &lt;?php
}

function mytheme_footer_text_render() {
    $options = get_option('mytheme_options');
    $value = isset($options['footer_text']) ? $options['footer_text'] : '';
    ?&gt;
    &lt;textarea name="mytheme_options[footer_text]" 
              rows="4" cols="50"&gt;&lt;?php echo esc_textarea($value); ?&gt;&lt;/textarea&gt;
    &lt;p class="description"&gt;Text to display in the footer&lt;/p&gt;
    &lt;?php
}

// Step 3: Create the options page
function mytheme_options_page() {
    ?&gt;
    &lt;div class="wrap"&gt;
        &lt;h1&gt;Theme Options&lt;/h1&gt;
        &lt;form action="options.php" method="post"&gt;
            &lt;?php
            settings_fields('mytheme_options_group');
            do_settings_sections('mytheme-options');
            submit_button();
            ?&gt;
        &lt;/form&gt;
    &lt;/div&gt;
    &lt;?php
}</code></pre>
                                </div>
                            </section>

                            <!-- Tabbed Interface -->
                            <section>
                                <h2>Creating a Tabbed Options Interface</h2>
                                
                                <div class="options-interface">
                                    <div class="options-header">
                                        <h2 style="margin: 0;">Theme Options</h2>
                                    </div>
                                    <div class="options-tabs">
                                        <button class="tab-button active">General</button>
                                        <button class="tab-button">Layout</button>
                                        <button class="tab-button">Typography</button>
                                        <button class="tab-button">Advanced</button>
                                    </div>
                                    <div class="options-content">
                                        <div class="option-group">
                                            <h3>General Settings</h3>
                                            <div class="option-field">
                                                <label class="option-label">Site Logo</label>
                                                <input type="text" class="option-input" placeholder="Logo URL">
                                                <p class="option-description">Upload or enter your logo URL</p>
                                            </div>
                                            <div class="option-field">
                                                <label class="option-label">Primary Color</label>
                                                <input type="color" value="#0073aa" style="width: 50px; height: 40px;">
                                                <p class="option-description">Choose your brand color</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <h3>Tabbed Interface Code</h3>
                                <pre><code class="language-php">function mytheme_tabbed_options_page() {
    $active_tab = isset($_GET['tab']) ? $_GET['tab'] : 'general';
    ?>
    &lt;div class="wrap"&gt;
        &lt;h1&gt;Theme Options&lt;/h1&gt;
        
        &lt;h2 class="nav-tab-wrapper"&gt;
            &lt;a href="?page=mytheme-options&tab=general" 
               class="nav-tab &lt;?php echo $active_tab == 'general' ? 'nav-tab-active' : ''; ?&gt;"&gt;
                General
            &lt;/a&gt;
            &lt;a href="?page=mytheme-options&tab=layout" 
               class="nav-tab &lt;?php echo $active_tab == 'layout' ? 'nav-tab-active' : ''; ?&gt;"&gt;
                Layout
            &lt;/a&gt;
            &lt;a href="?page=mytheme-options&tab=typography" 
               class="nav-tab &lt;?php echo $active_tab == 'typography' ? 'nav-tab-active' : ''; ?&gt;"&gt;
                Typography
            &lt;/a&gt;
        &lt;/h2&gt;
        
        &lt;form method="post" action="options.php"&gt;
            &lt;?php
            if ($active_tab == 'general') {
                settings_fields('mytheme_general_options');
                do_settings_sections('mytheme-general');
            } elseif ($active_tab == 'layout') {
                settings_fields('mytheme_layout_options');
                do_settings_sections('mytheme-layout');
            } elseif ($active_tab == 'typography') {
                settings_fields('mytheme_typography_options');
                do_settings_sections('mytheme-typography');
            }
            
            submit_button();
            ?&gt;
        &lt;/form&gt;
    &lt;/div&gt;
    &lt;?php
}</code></pre>
                            </section>

                            <!-- Field Types -->
                            <section>
                                <h2>Common Field Types</h2>
                                
                                <div class="field-types">
                                    <div class="field-card">
                                        <div class="field-icon">📝</div>
                                        <div class="field-name">Text Field</div>
                                    </div>
                                    <div class="field-card">
                                        <div class="field-icon">📄</div>
                                        <div class="field-name">Textarea</div>
                                    </div>
                                    <div class="field-card">
                                        <div class="field-icon">☑️</div>
                                        <div class="field-name">Checkbox</div>
                                    </div>
                                    <div class="field-card">
                                        <div class="field-icon">⭕</div>
                                        <div class="field-name">Radio Button</div>
                                    </div>
                                    <div class="field-card">
                                        <div class="field-icon">📋</div>
                                        <div class="field-name">Select Dropdown</div>
                                    </div>
                                    <div class="field-card">
                                        <div class="field-icon">🎨</div>
                                        <div class="field-name">Color Picker</div>
                                    </div>
                                    <div class="field-card">
                                        <div class="field-icon">🖼️</div>
                                        <div class="field-name">Media Upload</div>
                                    </div>
                                    <div class="field-card">
                                        <div class="field-icon">📅</div>
                                        <div class="field-name">Date Picker</div>
                                    </div>
                                </div>

                                <h3>Field Implementation Examples</h3>
                                <pre><code class="language-php">// Checkbox field
function mytheme_checkbox_field_render() {
    $options = get_option('mytheme_options');
    $checked = isset($options['show_sidebar']) ? $options['show_sidebar'] : 0;
    ?>
    &lt;input type="checkbox" name="mytheme_options[show_sidebar]" 
           value="1" &lt;?php checked(1, $checked); ?&gt; /&gt;
    &lt;label&gt;Show sidebar on all pages&lt;/label&gt;
    &lt;?php
}

// Radio buttons
function mytheme_radio_field_render() {
    $options = get_option('mytheme_options');
    $layout = isset($options['layout']) ? $options['layout'] : 'right';
    ?>
    &lt;label&gt;
        &lt;input type="radio" name="mytheme_options[layout]" 
               value="left" &lt;?php checked('left', $layout); ?&gt; /&gt;
        Left Sidebar
    &lt;/label&gt;&lt;br&gt;
    &lt;label&gt;
        &lt;input type="radio" name="mytheme_options[layout]" 
               value="right" &lt;?php checked('right', $layout); ?&gt; /&gt;
        Right Sidebar
    &lt;/label&gt;&lt;br&gt;
    &lt;label&gt;
        &lt;input type="radio" name="mytheme_options[layout]" 
               value="full" &lt;?php checked('full', $layout); ?&gt; /&gt;
        Full Width
    &lt;/label&gt;
    &lt;?php
}

// Select dropdown
function mytheme_select_field_render() {
    $options = get_option('mytheme_options');
    $font = isset($options['font_family']) ? $options['font_family'] : 'arial';
    ?>
    &lt;select name="mytheme_options[font_family]"&gt;
        &lt;option value="arial" &lt;?php selected('arial', $font); ?&gt;&gt;Arial&lt;/option&gt;
        &lt;option value="georgia" &lt;?php selected('georgia', $font); ?&gt;&gt;Georgia&lt;/option&gt;
        &lt;option value="helvetica" &lt;?php selected('helvetica', $font); ?&gt;&gt;Helvetica&lt;/option&gt;
        &lt;option value="times" &lt;?php selected('times', $font); ?&gt;&gt;Times New Roman&lt;/option&gt;
    &lt;/select&gt;
    &lt;?php
}

// Media upload field
function mytheme_media_field_render() {
    $options = get_option('mytheme_options');
    $image = isset($options['header_image']) ? $options['header_image'] : '';
    ?>
    &lt;input type="text" name="mytheme_options[header_image]" 
           id="header_image" value="&lt;?php echo esc_url($image); ?&gt;" 
           class="regular-text" /&gt;
    &lt;input type="button" class="button button-secondary" 
           value="Upload Image" id="upload_image_button" /&gt;
    
    &lt;script&gt;
    jQuery(document).ready(function($) {
        $('#upload_image_button').click(function() {
            var mediaUploader = wp.media({
                title: 'Select Image',
                button: { text: 'Use This Image' },
                multiple: false
            });
            
            mediaUploader.on('select', function() {
                var attachment = mediaUploader.state().get('selection').first().toJSON();
                $('#header_image').val(attachment.url);
            });
            
            mediaUploader.open();
        });
    });
    &lt;/script&gt;
    &lt;?php
}</code></pre>
                            </section>

                            <!-- Validation and Sanitization -->
                            <section>
                                <div class="validation-rules">
                                    <h4>⚠️ Validation and Sanitization</h4>
                                    <p>Always validate and sanitize user input before saving to the database:</p>
                                    
                                    <pre><code class="language-php">// Register setting with sanitization callback
register_setting(
    'mytheme_options_group',
    'mytheme_options',
    'mytheme_sanitize_options'
);

function mytheme_sanitize_options($input) {
    $sanitized = array();
    
    // Sanitize text field
    if (isset($input['footer_text'])) {
        $sanitized['footer_text'] = sanitize_text_field($input['footer_text']);
    }
    
    // Sanitize URL
    if (isset($input['logo_url'])) {
        $sanitized['logo_url'] = esc_url_raw($input['logo_url']);
    }
    
    // Sanitize checkbox
    if (isset($input['show_sidebar'])) {
        $sanitized['show_sidebar'] = ($input['show_sidebar'] == 1) ? 1 : 0;
    }
    
    // Sanitize select field
    if (isset($input['layout'])) {
        $valid_layouts = array('left', 'right', 'full');
        if (in_array($input['layout'], $valid_layouts)) {
            $sanitized['layout'] = $input['layout'];
        } else {
            $sanitized['layout'] = 'right'; // Default
        }
    }
    
    // Sanitize color hex
    if (isset($input['primary_color'])) {
        if (preg_match('/^#[a-f0-9]{6}$/i', $input['primary_color'])) {
            $sanitized['primary_color'] = $input['primary_color'];
        } else {
            $sanitized['primary_color'] = '#0073aa'; // Default
        }
    }
    
    // Add error messages if needed
    if (empty($input['footer_text'])) {
        add_settings_error(
            'mytheme_options',
            'footer_text_error',
            'Footer text cannot be empty',
            'error'
        );
    }
    
    return $sanitized;
}</code></pre>
                                </div>
                            </section>

                            <!-- Using Options in Theme -->
                            <section>
                                <h2>Using Theme Options</h2>
                                
                                <pre><code class="language-php">// Get theme options
$options = get_option('mytheme_options');

// Use with defaults
$footer_text = isset($options['footer_text']) ? $options['footer_text'] : 'Copyright © 2024';
$logo_url = isset($options['logo_url']) ? $options['logo_url'] : get_template_directory_uri() . '/images/logo.png';
$show_sidebar = isset($options['show_sidebar']) ? $options['show_sidebar'] : true;

// Helper function for getting options
function mytheme_get_option($option_name, $default = '') {
    $options = get_option('mytheme_options');
    return isset($options[$option_name]) ? $options[$option_name] : $default;
}

// In your theme templates
&lt;?php if (mytheme_get_option('show_sidebar', true)) : ?&gt;
    &lt;aside class="sidebar"&gt;
        &lt;?php get_sidebar(); ?&gt;
    &lt;/aside&gt;
&lt;?php endif; ?&gt;

// Output custom CSS based on options
add_action('wp_head', function() {
    $primary_color = mytheme_get_option('primary_color', '#0073aa');
    $font_family = mytheme_get_option('font_family', 'Arial, sans-serif');
    ?&gt;
    &lt;style&gt;
        :root {
            --primary-color: &lt;?php echo esc_attr($primary_color); ?&gt;;
            --font-family: &lt;?php echo esc_attr($font_family); ?&gt;;
        }
        
        body {
            font-family: var(--font-family);
        }
        
        a {
            color: var(--primary-color);
        }
        
        .button-primary {
            background-color: var(--primary-color);
        }
    &lt;/style&gt;
    &lt;?php
});</code></pre>
                            </section>

                            <!-- Export/Import Settings -->
                            <section>
                                <div class="export-import">
                                    <h2>Export and Import Settings</h2>
                                    <p>Allow users to backup and transfer theme settings:</p>
                                    
                                    <pre><code class="language-php">// Export settings
function mytheme_export_settings() {
    if (!isset($_GET['action']) || $_GET['action'] != 'export_settings') {
        return;
    }
    
    if (!current_user_can('manage_options')) {
        return;
    }
    
    $options = get_option('mytheme_options');
    $json = json_encode($options);
    
    header('Content-Type: application/json');
    header('Content-Disposition: attachment; filename="theme-settings-' . date('Y-m-d') . '.json"');
    echo $json;
    exit;
}
add_action('admin_init', 'mytheme_export_settings');

// Import settings
function mytheme_import_settings() {
    if (!isset($_POST['import_settings'])) {
        return;
    }
    
    if (!current_user_can('manage_options')) {
        return;
    }
    
    if (!isset($_FILES['import_file'])) {
        return;
    }
    
    $file = $_FILES['import_file']['tmp_name'];
    $json = file_get_contents($file);
    $options = json_decode($json, true);
    
    if ($options) {
        update_option('mytheme_options', $options);
        add_settings_error(
            'mytheme_options',
            'settings_imported',
            'Settings imported successfully!',
            'success'
        );
    }
}
add_action('admin_init', 'mytheme_import_settings');

// Add to options page
function mytheme_export_import_section() {
    ?&gt;
    &lt;h2&gt;Export/Import Settings&lt;/h2&gt;
    
    &lt;h3&gt;Export Settings&lt;/h3&gt;
    &lt;p&gt;Export your theme settings for backup or transfer.&lt;/p&gt;
    &lt;a href="&lt;?php echo admin_url('admin.php?page=mytheme-options&action=export_settings'); ?&gt;" 
       class="button button-secondary"&gt;Export Settings&lt;/a&gt;
    
    &lt;h3&gt;Import Settings&lt;/h3&gt;
    &lt;form method="post" enctype="multipart/form-data"&gt;
        &lt;input type="file" name="import_file" accept=".json" /&gt;
        &lt;?php wp_nonce_field('import_settings_nonce'); ?&gt;
        &lt;input type="submit" name="import_settings" 
               value="Import Settings" class="button button-secondary" /&gt;
    &lt;/form&gt;
    &lt;?php
}</code></pre>
                                    
                                    <div class="export-import-buttons">
                                        <button class="btn btn-secondary">📥 Export Settings</button>
                                        <button class="btn btn-primary">📤 Import Settings</button>
                                    </div>
                                </div>
                            </section>

                            <!-- Best Practices -->
                            <section>
                                <div class="best-practices">
                                    <h3>✅ Best Practices for Theme Settings</h3>
                                    <ul>
                                        <li><strong>Use Customizer when possible:</strong> For visual settings with live preview</li>
                                        <li><strong>Group related settings:</strong> Organize into logical sections</li>
                                        <li><strong>Provide defaults:</strong> Always have fallback values</li>
                                        <li><strong>Validate and sanitize:</strong> Never trust user input</li>
                                        <li><strong>Use descriptive names:</strong> Clear option keys and labels</li>
                                        <li><strong>Cache expensive operations:</strong> Use transients for complex queries</li>
                                        <li><strong>Document settings:</strong> Add help text and descriptions</li>
                                        <li><strong>Version your options:</strong> Track schema changes</li>
                                        <li><strong>Minimize database calls:</strong> Get all options at once</li>
                                        <li><strong>Provide reset option:</strong> Allow users to restore defaults</li>
                                    </ul>
                                </div>
                            </section>

                            <!-- Practice Exercise -->
                            <section>
                                <h2>Practice Exercise</h2>
                                <div class="alert alert-success">
                                    <div class="alert-icon">💻</div>
                                    <div class="alert-content">
                                        <div class="alert-title">Hands-On Practice</div>
                                        <div class="alert-message">
                                            <ol>
                                                <li>Create a theme options page with tabs</li>
                                                <li>Add text, checkbox, and select fields</li>
                                                <li>Implement proper sanitization callbacks</li>
                                                <li>Add a color picker field</li>
                                                <li>Create a media upload field</li>
                                                <li>Store and retrieve options in your theme</li>
                                                <li>Output dynamic CSS based on options</li>
                                                <li>Add export/import functionality</li>
                                                <li>Create a reset to defaults button</li>
                                                <li>Integrate some options with the Customizer</li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            
                            <!-- Resources -->
                            <section class="resources">
                                <h2>Additional Resources</h2>
                                <ul>
                                    <li><a href="https://developer.wordpress.org/plugins/settings/" target="_blank">Settings API Documentation</a></li>
                                    <li><a href="https://codex.wordpress.org/Options_API" target="_blank">Options API Reference</a></li>
                                    <li><a href="https://developer.wordpress.org/reference/functions/register_setting/" target="_blank">register_setting() Reference</a></li>
                                    <li><a href="https://github.com/reduxframework/redux-framework" target="_blank">Redux Framework</a></li>
                                    <li><a href="https://github.com/CMB2/CMB2" target="_blank">CMB2 Options Framework</a></li>
                                    <li><a href="https://titanframework.net/" target="_blank">Titan Framework</a></li>
                                </ul>
                            </section>
                        </div>
                    </article>
                </div>
            </div>
        </main>
    </div>
</body>
</html>