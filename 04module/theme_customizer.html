<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <!-- SEO Meta Tags -->
    <title>WordPress Theme Customizer - Complete Guide | PHP WordPress Course</title>
    <meta name="description" content="Master the WordPress Theme Customizer. Learn to customize themes visually with live preview, add custom controls, and create theme options without coding.">
    <meta name="keywords" content="WordPress Customizer, Theme Customization, Live Preview, Customizer API, WordPress Design, Theme Options">
    <meta name="author" content="PHP WordPress Course">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="apple-touch-icon" href="/favicon.png">
    
    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    
    <style>
        .customizer-interface {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 0;
            background: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            margin: 30px 0;
            min-height: 600px;
        }
        
        .customizer-sidebar {
            background: white;
            border-right: 1px solid #ddd;
            overflow-y: auto;
        }
        
        .customizer-header {
            background: #23282d;
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .customizer-sections {
            padding: 0;
        }
        
        .customizer-section {
            border-bottom: 1px solid #ddd;
        }
        
        .section-header {
            padding: 15px;
            background: #f9f9f9;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.3s;
        }
        
        .section-header:hover {
            background: #f0f0f0;
        }
        
        .section-header.active {
            background: #0073aa;
            color: white;
        }
        
        .section-content {
            padding: 20px;
            display: none;
        }
        
        .section-content.active {
            display: block;
        }
        
        .customizer-control {
            margin-bottom: 20px;
        }
        
        .control-label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .control-input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .color-picker {
            width: 50px;
            height: 40px;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .customizer-preview {
            background: white;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .preview-device {
            background: white;
            border: 2px solid #333;
            border-radius: 8px;
            width: 100%;
            max-width: 800px;
            min-height: 500px;
            padding: 20px;
        }
        
        .device-controls {
            background: #f9f9f9;
            padding: 10px;
            border-bottom: 1px solid #ddd;
            display: flex;
            gap: 10px;
            justify-content: center;
        }
        
        .device-btn {
            padding: 8px 15px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .device-btn.active {
            background: #0073aa;
            color: white;
        }
        
        .api-example {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            overflow-x: auto;
        }
        
        .api-example .comment {
            color: #6A9955;
        }
        
        .api-example .keyword {
            color: #569CD6;
        }
        
        .api-example .function {
            color: #DCDCAA;
        }
        
        .api-example .string {
            color: #CE9178;
        }
        
        .control-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .control-card {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
        }
        
        .control-card h4 {
            margin-top: 0;
            color: #0073aa;
        }
        
        .control-demo {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 4px;
            margin-top: 10px;
        }
        
        .customizer-features {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 8px;
            margin: 30px 0;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .feature-item {
            text-align: center;
        }
        
        .feature-icon {
            font-size: 36px;
            margin-bottom: 10px;
        }
        
        .transport-comparison {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .transport-comparison th {
            background: #23282d;
            color: white;
            padding: 12px;
            text-align: left;
        }
        
        .transport-comparison td {
            padding: 12px;
            border: 1px solid #ddd;
            background: white;
        }
        
        .transport-comparison tr:nth-child(even) td {
            background: #f9f9f9;
        }
        
        .code-tabs {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .tab-nav {
            display: flex;
            background: #f9f9f9;
            border-bottom: 1px solid #ddd;
        }
        
        .tab-btn {
            padding: 12px 20px;
            background: none;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            border-right: 1px solid #ddd;
        }
        
        .tab-btn.active {
            background: white;
            border-bottom: 2px solid #0073aa;
        }
        
        .tab-content {
            padding: 20px;
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .best-practices {
            background: #e8f5e9;
            border: 1px solid #4CAF50;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .best-practices h3 {
            color: #2e7d32;
            margin-top: 0;
        }
        
        .selective-refresh {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .selective-refresh h4 {
            color: #856404;
            margin-top: 0;
        }
    </style>
</head>
<body>
    <!-- Skip to main content -->
    <a href="#main-content" class="sr-only">Skip to main content</a>
    
    <div class="page-wrapper">
        <!-- Header -->
        <header class="site-header" role="banner">
            <div class="header-container">
                <div class="site-branding">
                    <a href="/" class="site-logo">
                        <h1 class="site-title">PHP WordPress Development</h1>
                    </a>
                </div>
                
                <nav class="main-navigation" role="navigation" aria-label="Main navigation">
                    <button class="mobile-menu-btn" aria-label="Toggle navigation" aria-expanded="false">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    
                    <div class="nav-menu">
                        <ul class="nav-list">
                            <li class="nav-item"><a href="/" class="nav-link">Home</a></li>
                            <li class="nav-item dropdown">
                                <button class="nav-link dropdown-toggle active" aria-haspopup="true">Modules</button>
                                <div class="dropdown-menu">
                                    <a href="/module1.html" class="dropdown-item">Module 1: Web Fundamentals</a>
                                    <a href="/module2.html" class="dropdown-item">Module 2: PHP Fundamentals</a>
                                    <a href="/module3.html" class="dropdown-item">Module 3: MySQL Database</a>
                                    <a href="/module4.html" class="dropdown-item active">Module 4: WordPress & Docker</a>
                                    <a href="/module5.html" class="dropdown-item">Module 5: Theme Development</a>
                                    <a href="/module6.html" class="dropdown-item">Module 6: Plugin Development</a>
                                    <a href="/module7.html" class="dropdown-item">Module 7: Advanced WordPress</a>
                                    <a href="/module8.html" class="dropdown-item">Module 8: Deployment</a>
                                    <a href="/module9.html" class="dropdown-item">Module 9: Final Project</a>
                                </div>
                            </li>
                            <li class="nav-item"><a href="/resources.html" class="nav-link">Resources</a></li>
                            <li class="nav-item"><a href="/about.html" class="nav-link">About</a></li>
                        </ul>
                    </div>
                </nav>
            </div>
        </header>
        
        <!-- Breadcrumb -->
        <nav class="breadcrumb container" aria-label="Breadcrumb">
            <ol class="breadcrumb-list">
                <li class="breadcrumb-item">
                    <a href="/">Home</a>
                    <span class="breadcrumb-separator">/</span>
                </li>
                <li class="breadcrumb-item">
                    <a href="/module4.html">Module 4</a>
                    <span class="breadcrumb-separator">/</span>
                </li>
                <li class="breadcrumb-item">
                    <span aria-current="page">Theme Customizer</span>
                </li>
            </ol>
        </nav>
        
        <!-- Main Content -->
        <main id="main-content" class="main-content" role="main">
            <div class="container">
                <div class="content-with-sidebar">
                    <!-- Sidebar -->
                    <aside class="sidebar">
                        <div class="sidebar-nav">
                            <h3 class="sidebar-title">Module 4: WordPress & Docker</h3>
                            <div class="sidebar-section">
                                <h4 class="sidebar-section-title">Session 4: Working with Themes</h4>
                                <a href="/04module/understanding_wordpress_themes.html" class="sidebar-link">Understanding WordPress Themes</a>
                                <a href="/04module/default_themes_overview.html" class="sidebar-link">Default Themes Overview</a>
                                <a href="/04module/installing_activating_themes.html" class="sidebar-link">Installing & Activating Themes</a>
                                <a href="#" class="sidebar-link active">Theme Customizer</a>
                                <a href="/04module/theme_settings_options.html" class="sidebar-link">Theme Settings & Options</a>
                                <a href="/04module/child_themes.html" class="sidebar-link">Child Themes</a>
                                <a href="/04module/responsive_mobile_themes.html" class="sidebar-link">Responsive & Mobile Themes</a>
                            </div>
                        </div>
                    </aside>
                    
                    <!-- Main Lesson Content -->
                    <article class="lesson-content">
                        <header class="lesson-header">
                            <h1>WordPress Theme Customizer</h1>
                            <div class="lesson-meta">
                                <div class="lesson-meta-item">
                                    <svg width="20" height="20" fill="currentColor">
                                        <path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                    </svg>
                                    <span>Duration: 45 minutes</span>
                                </div>
                                <div class="lesson-meta-item">
                                    <svg width="20" height="20" fill="currentColor">
                                        <path d="M12 14l9-5-9-5-9 5 9 5z"/>
                                    </svg>
                                    <span>Module 4: Session 4.4</span>
                                </div>
                            </div>
                        </header>

                        <!-- Learning Objectives -->
                        <div class="lesson-objectives">
                            <h2>Learning Objectives</h2>
                            <ul>
                                <li>Navigate and use the WordPress Customizer interface</li>
                                <li>Understand live preview functionality</li>
                                <li>Master built-in customizer controls</li>
                                <li>Add custom sections, settings, and controls</li>
                                <li>Implement selective refresh for better performance</li>
                                <li>Create custom control types</li>
                                <li>Handle data sanitization and validation</li>
                                <li>Export and import customizer settings</li>
                            </ul>
                        </div>
                        
                        <!-- Lesson Body -->
                        <div class="lesson-body">
                            <!-- Introduction -->
                            <section>
                                <h2>Introduction to the Theme Customizer</h2>
                                <p class="lead">The WordPress Theme Customizer provides a user-friendly interface for making design changes to your WordPress site with live preview. It allows users to customize various aspects of their theme without touching any code, making WordPress more accessible to non-developers.</p>
                                
                                <div class="alert alert-info">
                                    <div class="alert-icon">🎨</div>
                                    <div class="alert-content">
                                        <div class="alert-title">Key Feature</div>
                                        <div class="alert-message">The Customizer follows the "What You See Is What You Get" (WYSIWYG) principle, showing changes in real-time before they're published.</div>
                                    </div>
                                </div>
                            </section>

                            <!-- Customizer Features -->
                            <section>
                                <div class="customizer-features">
                                    <h2 style="margin-top: 0;">Core Customizer Features</h2>
                                    <div class="features-grid">
                                        <div class="feature-item">
                                            <div class="feature-icon">👁️</div>
                                            <div>Live Preview</div>
                                        </div>
                                        <div class="feature-item">
                                            <div class="feature-icon">📱</div>
                                            <div>Responsive Preview</div>
                                        </div>
                                        <div class="feature-item">
                                            <div class="feature-icon">💾</div>
                                            <div>Draft & Schedule</div>
                                        </div>
                                        <div class="feature-item">
                                            <div class="feature-icon">🔄</div>
                                            <div>Selective Refresh</div>
                                        </div>
                                        <div class="feature-item">
                                            <div class="feature-icon">🎯</div>
                                            <div>Contextual Controls</div>
                                        </div>
                                        <div class="feature-item">
                                            <div class="feature-icon">🔒</div>
                                            <div>Permission Based</div>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <!-- Customizer Interface -->
                            <section>
                                <h2>The Customizer Interface</h2>
                                
                                <div class="customizer-interface">
                                    <div class="customizer-sidebar">
                                        <div class="customizer-header">
                                            <span>Customizing</span>
                                            <button style="background: #0073aa; color: white; border: none; padding: 5px 15px; border-radius: 3px;">Publish</button>
                                        </div>
                                        
                                        <div class="customizer-sections">
                                            <div class="customizer-section">
                                                <div class="section-header active">
                                                    <span>Site Identity</span>
                                                    <span>›</span>
                                                </div>
                                                <div class="section-content active">
                                                    <div class="customizer-control">
                                                        <label class="control-label">Site Title</label>
                                                        <input type="text" class="control-input" value="My WordPress Site">
                                                    </div>
                                                    <div class="customizer-control">
                                                        <label class="control-label">Tagline</label>
                                                        <input type="text" class="control-input" value="Just another WordPress site">
                                                    </div>
                                                    <div class="customizer-control">
                                                        <label class="control-label">Site Icon</label>
                                                        <button style="padding: 8px 15px;">Select Image</button>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="customizer-section">
                                                <div class="section-header">
                                                    <span>Colors</span>
                                                    <span>›</span>
                                                </div>
                                            </div>
                                            
                                            <div class="customizer-section">
                                                <div class="section-header">
                                                    <span>Header Image</span>
                                                    <span>›</span>
                                                </div>
                                            </div>
                                            
                                            <div class="customizer-section">
                                                <div class="section-header">
                                                    <span>Background Image</span>
                                                    <span>›</span>
                                                </div>
                                            </div>
                                            
                                            <div class="customizer-section">
                                                <div class="section-header">
                                                    <span>Menus</span>
                                                    <span>›</span>
                                                </div>
                                            </div>
                                            
                                            <div class="customizer-section">
                                                <div class="section-header">
                                                    <span>Widgets</span>
                                                    <span>›</span>
                                                </div>
                                            </div>
                                            
                                            <div class="customizer-section">
                                                <div class="section-header">
                                                    <span>Homepage Settings</span>
                                                    <span>›</span>
                                                </div>
                                            </div>
                                            
                                            <div class="customizer-section">
                                                <div class="section-header">
                                                    <span>Additional CSS</span>
                                                    <span>›</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="customizer-preview">
                                        <div style="width: 100%;">
                                            <div class="device-controls">
                                                <button class="device-btn active">💻 Desktop</button>
                                                <button class="device-btn">📱 Tablet</button>
                                                <button class="device-btn">📱 Mobile</button>
                                            </div>
                                            <div class="preview-device">
                                                <h1 style="text-align: center; color: #333;">Live Preview Area</h1>
                                                <p style="text-align: center; color: #666;">Your website preview appears here with real-time changes</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <!-- Built-in Controls -->
                            <section>
                                <h2>Built-in Customizer Controls</h2>
                                
                                <div class="control-types">
                                    <div class="control-card">
                                        <h4>Text Control</h4>
                                        <p>Single line text input for titles, labels, etc.</p>
                                        <div class="control-demo">
                                            <input type="text" placeholder="Enter text" style="width: 100%; padding: 8px;">
                                        </div>
                                    </div>
                                    
                                    <div class="control-card">
                                        <h4>Textarea Control</h4>
                                        <p>Multi-line text input for descriptions</p>
                                        <div class="control-demo">
                                            <textarea placeholder="Enter description" style="width: 100%; padding: 8px;" rows="3"></textarea>
                                        </div>
                                    </div>
                                    
                                    <div class="control-card">
                                        <h4>Color Picker</h4>
                                        <p>Visual color selection tool</p>
                                        <div class="control-demo">
                                            <input type="color" value="#0073aa" style="width: 50px; height: 40px;">
                                        </div>
                                    </div>
                                    
                                    <div class="control-card">
                                        <h4>Image/Media Control</h4>
                                        <p>Upload or select media from library</p>
                                        <div class="control-demo">
                                            <button style="padding: 8px 15px;">Select Image</button>
                                        </div>
                                    </div>
                                    
                                    <div class="control-card">
                                        <h4>Select Dropdown</h4>
                                        <p>Choose from predefined options</p>
                                        <div class="control-demo">
                                            <select style="width: 100%; padding: 8px;">
                                                <option>Option 1</option>
                                                <option>Option 2</option>
                                                <option>Option 3</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <div class="control-card">
                                        <h4>Checkbox Control</h4>
                                        <p>Boolean true/false options</p>
                                        <div class="control-demo">
                                            <label><input type="checkbox"> Enable feature</label>
                                        </div>
                                    </div>
                                    
                                    <div class="control-card">
                                        <h4>Radio Buttons</h4>
                                        <p>Select one from multiple options</p>
                                        <div class="control-demo">
                                            <label style="display: block;"><input type="radio" name="layout"> Left</label>
                                            <label style="display: block;"><input type="radio" name="layout" checked> Center</label>
                                            <label style="display: block;"><input type="radio" name="layout"> Right</label>
                                        </div>
                                    </div>
                                    
                                    <div class="control-card">
                                        <h4>Range Slider</h4>
                                        <p>Select numeric value within range</p>
                                        <div class="control-demo">
                                            <input type="range" min="0" max="100" value="50" style="width: 100%;">
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <!-- Adding Custom Controls -->
                            <section>
                                <h2>Adding Custom Customizer Options</h2>
                                
                                <div class="api-example">
                                    <pre><code><span class="comment">// Hook into customize_register action</span>
add_action( 'customize_register', 'mytheme_customize_register' );

function mytheme_customize_register( $wp_customize ) {
    
    <span class="comment">// Add a new section</span>
    $wp_customize->add_section( 'mytheme_options', array(
        'title'       => __( 'Theme Options', 'mytheme' ),
        'priority'    => 30,
        'description' => 'Customize your theme settings',
    ) );
    
    <span class="comment">// Add a setting</span>
    $wp_customize->add_setting( 'header_background_color', array(
        'default'           => '#ffffff',
        'transport'         => 'refresh', <span class="comment">// or 'postMessage' for live preview</span>
        'sanitize_callback' => 'sanitize_hex_color',
    ) );
    
    <span class="comment">// Add a control</span>
    $wp_customize->add_control( new WP_Customize_Color_Control( 
        $wp_customize, 
        'header_background_color', 
        array(
            'label'    => __( 'Header Background Color', 'mytheme' ),
            'section'  => 'mytheme_options',
            'settings' => 'header_background_color',
        ) 
    ) );
    
    <span class="comment">// Add text setting</span>
    $wp_customize->add_setting( 'footer_text', array(
        'default'           => 'Copyright © 2024',
        'transport'         => 'postMessage',
        'sanitize_callback' => 'sanitize_text_field',
    ) );
    
    $wp_customize->add_control( 'footer_text', array(
        'label'    => __( 'Footer Text', 'mytheme' ),
        'section'  => 'mytheme_options',
        'type'     => 'text',
    ) );
    
    <span class="comment">// Add image upload</span>
    $wp_customize->add_setting( 'hero_image', array(
        'default'           => '',
        'transport'         => 'refresh',
        'sanitize_callback' => 'esc_url_raw',
    ) );
    
    $wp_customize->add_control( new WP_Customize_Image_Control(
        $wp_customize,
        'hero_image',
        array(
            'label'    => __( 'Hero Image', 'mytheme' ),
            'section'  => 'mytheme_options',
            'settings' => 'hero_image',
        )
    ) );
}</code></pre>
                                </div>
                            </section>

                            <!-- Transport Methods -->
                            <section>
                                <h2>Transport Methods</h2>
                                
                                <table class="transport-comparison">
                                    <thead>
                                        <tr>
                                            <th>Transport Type</th>
                                            <th>Description</th>
                                            <th>Performance</th>
                                            <th>Use Case</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><strong>refresh</strong></td>
                                            <td>Full page reload on change</td>
                                            <td>Slower</td>
                                            <td>Complex changes, PHP processing needed</td>
                                        </tr>
                                        <tr>
                                            <td><strong>postMessage</strong></td>
                                            <td>JavaScript live update</td>
                                            <td>Instant</td>
                                            <td>Simple CSS changes, text updates</td>
                                        </tr>
                                    </tbody>
                                </table>
                                
                                <h3>Implementing postMessage Transport</h3>
                                <div class="code-tabs">
                                    <div class="tab-nav">
                                        <button class="tab-btn active">PHP (functions.php)</button>
                                        <button class="tab-btn">JavaScript (customizer.js)</button>
                                    </div>
                                    
                                    <div class="tab-content active">
                                        <pre><code class="language-php">// Set transport to postMessage
$wp_customize->add_setting( 'site_title', array(
    'default'   => get_bloginfo( 'name' ),
    'transport' => 'postMessage',
) );

// Enqueue customizer JavaScript
add_action( 'customize_preview_init', function() {
    wp_enqueue_script( 
        'mytheme-customizer',
        get_template_directory_uri() . '/js/customizer.js',
        array( 'customize-preview' ),
        '1.0.0',
        true
    );
} );</code></pre>
                                    </div>
                                    
                                    <div class="tab-content">
                                        <pre><code class="language-javascript">// Live preview JavaScript
( function( $ ) {
    // Site title
    wp.customize( 'blogname', function( value ) {
        value.bind( function( newval ) {
            $( '.site-title' ).text( newval );
        } );
    } );
    
    // Site description
    wp.customize( 'blogdescription', function( value ) {
        value.bind( function( newval ) {
            $( '.site-description' ).text( newval );
        } );
    } );
    
    // Header background color
    wp.customize( 'header_background_color', function( value ) {
        value.bind( function( newval ) {
            $( '.site-header' ).css( 'background-color', newval );
        } );
    } );
    
    // Footer text
    wp.customize( 'footer_text', function( value ) {
        value.bind( function( newval ) {
            $( '.footer-copyright' ).html( newval );
        } );
    } );
} )( jQuery );</code></pre>
                                    </div>
                                </div>
                            </section>

                            <!-- Selective Refresh -->
                            <section>
                                <div class="selective-refresh">
                                    <h4>🔄 Selective Refresh</h4>
                                    <p>Selective refresh combines the benefits of both transport methods by only refreshing specific parts of the preview:</p>
                                    
                                    <pre><code class="language-php">// Add selective refresh support
$wp_customize->selective_refresh->add_partial( 'blogname', array(
    'selector'            => '.site-title',
    'container_inclusive' => false,
    'render_callback'     => function() {
        return get_bloginfo( 'name' );
    },
) );

// For widgets
add_theme_support( 'customize-selective-refresh-widgets' );

// Custom partial
$wp_customize->selective_refresh->add_partial( 'footer_copyright', array(
    'selector'        => '.footer-copyright',
    'settings'        => array( 'footer_text' ),
    'render_callback' => function() {
        return get_theme_mod( 'footer_text' );
    },
    'fallback_refresh' => true, // Fallback to full refresh if needed
) );</code></pre>
                                </div>
                            </section>

                            <!-- Custom Control Types -->
                            <section>
                                <h2>Creating Custom Control Types</h2>
                                
                                <pre><code class="language-php">// Custom control class
class WP_Customize_Range_Control extends WP_Customize_Control {
    public $type = 'range';
    
    public function render_content() {
        ?>
        &lt;label&gt;
            &lt;span class="customize-control-title"&gt;
                &lt;?php echo esc_html( $this->label ); ?&gt;
            &lt;/span&gt;
            &lt;?php if ( $this->description ) : ?&gt;
                &lt;span class="description"&gt;
                    &lt;?php echo esc_html( $this->description ); ?&gt;
                &lt;/span&gt;
            &lt;?php endif; ?&gt;
            &lt;input type="range" 
                   &lt;?php $this->link(); ?&gt;
                   value="&lt;?php echo esc_attr( $this->value() ); ?&gt;"
                   min="&lt;?php echo esc_attr( $this->input_attrs['min'] ); ?&gt;"
                   max="&lt;?php echo esc_attr( $this->input_attrs['max'] ); ?&gt;"
                   step="&lt;?php echo esc_attr( $this->input_attrs['step'] ); ?&gt;"
            /&gt;
            &lt;span class="range-value"&gt;
                &lt;?php echo esc_html( $this->value() ); ?&gt;
            &lt;/span&gt;
        &lt;/label&gt;
        &lt;?php
    }
}

// Register the custom control
$wp_customize->add_control( new WP_Customize_Range_Control(
    $wp_customize,
    'font_size',
    array(
        'label'       => __( 'Font Size', 'mytheme' ),
        'section'     => 'typography',
        'settings'    => 'font_size',
        'input_attrs' => array(
            'min'  => 12,
            'max'  => 48,
            'step' => 1,
        ),
    )
) );</code></pre>

                                <h3>Toggle Switch Control</h3>
                                <pre><code class="language-php">class WP_Customize_Toggle_Control extends WP_Customize_Control {
    public $type = 'toggle';
    
    public function render_content() {
        ?>
        &lt;div class="customize-toggle-control"&gt;
            &lt;div class="toggle-switch"&gt;
                &lt;input type="checkbox" 
                       id="&lt;?php echo esc_attr( $this->id ); ?&gt;"
                       &lt;?php $this->link(); ?&gt;
                       &lt;?php checked( $this->value() ); ?&gt;
                /&gt;
                &lt;label for="&lt;?php echo esc_attr( $this->id ); ?&gt;"&gt;
                    &lt;span class="toggle-track"&gt;&lt;/span&gt;
                    &lt;span class="toggle-thumb"&gt;&lt;/span&gt;
                &lt;/label&gt;
            &lt;/div&gt;
            &lt;span class="customize-control-title"&gt;
                &lt;?php echo esc_html( $this->label ); ?&gt;
            &lt;/span&gt;
            &lt;?php if ( $this->description ) : ?&gt;
                &lt;span class="description"&gt;
                    &lt;?php echo esc_html( $this->description ); ?&gt;
                &lt;/span&gt;
            &lt;?php endif; ?&gt;
        &lt;/div&gt;
        &lt;?php
    }
}</code></pre>
                            </section>

                            <!-- Sanitization -->
                            <section>
                                <h2>Data Sanitization and Validation</h2>
                                
                                <pre><code class="language-php">// Common sanitization callbacks
// Text field
'sanitize_callback' => 'sanitize_text_field',

// Textarea
'sanitize_callback' => 'sanitize_textarea_field',

// Email
'sanitize_callback' => 'sanitize_email',

// URL
'sanitize_callback' => 'esc_url_raw',

// HTML
'sanitize_callback' => 'wp_kses_post',

// Number
'sanitize_callback' => 'absint',

// Hex color
'sanitize_callback' => 'sanitize_hex_color',

// Checkbox
'sanitize_callback' => function( $checked ) {
    return ( ( isset( $checked ) && true == $checked ) ? true : false );
},

// Select/Radio
'sanitize_callback' => function( $input, $setting ) {
    $input = sanitize_key( $input );
    $choices = $setting->manager->get_control( $setting->id )->choices;
    return ( array_key_exists( $input, $choices ) ? $input : $setting->default );
},

// Custom sanitization function
function mytheme_sanitize_select( $input, $setting ) {
    // Get list of valid choices
    $choices = $setting->manager->get_control( $setting->id )->choices;
    
    // Return input if valid, otherwise return default
    return ( array_key_exists( $input, $choices ) ? $input : $setting->default );
}

// Validation example
'sanitize_callback' => function( $value ) {
    // Validate number range
    $value = absint( $value );
    if ( $value < 10 ) {
        return 10;
    } elseif ( $value > 100 ) {
        return 100;
    }
    return $value;
},</code></pre>
                            </section>

                            <!-- Contextual Controls -->
                            <section>
                                <h2>Contextual Controls</h2>
                                
                                <pre><code class="language-php">// Show control only on specific pages
$wp_customize->add_control( 'homepage_hero_text', array(
    'label'           => __( 'Hero Text', 'mytheme' ),
    'section'         => 'homepage_options',
    'type'            => 'textarea',
    'active_callback' => 'is_front_page', // Only show on homepage
) );

// Custom active callback
$wp_customize->add_control( 'sidebar_position', array(
    'label'           => __( 'Sidebar Position', 'mytheme' ),
    'section'         => 'layout',
    'type'            => 'radio',
    'choices'         => array(
        'left'  => 'Left',
        'right' => 'Right',
        'none'  => 'No Sidebar',
    ),
    'active_callback' => function() {
        // Show only if sidebar is enabled
        return get_theme_mod( 'show_sidebar', true );
    },
) );

// Dependent controls
$wp_customize->add_control( 'header_style', array(
    'label'   => __( 'Header Style', 'mytheme' ),
    'section' => 'header',
    'type'    => 'select',
    'choices' => array(
        'default' => 'Default',
        'centered' => 'Centered',
        'minimal' => 'Minimal',
    ),
) );

$wp_customize->add_control( 'header_sticky', array(
    'label'           => __( 'Sticky Header', 'mytheme' ),
    'section'         => 'header',
    'type'            => 'checkbox',
    'active_callback' => function() {
        // Only show if header style is not minimal
        return get_theme_mod( 'header_style' ) !== 'minimal';
    },
) );</code></pre>
                            </section>

                            <!-- Output Customizer Values -->
                            <section>
                                <h2>Using Customizer Values in Your Theme</h2>
                                
                                <pre><code class="language-php">// In your theme templates
&lt;?php
// Get customizer value with default
$header_color = get_theme_mod( 'header_background_color', '#ffffff' );
$footer_text = get_theme_mod( 'footer_text', 'Copyright © 2024' );
$logo_url = get_theme_mod( 'custom_logo' );
?&gt;

&lt;!-- Apply in HTML --&gt;
&lt;header style="background-color: &lt;?php echo esc_attr( $header_color ); ?&gt;"&gt;
    &lt;!-- Header content --&gt;
&lt;/header&gt;

&lt;footer&gt;
    &lt;p class="copyright"&gt;&lt;?php echo esc_html( $footer_text ); ?&gt;&lt;/p&gt;
&lt;/footer&gt;

&lt;?php
// Output CSS in wp_head
add_action( 'wp_head', function() {
    $primary_color = get_theme_mod( 'primary_color', '#0073aa' );
    $font_size = get_theme_mod( 'font_size', '16' );
    ?&gt;
    &lt;style type="text/css"&gt;
        :root {
            --primary-color: &lt;?php echo esc_attr( $primary_color ); ?&gt;;
            --font-size: &lt;?php echo absint( $font_size ); ?&gt;px;
        }
        
        .site-header {
            background-color: &lt;?php echo esc_attr( get_theme_mod( 'header_bg', '#fff' ) ); ?&gt;;
        }
        
        body {
            font-size: var(--font-size);
        }
        
        a {
            color: var(--primary-color);
        }
    &lt;/style&gt;
    &lt;?php
} );
?&gt;</code></pre>
                            </section>

                            <!-- Best Practices -->
                            <section>
                                <div class="best-practices">
                                    <h3>✅ Customizer Best Practices</h3>
                                    <ul>
                                        <li><strong>Organize logically:</strong> Group related settings in sections</li>
                                        <li><strong>Use descriptive labels:</strong> Clear, concise control labels</li>
                                        <li><strong>Provide defaults:</strong> Always set sensible default values</li>
                                        <li><strong>Sanitize everything:</strong> Never trust user input</li>
                                        <li><strong>Use postMessage:</strong> For instant feedback when possible</li>
                                        <li><strong>Add descriptions:</strong> Help users understand settings</li>
                                        <li><strong>Test responsively:</strong> Ensure changes work on all devices</li>
                                        <li><strong>Minimize options:</strong> Too many options overwhelm users</li>
                                        <li><strong>Use native controls:</strong> When possible, use WordPress core controls</li>
                                        <li><strong>Document settings:</strong> Provide help text and tooltips</li>
                                    </ul>
                                </div>
                            </section>

                            <!-- Practice Exercise -->
                            <section>
                                <h2>Practice Exercise</h2>
                                <div class="alert alert-success">
                                    <div class="alert-icon">💻</div>
                                    <div class="alert-content">
                                        <div class="alert-title">Hands-On Practice</div>
                                        <div class="alert-message">
                                            <ol>
                                                <li>Access the Customizer for your active theme</li>
                                                <li>Explore all default sections and controls</li>
                                                <li>Add a custom section for "Theme Options"</li>
                                                <li>Create a color picker for primary color</li>
                                                <li>Add a text field for footer copyright</li>
                                                <li>Implement an image upload for logo</li>
                                                <li>Set up postMessage transport for live preview</li>
                                                <li>Create a custom toggle switch control</li>
                                                <li>Add selective refresh for a widget area</li>
                                                <li>Export and import customizer settings</li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            
                            <!-- Resources -->
                            <section class="resources">
                                <h2>Additional Resources</h2>
                                <ul>
                                    <li><a href="https://developer.wordpress.org/themes/customize-api/" target="_blank">Customizer API Documentation</a></li>
                                    <li><a href="https://developer.wordpress.org/reference/classes/wp_customize_manager/" target="_blank">WP_Customize_Manager Class</a></li>
                                    <li><a href="https://github.com/WordPress/WordPress/tree/master/wp-includes/customize" target="_blank">Customizer Core Files</a></li>
                                    <li><a href="https://make.wordpress.org/core/tag/customizer/" target="_blank">Customizer Development Updates</a></li>
                                    <li><a href="https://kirki.org/" target="_blank">Kirki Customizer Framework</a></li>
                                </ul>
                            </section>
                        </div>
                    </article>
                </div>
            </div>
        </main>
    </div>
</body>
</html>