<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="ie=edge" http-equiv="X-UA-Compatible"/>
  <!-- SEO Meta Tags -->
  <title>WordPress Template Hierarchy - PHP WordPress Course</title>
  <meta content="Master the WordPress Template Hierarchy - understand how WordPress chooses templates and build powerful, flexible themes" name="description"/>
  <meta content="PHP, WordPress, Template Hierarchy, theme development, template files, conditional tags" name="keywords"/>
  <meta content="PHP WordPress Course" name="author"/>
  <link href="/assets/css/main.css" rel="stylesheet"/>
  <link href="/assets/css/sidebar-enhanced.css" rel="stylesheet"/>
  <link href="/assets/css/sidebar-toggle.css" rel="stylesheet"/>
  <!-- Favicon -->
  <link href="/favicon.png" rel="icon" type="image/png"/>
  <link href="/favicon.png" rel="apple-touch-icon"/>
  <!-- CSS -->
 </head>
 <body>
  <!-- Skip to main content -->
  <a class="sr-only" href="#main-content">Skip to main content</a>
  <div class="page-wrapper">
   <!-- Header -->
   <header class="site-header" role="banner">
    <div class="header-container">
     <div class="site-branding">
      <a class="site-logo" href="/">
       <h1 class="site-title">PHP WordPress Development</h1>
      </a>
     </div>
     <nav aria-label="Main navigation" class="main-navigation" role="navigation">
      <button aria-expanded="false" aria-label="Toggle navigation" class="mobile-menu-btn">
       <span>
       </span>
       <span>
       </span>
       <span>
       </span>
      </button>
      <div class="nav-menu">
       <ul class="nav-list">
        <li class="nav-item">
         <a class="nav-link" href="/">Home</a>
        </li>
        <li class="nav-item dropdown">
         <button aria-haspopup="true" class="nav-link dropdown-toggle active">Modules</button>
         <div class="dropdown-menu">
          <a class="dropdown-item" href="/module1.html">Module 1: Web Fundamentals</a>
          <a class="dropdown-item" href="/module2.html">Module 2: PHP Fundamentals</a>
          <a class="dropdown-item" href="/module3.html">Module 3: MySQL Database</a>
          <a class="dropdown-item active" href="/module4.html">Module 4: WordPress &amp; Docker</a>
          <a class="dropdown-item" href="/module5.html">Module 5: Theme Development</a>
          <a class="dropdown-item" href="/module6.html">Module 6: Plugin Development</a>
          <a class="dropdown-item" href="/module7.html">Module 7: Advanced WordPress</a>
          <a class="dropdown-item" href="/module8.html">Module 8: Deployment</a>
          <a class="dropdown-item" href="/module9.html">Module 9: Final Project</a>
         </div>
        </li>
        <li class="nav-item">
         <a class="nav-link" href="/resources.html">Resources</a>
        </li>
        <li class="nav-item">
         <a class="nav-link" href="/about.html">About</a>
        </li>
       </ul>
      </div>
     </nav>
     <div class="search-container">
      <div class="search-input-wrapper">
       <svg class="search-icon" fill="currentColor" height="20" viewbox="0 0 20 20" width="20">
        <path clip-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" fill-rule="evenodd">
        </path>
       </svg>
       <input aria-label="Search" class="search-input" placeholder="Search lessons..." type="search"/>
      </div>
      <div class="search-results">
      </div>
     </div>
    </div>
   </header>
   <!-- Progress Bar -->
   <div class="progress-container">
    <div class="progress-header">
     <h2 class="progress-title">Course Progress</h2>
     <span class="progress-text">Loading...</span>
    </div>
    <div class="progress-bar">
     <div class="progress-bar-fill">
      <span class="progress-bar-text">
      </span>
     </div>
    </div>
   </div>
   <!-- Breadcrumb -->
   <nav aria-label="Breadcrumb" class="breadcrumb container">
    <ol class="breadcrumb-list">
     <li class="breadcrumb-item">
      <a href="/">Home</a>
      <span class="breadcrumb-separator">/</span>
     </li>
     <li class="breadcrumb-item">
      <a href="/module4.html">Module 4</a>
      <span class="breadcrumb-separator">/</span>
     </li>
     <li class="breadcrumb-item">
      <span aria-current="page">Template Hierarchy</span>
     </li>
    </ol>
   </nav>
   <!-- Main Content -->
   <main class="main-content" id="main-content" role="main">
    <div class="container">
     <div class="content-with-sidebar">
      <!-- Sidebar -->
      <aside class="sidebar">
    <div class="sidebar-nav">
        <h3 class="sidebar-title">Module 4: WordPress & Docker</h3>
        <div class="sidebar-section">
            <h4 class="sidebar-section-title">Session 2: WordPress Core Architecture</h4>
            <ul class="sidebar-menu">
                <li><a class="sidebar-link" href="/04module/file_structure_overview.html">WordPress file structure</a></li>
                <li><a class="sidebar-link" href="/04module/wp_config.html">Understanding wp-config.php</a></li>
                <li><a class="sidebar-link" href="/04module/wordpress_database_structure_lesson.html">WordPress database structure</a></li>
                <li><a class="sidebar-link" href="/04module/wordpress_loop.html">The WordPress Loop</a></li>
                <li class="active"><a class="sidebar-link active" href="/04module/wordpress_template_hierarchy.html">Template hierarchy</a></li>
                <li><a class="sidebar-link" href="/04module/wordpress_hooks_system.html">WordPress hooks system (actions and filters)</a></li>
                <li><a class="sidebar-link" href="/04module/homework_file_structure_template_hierarchy.html">Homework: Create a diagram of WordPress file structure and template hierarchy</a></li>
            </ul>
        </div>
        <div class="sidebar-section">
            <h4 class="sidebar-section-title">Quick Links</h4>
            <ul class="sidebar-menu">
                <li><a class="sidebar-link" href="/module4.html">Module Overview</a></li>
                <li><a class="sidebar-link prev-session" href="/04module/history_evolution.html">‚Üê Prev: Session 1</a></li>
                <li><a class="sidebar-link next-session" href="/04module/wordpress_dashboard_overview.html">Next: Session 3 ‚Üí</a></li>
                <li><a class="sidebar-link" href="/">‚Üê Course Home</a></li>
                <li><a class="sidebar-link" href="/module5.html">Next Module ‚Üí</a></li>
                <li><a class="sidebar-link" href="/resources.html">Resources</a></li>
            </ul>
        </div>
    </div>
</aside>
      <!-- Main Lesson Content -->
      <article class="lesson-content">
       <header class="lesson-header">
        <h1>WordPress Template Hierarchy</h1>
        <div class="lesson-meta">
         <div class="lesson-meta-item">
          <svg fill="currentColor" height="20" width="20">
           <path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z">
           </path>
          </svg>
          <span>Duration: 55 minutes</span>
         </div>
         <div class="lesson-meta-item">
          <svg fill="currentColor" height="20" width="20">
           <path d="M12 14l9-5-9-5-9 5 9 5z">
           </path>
          </svg>
          <span>Module 4: Theme Architecture</span>
         </div>
        </div>
       </header>
       <!-- Learning Objectives -->
       <div class="lesson-objectives">
        <h2>Learning Objectives</h2>
        <ul>
         <li>Understand how WordPress decides which template file to use</li>
         <li>Master the complete template hierarchy from most specific to most generic</li>
         <li>Learn to create custom templates for different content types</li>
         <li>Implement conditional tags to control template behavior</li>
         <li>Build flexible themes using the template hierarchy effectively</li>
        </ul>
       </div>
       <!-- Lesson Body -->
       <div class="lesson-body">
        <section>
         <h2>Introduction to Template Hierarchy</h2>
         <p class="lead">The WordPress Template Hierarchy is the system that determines which template file WordPress uses to display different types of content. Think of it as a decision tree where WordPress looks for the most specific template first, then falls back to more general templates if the specific one doesn't exist.</p>
         <div class="alert alert-info">
          <div class="alert-icon">üí°</div>
          <div class="alert-content">
           <div class="alert-title">Key Concept</div>
           <div class="alert-message">WordPress starts with the most specific template possible and works its way up to more general templates, finally falling back to index.php if no other template is found. This system allows for incredible flexibility in theme design.</div>
          </div>
         </div>
        </section>
        <section>
         <h2>How Template Selection Works</h2>
         <p>When a visitor requests a page on your WordPress site, WordPress determines what type of query it is (home page, single post, category archive, etc.) and then looks for template files in a specific order.</p>
         <!-- Template Hierarchy Flow Diagram -->
         <div class="mermaid">flowchart TD
                                        A[User Requests Page] --&gt; B{Query Type?}
                                        B --&gt;|Home Page| C[front-page.php]
                                        B --&gt;|Single Post| D[single-{post-type}-{slug}.php]
                                        B --&gt;|Page| E[page-{slug}.php]
                                        B --&gt;|Category| F[category-{slug}.php]
                                        B --&gt;|Archive| G[archive-{post-type}.php]
                                        B --&gt;|Search| H[search.php]
                                        B --&gt;|404| I[404.php]
                                        
                                        C --&gt; C1[home.php]
                                        C1 --&gt; C2[index.php]
                                        
                                        D --&gt; D1[single-{post-type}.php]
                                        D1 --&gt; D2[single.php]
                                        D2 --&gt; D3[singular.php]
                                        D3 --&gt; D4[index.php]
                                        
                                        E --&gt; E1[page-{id}.php]
                                        E1 --&gt; E2[page.php]
                                        E2 --&gt; E3[singular.php]
                                        E3 --&gt; E4[index.php]
                                        
                                        F --&gt; F1[category-{id}.php]
                                        F1 --&gt; F2[category.php]
                                        F2 --&gt; F3[archive.php]
                                        F3 --&gt; F4[index.php]
                                        
                                        style A fill:#4caf50,color:#fff
                                        style B fill:#ff9800,color:#fff
                                        style C fill:#2196f3,color:#fff
                                        style D fill:#e91e63,color:#fff
                                        style E fill:#9c27b0,color:#fff
                                        style F fill:#00bcd4,color:#fff</div>
        </section>
        <section>
         <h2>Visual Template Hierarchy Map</h2>
         <canvas height="600" id="hierarchyCanvas" width="800">
         </canvas>
         <script>const canvas = document.getElementById('hierarchyCanvas');
                                    const ctx = canvas.getContext('2d');
                                    
                                    // Title
                                    ctx.font = 'bold 20px Arial';
                                    ctx.fillStyle = '#333';
                                    ctx.fillText('WordPress Template Hierarchy Decision Tree', 200, 30);
                                    
                                    // Main query types
                                    const queryTypes = [
                                        {name: 'Home Page', x: 100, y: 80, color: '#4caf50', templates: ['front-page.php', 'home.php', 'index.php']},
                                        {name: 'Single Post', x: 250, y: 80, color: '#2196f3', templates: ['single-{post-type}-{slug}.php', 'single-{post-type}.php', 'single.php', 'singular.php', 'index.php']},
                                        {name: 'Page', x: 400, y: 80, color: '#9c27b0', templates: ['custom template', 'page-{slug}.php', 'page-{id}.php', 'page.php', 'singular.php', 'index.php']},
                                        {name: 'Category', x: 550, y: 80, color: '#ff9800', templates: ['category-{slug}.php', 'category-{id}.php', 'category.php', 'archive.php', 'index.php']},
                                        {name: '404 Error', x: 700, y: 80, color: '#f44336', templates: ['404.php', 'index.php']}
                                    ];
                                    
                                    queryTypes.forEach(type =>{
                                        // Draw main box
                                        ctx.fillStyle = type.color;
                                        ctx.fillRect(type.x - 40, type.y - 20, 80, 30);
                                        ctx.fillStyle = '#fff';
                                        ctx.font = 'bold 10px Arial';
                                        ctx.textAlign = 'center';
                                        ctx.fillText(type.name, type.x, type.y);
                                        
                                        // Draw template hierarchy
                                        ctx.fillStyle = '#666';
                                        ctx.font = '9px monospace';
                                        ctx.textAlign = 'left';
                                        
                                        let yPos = type.y + 40;
                                        type.templates.forEach((template, index) =>{
                                            // Draw arrow
                                            if (index >0) {
                                                ctx.strokeStyle = '#ccc';
                                                ctx.beginPath();
                                                ctx.moveTo(type.x, yPos - 15);
                                                ctx.lineTo(type.x, yPos - 5);
                                                ctx.stroke();
                                                
                                                // Arrow head
                                                ctx.beginPath();
                                                ctx.moveTo(type.x - 3, yPos - 8);
                                                ctx.lineTo(type.x, yPos - 5);
                                                ctx.lineTo(type.x + 3, yPos - 8);
                                                ctx.stroke();
                                            }
                                            
                                            // Template box
                                            const boxWidth = template.length * 6 + 10;
                                            ctx.strokeStyle = index === 0 ? type.color : '#ddd';
                                            ctx.lineWidth = index === 0 ? 2 : 1;
                                            ctx.strokeRect(type.x - boxWidth/2, yPos - 10, boxWidth, 18);
                                            
                                            // Template text
                                            ctx.fillStyle = index === 0 ? type.color : '#666';
                                            ctx.textAlign = 'center';
                                            ctx.fillText(template, type.x, yPos);
                                            
                                            yPos += 25;
                                        });
                                    });
                                    
                                    // Legend
                                    ctx.fillStyle = '#333';
                                    ctx.font = 'bold 12px Arial';
                                    ctx.textAlign = 'left';
                                    ctx.fillText('Legend:', 20, 450);
                                    
                                    ctx.font = '11px Arial';
                                    ctx.fillText('‚Ä¢ Top boxes: Query types (what WordPress detected)', 20, 470);
                                    ctx.fillText('‚Ä¢ Listed below: Template files WordPress looks for (in order)', 20, 490);
                                    ctx.fillText('‚Ä¢ Colored border: First/preferred template', 20, 510);
                                    ctx.fillText('‚Ä¢ Gray border: Fallback templates', 20, 530);
                                    ctx.fillText('‚Ä¢ All paths end at index.php if no other template exists', 20, 550);</script>
        </section>
        <section>
         <h2>Complete Template Hierarchy Reference</h2>
         <p>Here's the complete hierarchy for all content types, from most specific to most general:</p>
         <h3>1. Home Page</h3>
         <pre><code class="language-php">// Home Page Display
front-page.php          // Used for both static front page and blog homepage
‚îú‚îÄ‚îÄ home.php            // Blog posts index when static front page is set
‚îî‚îÄ‚îÄ index.php           // Ultimate fallback

// Note: front-page.php takes precedence over home.php
// Use conditional tags to handle both cases in front-page.php</code></pre>
         <h3>2. Single Post</h3>
         <pre><code class="language-php">// Single Post Display
single-{post-type}-{post_name}.php  // single-product-widget.php
‚îú‚îÄ‚îÄ single-{post-type}.php          // single-product.php
    ‚îú‚îÄ‚îÄ single.php                   // All single posts
        ‚îú‚îÄ‚îÄ singular.php             // Fallback for single posts and pages
            ‚îî‚îÄ‚îÄ index.php            // Ultimate fallback

// Examples:
// Post with slug "hello-world" in post type "product":
// 1. single-product-hello-world.php
// 2. single-product.php
// 3. single.php
// 4. singular.php
// 5. index.php</code></pre>
         <h3>3. Single Page</h3>
         <pre><code class="language-php">// Page Display
custom-template.php      // Page Template selected in editor
‚îú‚îÄ‚îÄ page-{page_name}.php    // page-about.php
    ‚îú‚îÄ‚îÄ page-{id}.php       // page-42.php
        ‚îú‚îÄ‚îÄ page.php        // All pages
            ‚îú‚îÄ‚îÄ singular.php // Fallback for single posts and pages
                ‚îî‚îÄ‚îÄ index.php

// Custom Page Template Example:
/*
Template Name: Full Width Layout
Template Post Type: page, post
*/</code></pre>
         <h3>4. Category Archive</h3>
         <pre><code class="language-php">// Category Archive Display
category-{slug}.php      // category-news.php
‚îú‚îÄ‚îÄ category-{id}.php    // category-5.php
    ‚îú‚îÄ‚îÄ category.php     // All categories
        ‚îú‚îÄ‚îÄ archive.php  // All archives
            ‚îî‚îÄ‚îÄ index.php

// Example for category "News" with ID 5:
// 1. category-news.php
// 2. category-5.php
// 3. category.php
// 4. archive.php
// 5. index.php</code></pre>
         <h3>5. Tag Archive</h3>
         <pre><code class="language-php">// Tag Archive Display
tag-{slug}.php           // tag-wordpress.php
‚îú‚îÄ‚îÄ tag-{id}.php         // tag-10.php
    ‚îú‚îÄ‚îÄ tag.php          // All tags
        ‚îú‚îÄ‚îÄ archive.php  // All archives
            ‚îî‚îÄ‚îÄ index.php</code></pre>
         <h3>6. Custom Taxonomy Archive</h3>
         <pre><code class="language-php">// Custom Taxonomy Archive Display
taxonomy-{taxonomy}-{term}.php  // taxonomy-product_cat-electronics.php
‚îú‚îÄ‚îÄ taxonomy-{taxonomy}.php     // taxonomy-product_cat.php
    ‚îú‚îÄ‚îÄ taxonomy.php            // All custom taxonomies
        ‚îú‚îÄ‚îÄ archive.php         // All archives
            ‚îî‚îÄ‚îÄ index.php</code></pre>
         <h3>7. Author Archive</h3>
         <pre><code class="language-php">// Author Archive Display
author-{nicename}.php    // author-john.php
‚îú‚îÄ‚îÄ author-{id}.php      // author-3.php
    ‚îú‚îÄ‚îÄ author.php       // All authors
        ‚îú‚îÄ‚îÄ archive.php  // All archives
            ‚îî‚îÄ‚îÄ index.php</code></pre>
         <h3>8. Date Archive</h3>
         <pre><code class="language-php">// Date Archive Display
date.php                 // All date archives
‚îú‚îÄ‚îÄ archive.php          // All archives
    ‚îî‚îÄ‚îÄ index.php

// Date archives include:
// - Yearly: example.com/2024/
// - Monthly: example.com/2024/12/
// - Daily: example.com/2024/12/25/</code></pre>
         <h3>9. Search Results</h3>
         <pre><code class="language-php">// Search Results Display
search.php               // Search results page
‚îî‚îÄ‚îÄ index.php           // Ultimate fallback</code></pre>
         <h3>10. 404 Error</h3>
         <pre><code class="language-php">// 404 Not Found Display
404.php                  // Error page
‚îî‚îÄ‚îÄ index.php           // Ultimate fallback</code></pre>
         <h3>11. Attachment Pages</h3>
         <pre><code class="language-php">// Attachment Display
{MIME-type}-{subtype}.php    // image-jpeg.php
‚îú‚îÄ‚îÄ {subtype}.php            // jpeg.php
    ‚îú‚îÄ‚îÄ {MIME-type}.php      // image.php
        ‚îú‚îÄ‚îÄ attachment.php   // All attachments
            ‚îú‚îÄ‚îÄ single-attachment.php
                ‚îú‚îÄ‚îÄ single.php
                    ‚îú‚îÄ‚îÄ singular.php
                        ‚îî‚îÄ‚îÄ index.php

// MIME type examples:
// - image (image/jpeg, image/png)
// - video (video/mp4)
// - audio (audio/mpeg)
// - application (application/pdf)</code></pre>
         <h3>12. Embeds</h3>
         <pre><code class="language-php">// Embed Template (for oEmbed)
embed-{post-type}-{post-format}.php
‚îú‚îÄ‚îÄ embed-{post-type}.php
    ‚îú‚îÄ‚îÄ embed.php
        ‚îî‚îÄ‚îÄ wp-includes/theme-compat/embed.php</code></pre>
        </section>
        <section>
         <h2>Custom Post Type Archives</h2>
         <p>Custom post types follow a similar hierarchy pattern:</p>
         <pre><code class="language-php">// Custom Post Type Archive
archive-{post-type}.php  // archive-product.php
‚îú‚îÄ‚îÄ archive.php          // All archives
    ‚îî‚îÄ‚îÄ index.php        // Ultimate fallback

// Example: Product post type
// 1. archive-product.php
// 2. archive.php
// 3. index.php

// Register archive in post type
register_post_type('product', array(
    'public' =&gt; true,
    'has_archive' =&gt; true, // or 'products' for custom slug
    'rewrite' =&gt; array('slug' =&gt; 'products'),
    // ... other arguments
));</code></pre>
        </section>
        <section>
         <h2>Conditional Tags</h2>
         <p>WordPress provides conditional tags to determine what type of page is being displayed. These are essential for controlling template behavior:</p>
         <pre><code class="language-php">&lt;?php
// Primary Conditional Tags
if (is_home()) {
    // Blog homepage (posts page)
}

if (is_front_page()) {
    // Site front page (home or static page)
}

if (is_single()) {
    // Any single post
    if (is_single('42')) {
        // Single post with ID 42
    }
    if (is_single('hello-world')) {
        // Single post with slug
    }
}

if (is_page()) {
    // Any single page
    if (is_page('about')) {
        // Specific page by slug
    }
    if (is_page(array('about', 'contact'))) {
        // Multiple pages
    }
}

if (is_category()) {
    // Category archive
    if (is_category('news')) {
        // Specific category
    }
}

if (is_tag()) {
    // Tag archive
}

if (is_tax()) {
    // Custom taxonomy archive
    if (is_tax('product_cat', 'electronics')) {
        // Specific taxonomy term
    }
}

if (is_author()) {
    // Author archive
    if (is_author('john')) {
        // Specific author
    }
}

if (is_date()) {
    // Date-based archive
    if (is_year()) { }
    if (is_month()) { }
    if (is_day()) { }
}

if (is_archive()) {
    // Any archive page
}

if (is_search()) {
    // Search results page
}

if (is_404()) {
    // 404 error page
}

if (is_attachment()) {
    // Attachment page
}

if (is_singular()) {
    // Any single post, page, or attachment
    if (is_singular('product')) {
        // Single custom post type
    }
}

if (is_post_type_archive()) {
    // Custom post type archive
    if (is_post_type_archive('product')) {
        // Specific post type archive
    }
}

// Useful Helper Conditionals
if (is_sticky()) {
    // Sticky post
}

if (is_paged()) {
    // Paginated page (page 2, 3, etc.)
}

if (has_post_thumbnail()) {
    // Post has featured image
}

if (comments_open()) {
    // Comments are open
}

if (is_user_logged_in()) {
    // User is logged in
}

if (is_admin()) {
    // Admin area (not for front-end checks!)
}

// Combining Conditionals
if (is_single() &amp;&amp; !is_attachment()) {
    // Single post but not attachment
}

if (is_home() || is_archive()) {
    // Blog home or any archive
}

if (is_page() &amp;&amp; !is_page('contact')) {
    // Any page except contact
}</code></pre>
        </section>
        <!-- Best Practice Box -->
        <div class="best_practice">
         <h3>Template Hierarchy Best Practices</h3>
         <ul>
          <li>Start with index.php and build up - ensure your theme works with just index.php</li>
          <li>Create specific templates only when needed to avoid theme bloat</li>
          <li>Use template parts (get_template_part()) to avoid code duplication</li>
          <li>Name templates clearly and follow WordPress naming conventions</li>
          <li>Document custom page templates with clear names and descriptions</li>
          <li>Use conditional tags in parent templates instead of creating many specific templates</li>
          <li>Test your templates with different content types and edge cases</li>
          <li>Consider child themes when planning template structure</li>
          <li>Use singular.php as a smart fallback for both posts and pages</li>
         </ul>
        </div>
        <section>
         <h2>Creating Custom Page Templates</h2>
         <p>WordPress allows you to create custom templates that users can select when creating pages:</p>
         <h3>Basic Page Template</h3>
         <pre><code class="language-php">&lt;?php
/*
Template Name: Full Width Template
Template Post Type: page, post
*/

get_header(); ?&gt;

&lt;div class="full-width-container"&gt;
    &lt;?php
    while (have_posts()) : the_post(); ?&gt;
        
        &lt;article id="post-&lt;?php the_ID(); ?&gt;" &lt;?php post_class(); ?&gt;&gt;
            &lt;header class="entry-header"&gt;
                &lt;?php the_title('&lt;h1 class="entry-title"&gt;', '&lt;/h1&gt;'); ?&gt;
            &lt;/header&gt;
            
            &lt;div class="entry-content"&gt;
                &lt;?php the_content(); ?&gt;
            &lt;/div&gt;
        &lt;/article&gt;
        
    &lt;?php endwhile; ?&gt;
&lt;/div&gt;

&lt;?php get_footer(); ?&gt;</code></pre>
         <h3>Advanced Custom Template with Options</h3>
         <pre><code class="language-php">&lt;?php
/*
Template Name: Portfolio Gallery
Template Post Type: page
Description: A custom template for displaying portfolio items in a grid
*/

get_header(); 

// Get custom field values (if using ACF)
$columns = get_field('gallery_columns') ?: 3;
$items_per_page = get_field('items_per_page') ?: 12;
?&gt;

&lt;div class="portfolio-template"&gt;
    &lt;header class="page-header"&gt;
        &lt;?php the_title('&lt;h1&gt;', '&lt;/h1&gt;'); ?&gt;
        &lt;?php if (has_excerpt()) : ?&gt;
            &lt;div class="page-description"&gt;
                &lt;?php the_excerpt(); ?&gt;
            &lt;/div&gt;
        &lt;?php endif; ?&gt;
    &lt;/header&gt;
    
    &lt;?php
    // Query portfolio items
    $paged = get_query_var('paged') ? get_query_var('paged') : 1;
    $portfolio = new WP_Query(array(
        'post_type' =&gt; 'portfolio',
        'posts_per_page' =&gt; $items_per_page,
        'paged' =&gt; $paged
    ));
    
    if ($portfolio-&gt;have_posts()) : ?&gt;
        &lt;div class="portfolio-grid columns-&lt;?php echo esc_attr($columns); ?&gt;"&gt;
            &lt;?php while ($portfolio-&gt;have_posts()) : $portfolio-&gt;the_post(); ?&gt;
                &lt;div class="portfolio-item"&gt;
                    &lt;a href="&lt;?php the_permalink(); ?&gt;" class="portfolio-link"&gt;
                        &lt;?php if (has_post_thumbnail()) : ?&gt;
                            &lt;?php the_post_thumbnail('portfolio-thumb'); ?&gt;
                        &lt;?php endif; ?&gt;
                        &lt;div class="portfolio-overlay"&gt;
                            &lt;h3&gt;&lt;?php the_title(); ?&gt;&lt;/h3&gt;
                            &lt;span class="portfolio-category"&gt;
                                &lt;?php echo get_the_term_list(get_the_ID(), 'portfolio_category', '', ', '); ?&gt;
                            &lt;/span&gt;
                        &lt;/div&gt;
                    &lt;/a&gt;
                &lt;/div&gt;
            &lt;?php endwhile; ?&gt;
        &lt;/div&gt;
        
        &lt;!-- Pagination --&gt;
        &lt;div class="pagination"&gt;
            &lt;?php
            echo paginate_links(array(
                'total' =&gt; $portfolio-&gt;max_num_pages,
                'current' =&gt; $paged
            ));
            ?&gt;
        &lt;/div&gt;
        
        &lt;?php wp_reset_postdata(); ?&gt;
    &lt;?php endif; ?&gt;
&lt;/div&gt;

&lt;?php get_footer(); ?&gt;</code></pre>
        </section>
        <section>
         <h2>Template Parts and Organization</h2>
         <p>Use template parts to organize reusable components and keep templates clean:</p>
         <pre><code class="language-php">&lt;?php
// get_template_part() usage

// Basic usage
get_template_part('template-parts/content');
// Looks for: template-parts/content.php

// With suffix
get_template_part('template-parts/content', 'single');
// Looks for: 
// 1. template-parts/content-single.php
// 2. template-parts/content.php

// Dynamic suffix
get_template_part('template-parts/content', get_post_type());
// For 'product' post type, looks for:
// 1. template-parts/content-product.php
// 2. template-parts/content.php

// Passing variables to template parts (WordPress 5.5+)
$args = array(
    'title' =&gt; get_the_title(),
    'show_meta' =&gt; true,
    'layout' =&gt; 'grid'
);
get_template_part('template-parts/content', 'card', $args);

// In template-parts/content-card.php:
$title = $args['title'] ?? '';
$show_meta = $args['show_meta'] ?? false;
$layout = $args['layout'] ?? 'list';
?&gt;

&lt;!-- Organized theme structure --&gt;
themes/your-theme/
‚îú‚îÄ‚îÄ index.php
‚îú‚îÄ‚îÄ style.css
‚îú‚îÄ‚îÄ functions.php
‚îú‚îÄ‚îÄ header.php
‚îú‚îÄ‚îÄ footer.php
‚îú‚îÄ‚îÄ sidebar.php
‚îú‚îÄ‚îÄ single.php
‚îú‚îÄ‚îÄ page.php
‚îú‚îÄ‚îÄ archive.php
‚îú‚îÄ‚îÄ search.php
‚îú‚îÄ‚îÄ 404.php
‚îú‚îÄ‚îÄ template-parts/
‚îÇ   ‚îú‚îÄ‚îÄ content.php
‚îÇ   ‚îú‚îÄ‚îÄ content-single.php
‚îÇ   ‚îú‚îÄ‚îÄ content-page.php
‚îÇ   ‚îú‚îÄ‚îÄ content-none.php
‚îÇ   ‚îú‚îÄ‚îÄ content-search.php
‚îÇ   ‚îú‚îÄ‚îÄ header/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ site-branding.php
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ site-navigation.php
‚îÇ   ‚îî‚îÄ‚îÄ footer/
‚îÇ       ‚îú‚îÄ‚îÄ site-info.php
‚îÇ       ‚îî‚îÄ‚îÄ footer-widgets.php
‚îú‚îÄ‚îÄ page-templates/
‚îÇ   ‚îú‚îÄ‚îÄ full-width.php
‚îÇ   ‚îú‚îÄ‚îÄ portfolio.php
‚îÇ   ‚îî‚îÄ‚îÄ contact.php
‚îî‚îÄ‚îÄ assets/
    ‚îú‚îÄ‚îÄ css/
    ‚îú‚îÄ‚îÄ js/
    ‚îî‚îÄ‚îÄ images/</code></pre>
        </section>
        <!-- Real World Example -->
        <div class="real_world_example">
         <h3>Real World Example: Smart Archive Template</h3>
         <p>Creating a flexible archive.php that handles multiple content types intelligently:</p>
         <pre><code class="language-php">&lt;?php
/**
 * Archive Template
 * Handles all archive pages with dynamic layouts
 */

get_header(); ?&gt;

&lt;div class="archive-wrapper"&gt;
    &lt;header class="archive-header"&gt;
        &lt;?php
        // Dynamic archive title
        if (is_category()) {
            echo '&lt;h1 class="archive-title"&gt;Category: ' . single_cat_title('', false) . '&lt;/h1&gt;';
            if (category_description()) {
                echo '&lt;div class="archive-description"&gt;' . category_description() . '&lt;/div&gt;';
            }
            
        } elseif (is_tag()) {
            echo '&lt;h1 class="archive-title"&gt;Tag: ' . single_tag_title('', false) . '&lt;/h1&gt;';
            
        } elseif (is_author()) {
            $author = get_queried_object();
            echo '&lt;div class="author-header"&gt;';
            echo get_avatar($author-&gt;ID, 120);
            echo '&lt;div class="author-info"&gt;';
            echo '&lt;h1 class="archive-title"&gt;Author: ' . $author-&gt;display_name . '&lt;/h1&gt;';
            echo '&lt;div class="author-bio"&gt;' . $author-&gt;description . '&lt;/div&gt;';
            echo '&lt;/div&gt;&lt;/div&gt;';
            
        } elseif (is_date()) {
            if (is_day()) {
                echo '&lt;h1 class="archive-title"&gt;Daily Archives: ' . get_the_date() . '&lt;/h1&gt;';
            } elseif (is_month()) {
                echo '&lt;h1 class="archive-title"&gt;Monthly Archives: ' . get_the_date('F Y') . '&lt;/h1&gt;';
            } elseif (is_year()) {
                echo '&lt;h1 class="archive-title"&gt;Yearly Archives: ' . get_the_date('Y') . '&lt;/h1&gt;';
            }
            
        } elseif (is_post_type_archive()) {
            echo '&lt;h1 class="archive-title"&gt;' . post_type_archive_title('', false) . '&lt;/h1&gt;';
            
        } elseif (is_tax()) {
            $term = get_queried_object();
            $taxonomy = get_taxonomy($term-&gt;taxonomy);
            echo '&lt;h1 class="archive-title"&gt;' . $taxonomy-&gt;labels-&gt;singular_name . ': ' . $term-&gt;name . '&lt;/h1&gt;';
            if ($term-&gt;description) {
                echo '&lt;div class="archive-description"&gt;' . $term-&gt;description . '&lt;/div&gt;';
            }
            
        } else {
            echo '&lt;h1 class="archive-title"&gt;Archives&lt;/h1&gt;';
        }
        
        // Results count
        global $wp_query;
        if ($wp_query-&gt;found_posts &gt; 0) {
            echo '&lt;p class="results-count"&gt;Found ' . $wp_query-&gt;found_posts . ' results&lt;/p&gt;';
        }
        ?&gt;
    &lt;/header&gt;
    
    &lt;?php if (have_posts()) : ?&gt;
        
        &lt;div class="archive-content &lt;?php echo esc_attr(get_archive_layout_class()); ?&gt;"&gt;
            &lt;?php
            while (have_posts()) : the_post();
                
                // Use different templates for different post types
                $post_type = get_post_type();
                
                // Try post-type specific template first
                if (locate_template('template-parts/content-' . $post_type . '.php')) {
                    get_template_part('template-parts/content', $post_type);
                    
                // Fall back to post format
                } elseif (get_post_format()) {
                    get_template_part('template-parts/content', get_post_format());
                    
                // Default template
                } else {
                    get_template_part('template-parts/content', 'archive');
                }
                
            endwhile;
            ?&gt;
        &lt;/div&gt;
        
        &lt;!-- Smart Pagination --&gt;
        &lt;?php
        the_posts_pagination(array(
            'mid_size' =&gt; 2,
            'prev_text' =&gt; '‚Üê Previous',
            'next_text' =&gt; 'Next ‚Üí',
            'before_page_number' =&gt; '&lt;span class="screen-reader-text"&gt;Page &lt;/span&gt;'
        ));
        ?&gt;
        
    &lt;?php else : ?&gt;
        
        &lt;div class="no-results"&gt;
            &lt;h2&gt;Nothing Found&lt;/h2&gt;
            &lt;p&gt;
                &lt;?php
                if (is_search()) {
                    echo 'Sorry, but nothing matched your search terms. Please try again with different keywords.';
                } else {
                    echo 'It seems we can\'t find what you\'re looking for. Perhaps searching can help.';
                }
                ?&gt;
            &lt;/p&gt;
            &lt;?php get_search_form(); ?&gt;
        &lt;/div&gt;
        
    &lt;?php endif; ?&gt;
&lt;/div&gt;

&lt;?php
// Include sidebar for certain archives
if (should_show_sidebar()) {
    get_sidebar();
}

get_footer();

// Helper functions (in functions.php)
function get_archive_layout_class() {
    if (is_post_type_archive('portfolio')) {
        return 'grid-layout columns-3';
    } elseif (is_category('news') || is_tag()) {
        return 'list-layout with-excerpts';
    } else {
        return 'default-layout';
    }
}

function should_show_sidebar() {
    // No sidebar for portfolio archives
    if (is_post_type_archive('portfolio')) {
        return false;
    }
    // No sidebar for author archives
    if (is_author()) {
        return false;
    }
    // Show sidebar for everything else
    return true;
}
?&gt;</code></pre>
        </div>
        <!-- Practice Exercise -->
        <section>
         <h2>Practice Exercise</h2>
         <p>Create a custom theme with intelligent template selection:</p>
         <div class="alert alert-success">
          <div class="alert-icon">üíª</div>
          <div class="alert-content">
           <div class="alert-title">Try It Now</div>
           <div class="alert-message">Build a theme structure that:<ol>
             <li>Has specific templates for at least 3 different scenarios</li>
             <li>Uses template parts to avoid code duplication</li>
             <li>Implements conditional logic in archive.php for different post types</li>
             <li>Creates a custom page template with selectable options</li>
             <li>Properly falls back to index.php when specific templates don't exist</li>
            </ol>
           </div>
          </div>
         </div>
         <details>
          <summary>View Solution</summary>
          <pre><code class="language-php">// Theme file structure
themes/smart-theme/
‚îú‚îÄ‚îÄ index.php                 // Ultimate fallback
‚îú‚îÄ‚îÄ front-page.php           // Home page
‚îú‚îÄ‚îÄ single.php               // Single posts
‚îú‚îÄ‚îÄ single-product.php       // Single product posts
‚îú‚îÄ‚îÄ page.php                 // Single pages
‚îú‚îÄ‚îÄ archive.php              // All archives
‚îú‚îÄ‚îÄ archive-product.php      // Product archive
‚îú‚îÄ‚îÄ category.php             // Category archives
‚îú‚îÄ‚îÄ search.php               // Search results
‚îú‚îÄ‚îÄ 404.php                  // Error page
‚îú‚îÄ‚îÄ header.php
‚îú‚îÄ‚îÄ footer.php
‚îú‚îÄ‚îÄ functions.php
‚îú‚îÄ‚îÄ style.css
‚îú‚îÄ‚îÄ template-parts/
‚îÇ   ‚îú‚îÄ‚îÄ content.php
‚îÇ   ‚îú‚îÄ‚îÄ content-single.php
‚îÇ   ‚îú‚îÄ‚îÄ content-page.php
‚îÇ   ‚îú‚îÄ‚îÄ content-product.php
‚îÇ   ‚îú‚îÄ‚îÄ content-excerpt.php
‚îÇ   ‚îî‚îÄ‚îÄ content-none.php
‚îî‚îÄ‚îÄ page-templates/
    ‚îî‚îÄ‚îÄ template-portfolio.php

// index.php - Smart fallback
&lt;?php get_header(); ?&gt;

&lt;main id="main" class="site-main"&gt;
    &lt;?php
    if (have_posts()) :
        
        // Determine content layout based on context
        if (is_home() &amp;&amp; !is_front_page()) : ?&gt;
            &lt;header&gt;
                &lt;h1 class="page-title"&gt;Blog&lt;/h1&gt;
            &lt;/header&gt;
        &lt;?php endif;
        
        echo '&lt;div class="content-area"&gt;';
        
        while (have_posts()) : the_post();
            
            // Smart template part selection
            if (is_singular()) {
                get_template_part('template-parts/content', 'single');
            } elseif (is_search()) {
                get_template_part('template-parts/content', 'excerpt');
            } else {
                get_template_part('template-parts/content', get_post_type());
            }
            
        endwhile;
        
        echo '&lt;/div&gt;';
        
        the_posts_navigation();
        
    else :
        get_template_part('template-parts/content', 'none');
    endif;
    ?&gt;
&lt;/main&gt;

&lt;?php 
get_sidebar();
get_footer();

// single-product.php - Custom post type template
get_header(); ?&gt;

&lt;div class="product-single"&gt;
    &lt;?php while (have_posts()) : the_post(); ?&gt;
        &lt;article id="product-&lt;?php the_ID(); ?&gt;" &lt;?php post_class(); ?&gt;&gt;
            &lt;div class="product-images"&gt;
                &lt;?php 
                if (has_post_thumbnail()) {
                    the_post_thumbnail('large');
                }
                
                // Product gallery
                $gallery = get_field('product_gallery');
                if ($gallery) : ?&gt;
                    &lt;div class="product-gallery"&gt;
                        &lt;?php foreach ($gallery as $image) : ?&gt;
                            &lt;img src="&lt;?php echo esc_url($image['sizes']['thumbnail']); ?&gt;" 
                                 alt="&lt;?php echo esc_attr($image['alt']); ?&gt;"&gt;
                        &lt;?php endforeach; ?&gt;
                    &lt;/div&gt;
                &lt;?php endif; ?&gt;
            &lt;/div&gt;
            
            &lt;div class="product-info"&gt;
                &lt;h1&gt;&lt;?php the_title(); ?&gt;&lt;/h1&gt;
                
                &lt;div class="product-price"&gt;
                    $&lt;?php echo get_field('price'); ?&gt;
                &lt;/div&gt;
                
                &lt;div class="product-description"&gt;
                    &lt;?php the_content(); ?&gt;
                &lt;/div&gt;
                
                &lt;div class="product-meta"&gt;
                    &lt;?php
                    $categories = get_the_terms(get_the_ID(), 'product_category');
                    if ($categories) : ?&gt;
                        &lt;div class="product-categories"&gt;
                            &lt;strong&gt;Categories:&lt;/strong&gt;
                            &lt;?php foreach ($categories as $category) : ?&gt;
                                &lt;a href="&lt;?php echo get_term_link($category); ?&gt;"&gt;
                                    &lt;?php echo $category-&gt;name; ?&gt;
                                &lt;/a&gt;
                            &lt;?php endforeach; ?&gt;
                        &lt;/div&gt;
                    &lt;?php endif; ?&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/article&gt;
        
        &lt;!-- Related Products --&gt;
        &lt;?php
        $related = new WP_Query(array(
            'post_type' =&gt; 'product',
            'posts_per_page' =&gt; 4,
            'post__not_in' =&gt; array(get_the_ID()),
            'orderby' =&gt; 'rand'
        ));
        
        if ($related-&gt;have_posts()) : ?&gt;
            &lt;section class="related-products"&gt;
                &lt;h2&gt;Related Products&lt;/h2&gt;
                &lt;div class="products-grid"&gt;
                    &lt;?php while ($related-&gt;have_posts()) : $related-&gt;the_post(); ?&gt;
                        &lt;?php get_template_part('template-parts/content', 'product'); ?&gt;
                    &lt;?php endwhile; ?&gt;
                &lt;/div&gt;
            &lt;/section&gt;
            &lt;?php wp_reset_postdata(); ?&gt;
        &lt;?php endif; ?&gt;
        
    &lt;?php endwhile; ?&gt;
&lt;/div&gt;

&lt;?php get_footer(); ?&gt;</code></pre>
         </details>
        </section>
        <!-- Homework -->
        <div class="homework">
         <h2>Practice Assignment</h2>
         <p>Master the WordPress Template Hierarchy by completing these tasks:</p>
         <ul>
          <li>Create a complete theme with at least 10 different template files</li>
          <li>Implement custom templates for 2 different custom post types</li>
          <li>Build an intelligent archive.php that handles all archive types differently</li>
          <li>Create 3 custom page templates with different layouts</li>
          <li>Use conditional tags to modify template behavior based on context</li>
          <li>Organize your theme with proper template parts structure</li>
          <li>Test your template fallback chain by removing templates</li>
         </ul>
        </div>
        <!-- Resources -->
        <section class="resources">
         <h2>Additional Resources</h2>
         <ul>
          <li>
           <a href="https://developer.wordpress.org/themes/basics/template-hierarchy/" target="_blank">Template Hierarchy - WordPress Developer Handbook</a>
          </li>
          <li>
           <a href="https://wphierarchy.com/" target="_blank">Interactive Template Hierarchy Diagram</a>
          </li>
          <li>
           <a href="https://developer.wordpress.org/themes/basics/conditional-tags/" target="_blank">Conditional Tags Reference</a>
          </li>
          <li>
           <a href="https://developer.wordpress.org/themes/basics/template-files/" target="_blank">Template Files Documentation</a>
          </li>
          <li>
           <a href="https://codex.wordpress.org/images/9/96/wp-template-hierarchy.jpg" target="_blank">Visual Template Hierarchy Chart</a>
          </li>
          <li>
           <a href="https://www.smashingmagazine.com/2016/11/wordpress-template-hierarchy/" target="_blank">Complete Guide to WordPress Template Hierarchy</a>
          </li>
         </ul>
        </section>
       </div>
       <!-- Lesson Navigation -->
       <div class="lesson-navigation">
        <a class="lesson-nav-button prev" href="/04module/wordpress_loop.html">
         <svg fill="currentColor" height="20" viewbox="0 0 20 20" width="20">
          <path d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z">
          </path>
         </svg>
         <span>
          <small>Previous</small>
          <br/>The WordPress Loop</span>
        </a>
        <button class="complete-lesson-btn">Mark as Complete</button>
        <a class="lesson-nav-button next" href="/04module/file_structure_overview.html">
         <span>
          <small>Next</small>
          <br/>File Structure</span>
         <svg fill="currentColor" height="20" viewbox="0 0 20 20" width="20">
          <path d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z">
          </path>
         </svg>
        </a>
       </div>
      </article>
     </div>
    </div>
   </main>
   <!-- Footer -->
   <footer class="site-footer" role="contentinfo">
    <div class="footer-container">
     <div class="footer-content">
      <div class="footer-section footer-about">
       <h3>PHP WordPress Development</h3>
       <p>Complete Web Development Course</p>
      </div>
      <div class="footer-section">
       <h4>Quick Links</h4>
       <ul class="footer-links">
        <li>
         <a href="/">Home</a>
        </li>
        <li>
         <a class="active" href="/module4.html">Module 4</a>
        </li>
        <li>
         <a href="/resources.html">Resources</a>
        </li>
       </ul>
      </div>
      <div class="footer-section">
       <h4>Support</h4>
       <ul class="footer-links">
        <li>
         <a href="/help.html">Help Center</a>
        </li>
        <li>
         <a href="/faq.html">FAQ</a>
        </li>
        <li>
         <a href="/contact.html">Contact</a>
        </li>
       </ul>
      </div>
     </div>
     <div class="footer-bottom">
      <div class="footer-bottom-content">
       <p class="copyright">¬© 2025 PHP WordPress Development Course</p>
       <nav class="footer-bottom-links">
        <a href="/privacy.html">Privacy</a>
        <span class="separator">|</span>
        <a href="/terms.html">Terms</a>
       </nav>
      </div>
     </div>
    </div>
   </footer>
  </div>
  <!-- Back to Top -->
  <button aria-label="Back to top" class="back-to-top" id="back-to-top">
   <svg fill="none" height="24" stroke="currentColor" stroke-width="2" viewbox="0 0 24 24" width="24">
    <path d="M12 19V5M12 5l-7 7M12 5l7 7">
    </path>
   </svg>
  </button>
  <!-- JavaScript -->
  <script src="/assets/js/navigation.js">
  </script>
  <script src="/assets/js/site-config.js">
  </script>
  <script src="/assets/js/sidebar-toggle.js">
  </script>
  <!-- Universal Mermaid Fix (Enhanced) -->
  <!-- Universal Mermaid Fix -->
  <script src="/assets/js/mermaid-universal-fix.js">
  </script>
 </body>
</html>
