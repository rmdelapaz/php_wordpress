<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <!-- SEO Meta Tags -->
    <title>Main Template Files - PHP WordPress Course</title>
    <meta name="description" content="Learn about the main template files in WordPress themes including index.php, header.php, footer.php, sidebar.php, and specialized templates">
    <meta name="keywords" content="PHP, WordPress, template files, header.php, footer.php, sidebar.php, single.php, page.php, archive.php">
    <meta name="author" content="PHP WordPress Course">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="apple-touch-icon" href="/favicon.png">
    
    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/sidebar-enhanced.css">
    <link rel="stylesheet" href="/assets/css/sidebar-toggle.css">
    
    <!-- Custom styles for template files visualization -->
    <style>
        .template-layout {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            position: relative;
        }

        .template-visual {
            display: grid;
            gap: 1rem;
            margin: 2rem 0;
        }

        .template-section {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 1.5rem;
            position: relative;
            transition: all 0.3s ease;
        }

        .template-section:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            border-color: #667eea;
        }

        .template-section.header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .template-section.footer {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .template-section.sidebar {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .template-section.content {
            min-height: 200px;
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }

        .template-label {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.2);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-size: 0.875rem;
            font-family: 'Courier New', monospace;
        }

        .file-structure-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .file-card {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }

        .file-card:hover {
            transform: translateY(-5px);
            border-color: #667eea;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .file-card h3 {
            color: #667eea;
            margin-top: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .file-icon {
            font-size: 1.5rem;
        }

        .required-badge {
            background: #ef4444;
            color: white;
            padding: 0.125rem 0.5rem;
            border-radius: 12px;
            font-size: 0.75rem;
            margin-left: auto;
        }

        .optional-badge {
            background: #6b7280;
            color: white;
            padding: 0.125rem 0.5rem;
            border-radius: 12px;
            font-size: 0.75rem;
            margin-left: auto;
        }

        .code-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin: 2rem 0;
        }

        .code-comparison .code-block {
            background: #1e293b;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
        }

        .code-comparison .code-block h4 {
            color: #38bdf8;
            margin-top: 0;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .template-flow {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .flow-diagram {
            display: flex;
            align-items: center;
            justify-content: space-around;
            margin: 2rem 0;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .flow-step {
            background: #f0f9ff;
            border: 2px solid #0ea5e9;
            border-radius: 8px;
            padding: 1rem;
            min-width: 150px;
            text-align: center;
            position: relative;
        }

        .flow-step::after {
            content: '→';
            position: absolute;
            right: -30px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.5rem;
            color: #0ea5e9;
        }

        .flow-step:last-child::after {
            display: none;
        }

        .template-anatomy {
            background: #f8fafc;
            border: 2px dashed #cbd5e1;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
        }

        .anatomy-section {
            margin: 1rem 0;
            padding: 1rem;
            background: white;
            border-radius: 6px;
            border-left: 4px solid #667eea;
        }

        .hook-visual {
            width: 100%;
            height: 400px;
            margin: 2rem 0;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
        }

        .function-card {
            background: #fef3c7;
            border: 2px solid #fbbf24;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .function-card h4 {
            color: #92400e;
            margin-top: 0;
        }

        .template-includes {
            background: linear-gradient(45deg, #667eea, #764ba2);
            padding: 2rem;
            border-radius: 12px;
            margin: 2rem 0;
            color: white;
        }

        .include-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .include-item {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .include-item:hover {
            background: rgba(255,255,255,0.2);
            transform: scale(1.05);
        }

        @media (max-width: 768px) {
            .code-comparison {
                grid-template-columns: 1fr;
            }
            
            .flow-step::after {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Skip to main content -->
    <a href="#main-content" class="sr-only">Skip to main content</a>
    
    <div class="page-wrapper">
        <!-- Header -->
        <header class="site-header" role="banner">
            <div class="header-container">
                <div class="site-branding">
                    <a href="/" class="site-logo">
                        <h1 class="site-title">PHP WordPress Development</h1>
                    </a>
                </div>
                
                <nav class="main-navigation" role="navigation" aria-label="Main navigation">
                    <button class="mobile-menu-btn" aria-label="Toggle navigation" aria-expanded="false">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    
                    <div class="nav-menu">
                        <ul class="nav-list">
                            <li class="nav-item"><a href="/" class="nav-link">Home</a></li>
                            <li class="nav-item dropdown">
                                <button class="nav-link dropdown-toggle active" aria-haspopup="true">Modules</button>
                                <div class="dropdown-menu">
                                    <a href="/module1.html" class="dropdown-item">Module 1: Web Fundamentals</a>
                                    <a href="/module2.html" class="dropdown-item">Module 2: PHP Fundamentals</a>
                                    <a href="/module3.html" class="dropdown-item">Module 3: MySQL Database</a>
                                    <a href="/module4.html" class="dropdown-item">Module 4: WordPress & Docker</a>
                                    <a href="/module5.html" class="dropdown-item active">Module 5: Theme Development</a>
                                    <a href="/module6.html" class="dropdown-item">Module 6: Plugin Development</a>
                                    <a href="/module7.html" class="dropdown-item">Module 7: Advanced WordPress</a>
                                    <a href="/module8.html" class="dropdown-item">Module 8: Deployment</a>
                                    <a href="/module9.html" class="dropdown-item">Module 9: Final Project</a>
                                </div>
                            </li>
                            <li class="nav-item"><a href="/resources.html" class="nav-link">Resources</a></li>
                            <li class="nav-item"><a href="/about.html" class="nav-link">About</a></li>
                        </ul>
                    </div>
                </nav>
                
                <div class="search-container">
                    <div class="search-input-wrapper">
                        <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
                        </svg>
                        <input type="search" class="search-input" placeholder="Search lessons..." aria-label="Search">
                    </div>
                    <div class="search-results"></div>
                </div>
            </div>
        </header>
        
        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-header">
                <h2 class="progress-title">Course Progress</h2>
                <span class="progress-text">Loading...</span>
            </div>
            <div class="progress-bar">
                <div class="progress-bar-fill">
                    <span class="progress-bar-text"></span>
                </div>
            </div>
        </div>
        
        <!-- Breadcrumb -->
        <nav class="breadcrumb container" aria-label="Breadcrumb">
            <ol class="breadcrumb-list">
                <li class="breadcrumb-item">
                    <a href="/">Home</a>
                    <span class="breadcrumb-separator">/</span>
                </li>
                <li class="breadcrumb-item">
                    <a href="/module5.html">Module 5</a>
                    <span class="breadcrumb-separator">/</span>
                </li>
                <li class="breadcrumb-item">
                    <span aria-current="page">Main Template Files</span>
                </li>
            </ol>
        </nav>
        
        <!-- Main Content -->
        <main id="main-content" class="main-content" role="main">
            <div class="container">
                <div class="content-with-sidebar">
                    <!-- Sidebar -->
                    <aside class="sidebar">
                        <div class="sidebar-nav">
                            <h3 class="sidebar-title">Module 5: Theme Development</h3>
                            <div class="sidebar-section">
                                <h4 class="sidebar-section-title">Session 2: Template Hierarchy</h4>
                                <ul class="sidebar-menu">
                                    <li><a class="sidebar-link" href="/05module/wordpress_template_hierarchy.html">Template Hierarchy in Depth</a></li>
                                    <li class="active"><a class="sidebar-link active" href="/05module/main_template_files.html">Main Template Files</a></li>
                                    <li><a class="sidebar-link" href="/05module/template_parts_includes.html">Template Parts & Includes</a></li>
                                    <li><a class="sidebar-link" href="/05module/get_template_part.html">get_template_part() Function</a></li>
                                    <li><a class="sidebar-link" href="/05module/homework_expand_theme.html">Homework: Expand Theme</a></li>
                                </ul>
                            </div>
                            <div class="sidebar-section">
                                <h4 class="sidebar-section-title">Quick Links</h4>
                                <ul class="sidebar-menu">
                                    <li><a class="sidebar-link" href="/module5.html">Module Overview</a></li>
                                    <li><a class="sidebar-link" href="/05module/wordpress_template_hierarchy.html">← Previous Lesson</a></li>
                                    <li><a class="sidebar-link next-session" href="/05module/the_loop_wordpress_content.html">Next: Session 3 →</a></li>
                                    <li><a class="sidebar-link" href="/">← Course Home</a></li>
                                    <li><a class="sidebar-link" href="/resources.html">Resources</a></li>
                                </ul>
                            </div>
                        </div>
                    </aside>
                    
                    <!-- Main Lesson Content -->
                    <article class="lesson-content">
                        <header class="lesson-header">
                            <h1>Main Template Files</h1>
                            <div class="lesson-meta">
                                <div class="lesson-meta-item">
                                    <svg width="20" height="20" fill="currentColor">
                                        <path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                    </svg>
                                    <span>Duration: 55 minutes</span>
                                </div>
                                <div class="lesson-meta-item">
                                    <svg width="20" height="20" fill="currentColor">
                                        <path d="M12 14l9-5-9-5-9 5 9 5z"/>
                                    </svg>
                                    <span>Module 5: Session 2</span>
                                </div>
                            </div>
                        </header>

                        <!-- Learning Objectives -->
                        <div class="lesson-objectives">
                            <h2>Learning Objectives</h2>
                            <ul>
                                <li>Master the core template files in WordPress themes</li>
                                <li>Understand the purpose and structure of each main template</li>
                                <li>Learn how to properly implement header.php and footer.php</li>
                                <li>Create effective sidebar.php templates</li>
                                <li>Build specialized templates for different content types</li>
                                <li>Implement proper WordPress hooks in templates</li>
                            </ul>
                        </div>
                        
                        <!-- Lesson Body -->
                        <div class="lesson-body">
                            <section>
                                <h2>Introduction</h2>
                                <p class="lead">Every WordPress theme is built from a collection of template files that work together like pieces of a puzzle. Each file has a specific role - think of them as specialized workers in a factory, each responsible for a particular part of the final product.</p>
                                
                                <div class="alert alert-info">
                                    <div class="alert-icon">🏗️</div>
                                    <div class="alert-content">
                                        <div class="alert-title">Building Blocks Analogy</div>
                                        <div class="alert-message">If your theme is a house, then header.php is the roof, footer.php is the foundation, sidebar.php is the supporting walls, and the content templates are the rooms where your visitors spend their time!</div>
                                    </div>
                                </div>
                            </section>

                            <section>
                                <h2>Template File Overview</h2>
                                <p>Let's visualize how template files come together to create a complete page:</p>
                                
                                <div class="template-layout">
                                    <div class="template-visual">
                                        <div class="template-section header">
                                            <span class="template-label">header.php</span>
                                            <h3>Site Header</h3>
                                            <p>Logo, Navigation, Search</p>
                                        </div>
                                        
                                        <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 1rem;">
                                            <div class="template-section content">
                                                <span class="template-label">index.php / single.php / page.php</span>
                                                <h3>Main Content Area</h3>
                                                <p>The Loop, Posts, Pages</p>
                                            </div>
                                            
                                            <div class="template-section sidebar">
                                                <span class="template-label">sidebar.php</span>
                                                <h3>Sidebar</h3>
                                                <p>Widgets, Menus</p>
                                            </div>
                                        </div>
                                        
                                        <div class="template-section footer">
                                            <span class="template-label">footer.php</span>
                                            <h3>Site Footer</h3>
                                            <p>Copyright, Links, Scripts</p>
                                        </div>
                                    </div>
                                </div>

                                <canvas id="templateCanvas" class="hook-visual"></canvas>
                                <script>
                                    const canvas = document.getElementById('templateCanvas');
                                    const ctx = canvas.getContext('2d');
                                    canvas.width = canvas.offsetWidth;
                                    canvas.height = 400;
                                    
                                    let animationFrame = 0;
                                    
                                    function drawTemplateFlow() {
                                        ctx.clearRect(0, 0, canvas.width, canvas.height);
                                        
                                        // Title
                                        ctx.fillStyle = '#1f2937';
                                        ctx.font = 'bold 18px Arial';
                                        ctx.textAlign = 'center';
                                        ctx.fillText('How WordPress Assembles a Page', canvas.width / 2, 30);
                                        
                                        // Template boxes
                                        const templates = [
                                            { name: 'get_header()', y: 80, color: '#667eea', width: 150 },
                                            { name: 'Main Content', y: 150, color: '#10b981', width: 150 },
                                            { name: 'get_sidebar()', y: 220, color: '#3b82f6', width: 150 },
                                            { name: 'get_footer()', y: 290, color: '#ec4899', width: 150 }
                                        ];
                                        
                                        const centerX = canvas.width / 2;
                                        
                                        templates.forEach((template, index) => {
                                            const progress = Math.min(1, Math.max(0, (animationFrame - index * 20) / 30));
                                            const x = centerX - template.width / 2;
                                            
                                            // Draw connection line
                                            if (index > 0 && progress > 0) {
                                                ctx.strokeStyle = '#e5e7eb';
                                                ctx.lineWidth = 2;
                                                ctx.beginPath();
                                                ctx.moveTo(centerX, templates[index - 1].y + 30);
                                                ctx.lineTo(centerX, template.y);
                                                ctx.stroke();
                                            }
                                            
                                            // Draw box with animation
                                            ctx.globalAlpha = progress;
                                            ctx.fillStyle = template.color;
                                            ctx.fillRect(x, template.y, template.width, 40);
                                            
                                            // Draw text
                                            ctx.fillStyle = '#fff';
                                            ctx.font = '14px Arial';
                                            ctx.textAlign = 'center';
                                            ctx.fillText(template.name, centerX, template.y + 25);
                                            ctx.globalAlpha = 1;
                                            
                                            // Draw file names on the right
                                            if (progress > 0.5) {
                                                ctx.fillStyle = '#6b7280';
                                                ctx.font = '12px Courier New';
                                                ctx.textAlign = 'left';
                                                
                                                let fileName = '';
                                                switch(template.name) {
                                                    case 'get_header()': fileName = '→ header.php'; break;
                                                    case 'Main Content': fileName = '→ index.php'; break;
                                                    case 'get_sidebar()': fileName = '→ sidebar.php'; break;
                                                    case 'get_footer()': fileName = '→ footer.php'; break;
                                                }
                                                
                                                ctx.fillText(fileName, x + template.width + 20, template.y + 25);
                                            }
                                        });
                                        
                                        // Final assembled page representation
                                        if (animationFrame > 100) {
                                            const pageX = 50;
                                            const pageY = 80;
                                            const pageWidth = 120;
                                            const pageHeight = 250;
                                            
                                            ctx.fillStyle = '#f3f4f6';
                                            ctx.fillRect(pageX, pageY, pageWidth, pageHeight);
                                            ctx.strokeStyle = '#e5e7eb';
                                            ctx.lineWidth = 2;
                                            ctx.strokeRect(pageX, pageY, pageWidth, pageHeight);
                                            
                                            // Page sections
                                            ctx.fillStyle = '#667eea';
                                            ctx.fillRect(pageX, pageY, pageWidth, 40);
                                            
                                            ctx.fillStyle = '#10b981';
                                            ctx.fillRect(pageX, pageY + 40, pageWidth * 0.7, 120);
                                            
                                            ctx.fillStyle = '#3b82f6';
                                            ctx.fillRect(pageX + pageWidth * 0.7, pageY + 40, pageWidth * 0.3, 120);
                                            
                                            ctx.fillStyle = '#ec4899';
                                            ctx.fillRect(pageX, pageY + 160, pageWidth, 90);
                                            
                                            ctx.fillStyle = '#1f2937';
                                            ctx.font = '12px Arial';
                                            ctx.textAlign = 'center';
                                            ctx.fillText('Final Page', pageX + pageWidth / 2, pageY + pageHeight + 20);
                                        }
                                        
                                        animationFrame++;
                                        if (animationFrame > 150) {
                                            animationFrame = 0;
                                        }
                                    }
                                    
                                    setInterval(drawTemplateFlow, 50);
                                </script>
                            </section>

                            <section>
                                <h2>The index.php File</h2>
                                <p>The index.php is the most important template file - it's the ultimate fallback that must exist in every theme:</p>
                                
                                <div class="file-card">
                                    <h3><span class="file-icon">📄</span> index.php <span class="required-badge">REQUIRED</span></h3>
                                    <p><strong>Purpose:</strong> The main template file and ultimate fallback for all content</p>
                                    <p><strong>Used for:</strong> Any content when no more specific template exists</p>
                                    <p><strong>Must include:</strong> The Loop, proper HTML structure</p>
                                </div>

                                <pre><code class="language-php">&lt;?php
/**
 * The main template file
 *
 * @package My_Theme
 */

get_header(); ?&gt;

&lt;div id="primary" class="content-area"&gt;
    &lt;main id="main" class="site-main"&gt;
        
        &lt;?php
        if ( have_posts() ) :
            
            // Check what type of content we're displaying
            if ( is_home() && ! is_front_page() ) :
                ?&gt;
                &lt;header&gt;
                    &lt;h1 class="page-title screen-reader-text"&gt;
                        &lt;?php single_post_title(); ?&gt;
                    &lt;/h1&gt;
                &lt;/header&gt;
                &lt;?php
            endif;
            
            // Start the Loop
            while ( have_posts() ) :
                the_post();
                
                /*
                 * Include the Post-Type-specific template for the content.
                 * If you want to override this in a child theme, then include a file
                 * called content-___.php (where ___ is the Post Type name) and that
                 * will be used instead.
                 */
                get_template_part( 'template-parts/content', get_post_type() );
                
            endwhile;
            
            // Navigation
            the_posts_navigation();
            
        else :
            
            // No content found
            get_template_part( 'template-parts/content', 'none' );
            
        endif;
        ?&gt;
        
    &lt;/main&gt;
&lt;/div&gt;

&lt;?php
get_sidebar();
get_footer();</code></pre>
                            </section>

                            <section>
                                <h2>The header.php File</h2>
                                <p>The header.php contains everything from the DOCTYPE to the opening of your main content area:</p>
                                
                                <div class="template-anatomy">
                                    <h3>Anatomy of header.php</h3>
                                    
                                    <div class="anatomy-section">
                                        <h4>1. DOCTYPE and Opening Tags</h4>
                                        <p>HTML5 DOCTYPE, language attributes, and opening html/head tags</p>
                                    </div>
                                    
                                    <div class="anatomy-section">
                                        <h4>2. Head Section</h4>
                                        <p>Meta tags, title, stylesheets (via wp_head())</p>
                                    </div>
                                    
                                    <div class="anatomy-section">
                                        <h4>3. Body Opening</h4>
                                        <p>Body tag with body_class(), site header, navigation</p>
                                    </div>
                                    
                                    <div class="anatomy-section">
                                        <h4>4. wp_body_open()</h4>
                                        <p>Hook for plugins/themes to inject code after body tag</p>
                                    </div>
                                </div>

                                <pre><code class="language-php">&lt;?php
/**
 * The header for our theme
 *
 * @package My_Theme
 */
?&gt;
&lt;!DOCTYPE html&gt;
&lt;html &lt;?php language_attributes(); ?&gt;&gt;
&lt;head&gt;
    &lt;meta charset="&lt;?php bloginfo( 'charset' ); ?&gt;"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
    &lt;link rel="profile" href="https://gmpg.org/xfn/11"&gt;
    
    &lt;?php wp_head(); ?&gt;
&lt;/head&gt;

&lt;body &lt;?php body_class(); ?&gt;&gt;
&lt;?php wp_body_open(); ?&gt;
&lt;div id="page" class="site"&gt;
    &lt;a class="skip-link screen-reader-text" href="#primary"&gt;
        &lt;?php esc_html_e( 'Skip to content', 'my-theme' ); ?&gt;
    &lt;/a&gt;

    &lt;header id="masthead" class="site-header"&gt;
        &lt;div class="site-branding"&gt;
            &lt;?php
            the_custom_logo();
            if ( is_front_page() && is_home() ) :
                ?&gt;
                &lt;h1 class="site-title"&gt;
                    &lt;a href="&lt;?php echo esc_url( home_url( '/' ) ); ?&gt;" rel="home"&gt;
                        &lt;?php bloginfo( 'name' ); ?&gt;
                    &lt;/a&gt;
                &lt;/h1&gt;
                &lt;?php
            else :
                ?&gt;
                &lt;p class="site-title"&gt;
                    &lt;a href="&lt;?php echo esc_url( home_url( '/' ) ); ?&gt;" rel="home"&gt;
                        &lt;?php bloginfo( 'name' ); ?&gt;
                    &lt;/a&gt;
                &lt;/p&gt;
                &lt;?php
            endif;
            
            $description = get_bloginfo( 'description', 'display' );
            if ( $description || is_customize_preview() ) :
                ?&gt;
                &lt;p class="site-description"&gt;
                    &lt;?php echo $description; // phpcs:ignore WordPress.Security.EscapeOutput.OutputNotEscaped ?&gt;
                &lt;/p&gt;
            &lt;?php endif; ?&gt;
        &lt;/div&gt;

        &lt;nav id="site-navigation" class="main-navigation"&gt;
            &lt;button class="menu-toggle" aria-controls="primary-menu" aria-expanded="false"&gt;
                &lt;?php esc_html_e( 'Primary Menu', 'my-theme' ); ?&gt;
            &lt;/button&gt;
            &lt;?php
            wp_nav_menu(
                array(
                    'theme_location' =&gt; 'menu-1',
                    'menu_id'        =&gt; 'primary-menu',
                )
            );
            ?&gt;
        &lt;/nav&gt;
    &lt;/header&gt;

    &lt;div id="content" class="site-content"&gt;</code></pre>

                                <div class="function-card">
                                    <h4>🔑 Critical Functions in header.php</h4>
                                    <ul>
                                        <li><code>language_attributes()</code> - Outputs language attributes for the html tag</li>
                                        <li><code>bloginfo( 'charset' )</code> - Gets the site's character encoding</li>
                                        <li><code>wp_head()</code> - Essential hook for styles, scripts, and meta tags</li>
                                        <li><code>body_class()</code> - Adds contextual classes to the body tag</li>
                                        <li><code>wp_body_open()</code> - Hook right after opening body tag (WP 5.2+)</li>
                                    </ul>
                                </div>
                            </section>

                            <section>
                                <h2>The footer.php File</h2>
                                <p>The footer.php closes all the tags opened in header.php and adds footer content:</p>
                                
                                <pre><code class="language-php">&lt;?php
/**
 * The template for displaying the footer
 *
 * @package My_Theme
 */
?&gt;

    &lt;/div&gt;&lt;!-- #content --&gt;

    &lt;footer id="colophon" class="site-footer"&gt;
        &lt;div class="site-info"&gt;
            &lt;a href="&lt;?php echo esc_url( __( 'https://wordpress.org/', 'my-theme' ) ); ?&gt;"&gt;
                &lt;?php
                /* translators: %s: CMS name, i.e. WordPress. */
                printf( esc_html__( 'Proudly powered by %s', 'my-theme' ), 'WordPress' );
                ?&gt;
            &lt;/a&gt;
            &lt;span class="sep"&gt; | &lt;/span&gt;
            &lt;?php
            /* translators: 1: Theme name, 2: Theme author. */
            printf( esc_html__( 'Theme: %1$s by %2$s.', 'my-theme' ), 'my-theme', '&lt;a href="https://example.com"&gt;Your Name&lt;/a&gt;' );
            ?&gt;
        &lt;/div&gt;

        &lt;?php if ( has_nav_menu( 'footer' ) ) : ?&gt;
            &lt;nav class="footer-navigation" aria-label="&lt;?php esc_attr_e( 'Footer Menu', 'my-theme' ); ?&gt;"&gt;
                &lt;?php
                wp_nav_menu(
                    array(
                        'theme_location' =&gt; 'footer',
                        'menu_class'     =&gt; 'footer-menu',
                        'depth'          =&gt; 1,
                    )
                );
                ?&gt;
            &lt;/nav&gt;
        &lt;?php endif; ?&gt;
    &lt;/footer&gt;

&lt;/div&gt;&lt;!-- #page --&gt;

&lt;?php wp_footer(); ?&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>

                                <div class="alert alert-warning">
                                    <div class="alert-icon">⚠️</div>
                                    <div class="alert-content">
                                        <div class="alert-title">Never Forget wp_footer()</div>
                                        <div class="alert-message">The wp_footer() function is crucial! It's where WordPress and plugins output scripts and other necessary code. Without it, many features won't work properly.</div>
                                    </div>
                                </div>
                            </section>

                            <section>
                                <h2>The sidebar.php File</h2>
                                <p>Sidebars are widget-ready areas that typically appear alongside your main content:</p>
                                
                                <div class="code-comparison">
                                    <div class="code-block">
                                        <h4>sidebar.php</h4>
                                        <pre><code class="language-php">&lt;?php
/**
 * The sidebar containing the main widget area
 *
 * @package My_Theme
 */

if ( ! is_active_sidebar( 'sidebar-1' ) ) {
    return;
}
?&gt;

&lt;aside id="secondary" class="widget-area"&gt;
    &lt;?php dynamic_sidebar( 'sidebar-1' ); ?&gt;
&lt;/aside&gt;</code></pre>
                                    </div>
                                    
                                    <div class="code-block">
                                        <h4>Registering in functions.php</h4>
                                        <pre><code class="language-php">function my_theme_widgets_init() {
    register_sidebar( array(
        'name'          =&gt; __( 'Sidebar', 'my-theme' ),
        'id'            =&gt; 'sidebar-1',
        'description'   =&gt; __( 'Add widgets here.', 'my-theme' ),
        'before_widget' =&gt; '&lt;section id="%1$s" class="widget %2$s"&gt;',
        'after_widget'  =&gt; '&lt;/section&gt;',
        'before_title'  =&gt; '&lt;h2 class="widget-title"&gt;',
        'after_title'   =&gt; '&lt;/h2&gt;',
    ) );
}
add_action( 'widgets_init', 'my_theme_widgets_init' );</code></pre>
                                    </div>
                                </div>

                                <div class="template-includes">
                                    <h3>Multiple Sidebars</h3>
                                    <p>You can create different sidebars for different sections:</p>
                                    <div class="include-grid">
                                        <div class="include-item">
                                            <strong>sidebar.php</strong><br>
                                            <small>Default sidebar</small>
                                        </div>
                                        <div class="include-item">
                                            <strong>sidebar-shop.php</strong><br>
                                            <small>Shop pages sidebar</small>
                                        </div>
                                        <div class="include-item">
                                            <strong>sidebar-blog.php</strong><br>
                                            <small>Blog sidebar</small>
                                        </div>
                                        <div class="include-item">
                                            <strong>sidebar-footer.php</strong><br>
                                            <small>Footer widgets</small>
                                        </div>
                                    </div>
                                </div>

                                <pre><code class="language-php">&lt;?php
// Call specific sidebars
get_sidebar();           // Loads sidebar.php
get_sidebar( 'shop' );   // Loads sidebar-shop.php
get_sidebar( 'blog' );   // Loads sidebar-blog.php
get_sidebar( 'footer' ); // Loads sidebar-footer.php</code></pre>
                            </section>

                            <section>
                                <h2>Content Template Files</h2>
                                <p>These templates handle specific types of content:</p>
                                
                                <div class="file-structure-grid">
                                    <div class="file-card">
                                        <h3><span class="file-icon">📝</span> single.php</h3>
                                        <p><strong>Purpose:</strong> Display individual blog posts</p>
                                        <p><strong>Features:</strong> Full content, comments, metadata</p>
                                        <pre><code class="language-php">&lt;?php
get_header(); ?&gt;

&lt;main id="primary"&gt;
    &lt;?php
    while ( have_posts() ) :
        the_post();
        
        get_template_part( 'template-parts/content', 'single' );
        
        the_post_navigation();
        
        // If comments are open or we have at least one comment
        if ( comments_open() || get_comments_number() ) :
            comments_template();
        endif;
        
    endwhile;
    ?&gt;
&lt;/main&gt;

&lt;?php
get_sidebar();
get_footer();</code></pre>
                                    </div>

                                    <div class="file-card">
                                        <h3><span class="file-icon">📄</span> page.php</h3>
                                        <p><strong>Purpose:</strong> Display static pages</p>
                                        <p><strong>Features:</strong> Page content, optional comments</p>
                                        <pre><code class="language-php">&lt;?php
get_header(); ?&gt;

&lt;main id="primary"&gt;
    &lt;?php
    while ( have_posts() ) :
        the_post();
        
        get_template_part( 'template-parts/content', 'page' );
        
        // If comments are open or we have at least one comment
        if ( comments_open() || get_comments_number() ) :
            comments_template();
        endif;
        
    endwhile;
    ?&gt;
&lt;/main&gt;

&lt;?php
get_sidebar();
get_footer();</code></pre>
                                    </div>

                                    <div class="file-card">
                                        <h3><span class="file-icon">📚</span> archive.php</h3>
                                        <p><strong>Purpose:</strong> Display post archives</p>
                                        <p><strong>Features:</strong> Archive title, post list</p>
                                        <pre><code class="language-php">&lt;?php
get_header(); ?&gt;

&lt;main id="primary"&gt;
    &lt;?php if ( have_posts() ) : ?&gt;
        
        &lt;header class="page-header"&gt;
            &lt;?php
            the_archive_title( '&lt;h1 class="page-title"&gt;', '&lt;/h1&gt;' );
            the_archive_description( '&lt;div class="archive-description"&gt;', '&lt;/div&gt;' );
            ?&gt;
        &lt;/header&gt;
        
        &lt;?php
        while ( have_posts() ) :
            the_post();
            get_template_part( 'template-parts/content', get_post_type() );
        endwhile;
        
        the_posts_navigation();
        
    else :
        get_template_part( 'template-parts/content', 'none' );
    endif;
    ?&gt;
&lt;/main&gt;

&lt;?php
get_sidebar();
get_footer();</code></pre>
                                    </div>

                                    <div class="file-card">
                                        <h3><span class="file-icon">🔍</span> search.php</h3>
                                        <p><strong>Purpose:</strong> Display search results</p>
                                        <p><strong>Features:</strong> Search query, results list</p>
                                        <pre><code class="language-php">&lt;?php
get_header(); ?&gt;

&lt;main id="primary"&gt;
    &lt;?php if ( have_posts() ) : ?&gt;
        
        &lt;header class="page-header"&gt;
            &lt;h1 class="page-title"&gt;
                &lt;?php
                printf( esc_html__( 'Search Results for: %s', 'my-theme' ), 
                    '&lt;span&gt;' . get_search_query() . '&lt;/span&gt;' );
                ?&gt;
            &lt;/h1&gt;
        &lt;/header&gt;
        
        &lt;?php
        while ( have_posts() ) :
            the_post();
            get_template_part( 'template-parts/content', 'search' );
        endwhile;
        
        the_posts_navigation();
        
    else :
        get_template_part( 'template-parts/content', 'none' );
    endif;
    ?&gt;
&lt;/main&gt;

&lt;?php
get_sidebar();
get_footer();</code></pre>
                                    </div>

                                    <div class="file-card">
                                        <h3><span class="file-icon">❌</span> 404.php</h3>
                                        <p><strong>Purpose:</strong> Display 404 error page</p>
                                        <p><strong>Features:</strong> Error message, search form</p>
                                        <pre><code class="language-php">&lt;?php
get_header(); ?&gt;

&lt;main id="primary"&gt;
    &lt;section class="error-404 not-found"&gt;
        &lt;header class="page-header"&gt;
            &lt;h1 class="page-title"&gt;
                &lt;?php esc_html_e( 'Oops! That page can&rsquo;t be found.', 'my-theme' ); ?&gt;
            &lt;/h1&gt;
        &lt;/header&gt;
        
        &lt;div class="page-content"&gt;
            &lt;p&gt;&lt;?php esc_html_e( 'It looks like nothing was found at this location. Maybe try a search?', 'my-theme' ); ?&gt;&lt;/p&gt;
            
            &lt;?php get_search_form(); ?&gt;
            
            &lt;?php the_widget( 'WP_Widget_Recent_Posts' ); ?&gt;
        &lt;/div&gt;
    &lt;/section&gt;
&lt;/main&gt;

&lt;?php
get_footer();</code></pre>
                                    </div>

                                    <div class="file-card">
                                        <h3><span class="file-icon">💬</span> comments.php</h3>
                                        <p><strong>Purpose:</strong> Display comments section</p>
                                        <p><strong>Features:</strong> Comment list, comment form</p>
                                        <pre><code class="language-php">&lt;?php
/**
 * The template for displaying comments
 */

// If the current post is protected by a password and
// the visitor has not yet entered the password, return early
if ( post_password_required() ) {
    return;
}
?&gt;

&lt;div id="comments" class="comments-area"&gt;
    
    &lt;?php if ( have_comments() ) : ?&gt;
        &lt;h2 class="comments-title"&gt;
            &lt;?php
            $comment_count = get_comments_number();
            if ( '1' === $comment_count ) {
                printf( esc_html__( 'One thought on &ldquo;%1$s&rdquo;', 'my-theme' ), 
                    '&lt;span&gt;' . wp_kses_post( get_the_title() ) . '&lt;/span&gt;' );
            } else {
                printf( 
                    esc_html( _nx( '%1$s thought on &ldquo;%2$s&rdquo;', '%1$s thoughts on &ldquo;%2$s&rdquo;', $comment_count, 'comments title', 'my-theme' ) ),
                    number_format_i18n( $comment_count ),
                    '&lt;span&gt;' . wp_kses_post( get_the_title() ) . '&lt;/span&gt;'
                );
            }
            ?&gt;
        &lt;/h2&gt;
        
        &lt;ol class="comment-list"&gt;
            &lt;?php
            wp_list_comments( array(
                'style'      =&gt; 'ol',
                'short_ping' =&gt; true,
            ) );
            ?&gt;
        &lt;/ol&gt;
        
        &lt;?php
        the_comments_navigation();
        
    endif; // Check for have_comments()
    
    // If comments are closed and there are comments
    if ( ! comments_open() ) :
        ?&gt;
        &lt;p class="no-comments"&gt;
            &lt;?php esc_html_e( 'Comments are closed.', 'my-theme' ); ?&gt;
        &lt;/p&gt;
        &lt;?php
    endif;
    
    comment_form();
    ?&gt;
    
&lt;/div&gt;</code></pre>
                                    </div>
                                </div>
                            </section>

                            <section>
                                <h2>Template File Flow</h2>
                                <p>Understanding how these files work together is crucial:</p>
                                
                                <div class="template-flow">
                                    <h3>Typical Page Load Sequence</h3>
                                    <div class="flow-diagram">
                                        <div class="flow-step">
                                            <strong>1. WordPress Core</strong><br>
                                            <small>Determines template</small>
                                        </div>
                                        <div class="flow-step">
                                            <strong>2. Template File</strong><br>
                                            <small>e.g., single.php</small>
                                        </div>
                                        <div class="flow-step">
                                            <strong>3. get_header()</strong><br>
                                            <small>Loads header.php</small>
                                        </div>
                                        <div class="flow-step">
                                            <strong>4. The Loop</strong><br>
                                            <small>Content output</small>
                                        </div>
                                        <div class="flow-step">
                                            <strong>5. get_sidebar()</strong><br>
                                            <small>Loads sidebar.php</small>
                                        </div>
                                        <div class="flow-step">
                                            <strong>6. get_footer()</strong><br>
                                            <small>Loads footer.php</small>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <div class="best_practice">
                                <h3>Template Files Best Practices</h3>
                                <ul>
                                    <li><strong>Always include wp_head() and wp_footer():</strong> These are essential hooks</li>
                                    <li><strong>Check if sidebars are active:</strong> Don't output empty sidebar containers</li>
                                    <li><strong>Use proper escaping:</strong> esc_html(), esc_url(), esc_attr() for security</li>
                                    <li><strong>Make templates translation-ready:</strong> Use __() and _e() functions</li>
                                    <li><strong>Include skip links:</strong> For accessibility, add "Skip to content" links</li>
                                    <li><strong>Use semantic HTML5:</strong> header, nav, main, aside, footer tags</li>
                                    <li><strong>Keep templates DRY:</strong> Use get_template_part() for reusable sections</li>
                                    <li><strong>Comment your code:</strong> Explain complex logic for future reference</li>
                                </ul>
                            </div>

                            <!-- Practice Exercise -->
                            <section>
                                <h2>Practice Exercise</h2>
                                <p>Let's build a complete set of main template files:</p>
                                
                                <div class="alert alert-success">
                                    <div class="alert-icon">💻</div>
                                    <div class="alert-content">
                                        <div class="alert-title">Template Building Challenge</div>
                                        <div class="alert-message">
                                            <ol>
                                                <li>Create a proper header.php with navigation menu support</li>
                                                <li>Build a footer.php with widget area and copyright info</li>
                                                <li>Create sidebar.php with widget area check</li>
                                                <li>Build single.php for blog posts with comments</li>
                                                <li>Create page.php for static pages</li>
                                                <li>Add archive.php with proper archive titles</li>
                                                <li>Create a custom 404.php with helpful content</li>
                                                <li>Test all templates with different content types</li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            
                            <!-- Resources -->
                            <section class="resources">
                                <h2>Additional Resources</h2>
                                <ul>
                                    <li><a href="https://developer.wordpress.org/themes/basics/template-files/" target="_blank">WordPress Template Files Documentation</a></li>
                                    <li><a href="https://developer.wordpress.org/themes/basics/linking-theme-files-directories/" target="_blank">Linking Theme Files & Directories</a></li>
                                    <li><a href="https://codex.wordpress.org/Theme_Development" target="_blank">Theme Development Codex</a></li>
                                    <li><a href="https://developer.wordpress.org/themes/functionality/sidebars/" target="_blank">Sidebars Documentation</a></li>
                                    <li><a href="https://www.smashingmagazine.com/2014/02/wordpress-theme-structure/" target="_blank">WordPress Theme Structure Guide</a></li>
                                </ul>
                            </section>
                        </div>

                        <!-- Lesson Navigation -->
                        <div class="lesson-navigation">
                            <a href="/05module/wordpress_template_hierarchy.html" class="lesson-nav-button prev">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z"/>
                                </svg>
                                <span>
                                    <small>Previous</small><br>
                                    Template Hierarchy
                                </span>
                            </a>
                            
                            <button class="complete-lesson-btn">
                                Mark as Complete
                            </button>
                            
                            <a href="/05module/template_parts_includes.html" class="lesson-nav-button next">
                                <span>
                                    <small>Next</small><br>
                                    Template Parts & Includes
                                </span>
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"/>
                                </svg>
                            </a>
                        </div>
                    </article>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="site-footer" role="contentinfo">
            <div class="footer-container">
                <div class="footer-content">
                    <div class="footer-section footer-about">
                        <h3>PHP WordPress Development</h3>
                        <p>Complete Web Development Course</p>
                    </div>
                    
                    <div class="footer-section">
                        <h4>Quick Links</h4>
                        <ul class="footer-links">
                            <li><a href="/">Home</a></li>
                            <li><a href="/module5.html">Module 5</a></li>
                            <li><a href="/resources.html">Resources</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-section">
                        <h4>Support</h4>
                        <ul class="footer-links">
                            <li><a href="/help.html">Help Center</a></li>
                            <li><a href="/faq.html">FAQ</a></li>
                            <li><a href="/contact.html">Contact</a></li>
                        </ul>
                    </div>
                </div>
                
                <div class="footer-bottom">
                    <div class="footer-bottom-content">
                        <p class="copyright">© 2025 PHP WordPress Development Course</p>
                        <nav class="footer-bottom-links">
                            <a href="/privacy.html">Privacy</a>
                            <span class="separator">|</span>
                            <a href="/terms.html">Terms</a>
                        </nav>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Back to Top -->
    <button id="back-to-top" class="back-to-top" aria-label="Back to top">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 19V5M12 5l-7 7M12 5l7 7"/>
        </svg>
    </button>

    <!-- JavaScript -->
    <script src="/assets/js/navigation.js"></script>
    <script src="/assets/js/site-config.js"></script>
    <script src="/assets/js/sidebar-toggle.js"></script>
    
    <!-- Universal Mermaid Fix -->
    <script src="/assets/js/mermaid-universal-fix.js"></script>
</body>
</html>