<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Template Tags Part 3: Advanced Usage - PHP WordPress Course</title>
    <meta name="description" content="Master WordPress template tags - Part 3: Custom fields, conditional tags, and advanced patterns">
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/sidebar-enhanced.css">
    
    <style>
        .tags-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 3rem 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            text-align: center;
        }
        .meta-functions {
            background: #dcfce7;
            border: 2px solid #22c55e;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
        }
        .meta-functions h3 {
            color: #166534;
            margin-top: 0;
        }
        .conditional-tags {
            background: #fee2e2;
            border: 2px solid #ef4444;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
        }
        .conditional-tags h3 {
            color: #991b1b;
            margin-top: 0;
        }
        .tag-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }
        .tag-card {
            background: #f8f9fa;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 1.5rem;
        }
        .tag-signature {
            background: #1e293b;
            color: #e2e8f0;
            padding: 0.75rem;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.9rem;
            margin: 0.5rem 0;
        }
        .tag-example {
            background: #f3f4f6;
            border-left: 4px solid #667eea;
            padding: 1rem;
            margin: 1rem 0;
            font-family: monospace;
            font-size: 0.9rem;
        }
        .part-navigation {
            background: #f8f9fa;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
            text-align: center;
        }
        .part-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }
        .part-link {
            padding: 0.75rem 1.5rem;
            background: white;
            border: 2px solid #667eea;
            border-radius: 6px;
            text-decoration: none;
            color: #667eea;
            font-weight: bold;
        }
        .part-link.active {
            background: #667eea;
            color: white;
        }
    </style>
</head>
<body>
    <div class="page-wrapper">
        <header class="site-header">
            <div class="header-container">
                <div class="site-branding">
                    <a href="/" class="site-logo">
                        <h1 class="site-title">PHP WordPress Development</h1>
                    </a>
                </div>
            </div>
        </header>
        
        <nav class="breadcrumb container">
            <ol class="breadcrumb-list">
                <li class="breadcrumb-item"><a href="/">Home</a> /</li>
                <li class="breadcrumb-item"><a href="/module5.html">Module 5</a> /</li>
                <li class="breadcrumb-item">Template Tags Part 3</li>
            </ol>
        </nav>
        
        <main class="main-content">
            <div class="container">
                <div class="content-with-sidebar">
                    <aside class="sidebar">
                        <div class="sidebar-nav">
                            <h3 class="sidebar-title">Module 5: Theme Development</h3>
                            <div class="sidebar-section">
                                <h4 class="sidebar-section-title">Session 3: The Loop & Content Display</h4>
                                <ul class="sidebar-menu">
                                    <li><a class="sidebar-link" href="/05module/the_loop_wordpress_content.html">Understanding The Loop</a></li>
                                    <li><a class="sidebar-link" href="/05module/template_tags_part1.html">Template Tags Part 1</a></li>
                                    <li><a class="sidebar-link" href="/05module/template_tags_part2.html">Template Tags Part 2</a></li>
                                    <li class="active"><a class="sidebar-link active" href="/05module/template_tags_part3.html">Template Tags Part 3</a></li>
                                    <li><a class="sidebar-link" href="/05module/custom_queries_wp_query.html">Custom Queries</a></li>
                                    <li><a class="sidebar-link" href="/05module/pagination_navigation.html">Pagination</a></li>
                                    <li><a class="sidebar-link" href="/05module/homework_blog_listing.html">Homework</a></li>
                                </ul>
                            </div>
                        </div>
                    </aside>
                    
                    <article class="lesson-content">
                        <div class="tags-header">
                            <h1>üìù Template Tags Part 3: Advanced Usage</h1>
                            <p class="lead">Custom fields, conditional tags, and best practices</p>
                        </div>

                        <div class="part-navigation">
                            <h3>This lesson is divided into 3 parts:</h3>
                            <div class="part-links">
                                <a href="/05module/template_tags_part1.html" class="part-link">Part 1: Core Functions</a>
                                <a href="/05module/template_tags_part2.html" class="part-link">Part 2: Meta & Taxonomy</a>
                                <a href="/05module/template_tags_part3.html" class="part-link active">Part 3: Advanced Usage</a>
                            </div>
                        </div>

                        <div class="lesson-objectives">
                            <h2>Part 3 Learning Objectives</h2>
                            <ul>
                                <li>Work with custom fields and post metadata</li>
                                <li>Master conditional tags</li>
                                <li>Learn proper data escaping</li>
                                <li>Create custom template functions</li>
                            </ul>
                        </div>
                        
                        <div class="lesson-body">
                            <section>
                                <div class="meta-functions">
                                    <h3>üîß Custom Fields and Metadata</h3>
                                    
                                    <div class="tag-grid">
                                        <div class="tag-card">
                                            <h4>get_post_meta()</h4>
                                            <div class="tag-signature">get_post_meta( $post_id, $key, $single )</div>
                                            <p>Retrieves custom field values.</p>
                                            <div class="tag-example">
&lt;?php 
$custom_value = get_post_meta(
    get_the_ID(), 
    '_custom_field_key', 
    true
);
if ( $custom_value ) {
    echo esc_html( $custom_value );
}
?&gt;
                                            </div>
                                        </div>

                                        <div class="tag-card">
                                            <h4>update_post_meta()</h4>
                                            <div class="tag-signature">update_post_meta( $post_id, $meta_key, $meta_value )</div>
                                            <p>Updates or creates custom field.</p>
                                            <div class="tag-example">
&lt;?php 
$views = get_post_meta(get_the_ID(), '_view_count', true);
update_post_meta(get_the_ID(), '_view_count', $views + 1);
?&gt;
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <section>
                                <div class="conditional-tags">
                                    <h3>‚ùì Conditional Tags</h3>
                                    
                                    <div class="tag-grid">
                                        <div class="tag-card">
                                            <h4>has_post_thumbnail()</h4>
                                            <div class="tag-signature">has_post_thumbnail( $post )</div>
                                            <p>Checks if post has featured image.</p>
                                            <div class="tag-example">
&lt;?php 
if ( has_post_thumbnail() ) {
    the_post_thumbnail();
} else {
    echo '&lt;img src="default.jpg"&gt;';
}
?&gt;
                                            </div>
                                        </div>

                                        <div class="tag-card">
                                            <h4>has_excerpt()</h4>
                                            <div class="tag-signature">has_excerpt( $post )</div>
                                            <p>Checks if post has manual excerpt.</p>
                                            <div class="tag-example">
&lt;?php 
if ( has_excerpt() ) {
    the_excerpt();
} else {
    echo wp_trim_words(get_the_content(), 30);
}
?&gt;
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <section>
                                <h2>Data Escaping Best Practices</h2>
                                <pre><code class="language-php">// Escape HTML
&lt;h1&gt;&lt;?php echo esc_html( get_the_title() ); ?&gt;&lt;/h1&gt;

// Escape URLs
&lt;a href="&lt;?php echo esc_url( get_permalink() ); ?&gt;"&gt;Link&lt;/a&gt;

// Escape attributes
&lt;input value="&lt;?php echo esc_attr( $value ); ?&gt;"&gt;

// Escape JavaScript
&lt;script&gt;
var title = '&lt;?php echo esc_js( get_the_title() ); ?&gt;';
&lt;/script&gt;</code></pre>
                            </section>

                            <section>
                                <h2>Creating Custom Template Functions</h2>
                                <pre><code class="language-php">// Custom post metadata function
function my_theme_post_meta() {
    $output = '&lt;div class="post-meta"&gt;';
    $output .= '&lt;span&gt;By ' . get_the_author() . '&lt;/span&gt;';
    $output .= '&lt;span&gt;' . get_the_date() . '&lt;/span&gt;';
    
    $categories = get_the_category();
    if ( ! empty($categories) ) {
        foreach($categories as $cat) {
            $output .= '&lt;a href="' . get_category_link($cat->term_id) . '"&gt;';
            $output .= $cat->name . '&lt;/a&gt; ';
        }
    }
    
    $output .= '&lt;/div&gt;';
    echo $output;
}

// Reading time calculator
function my_theme_reading_time() {
    $content = get_the_content();
    $word_count = str_word_count(strip_tags($content));
    $reading_time = ceil($word_count / 200);
    echo $reading_time . ' min read';
}</code></pre>
                            </section>

                            <section>
                                <h2>Complete Template Example</h2>
                                <pre><code class="language-php">&lt;article &lt;?php post_class(); ?&gt;&gt;
    &lt;?php if ( has_post_thumbnail() ) : ?&gt;
        &lt;div class="featured-image"&gt;
            &lt;?php the_post_thumbnail('large'); ?&gt;
        &lt;/div&gt;
    &lt;?php endif; ?&gt;
    
    &lt;header&gt;
        &lt;?php the_title('&lt;h1&gt;', '&lt;/h1&gt;'); ?&gt;
        &lt;div class="meta"&gt;
            &lt;?php the_author_posts_link(); ?&gt;
            &lt;?php echo get_the_date(); ?&gt;
            &lt;?php the_category(', '); ?&gt;
        &lt;/div&gt;
    &lt;/header&gt;
    
    &lt;div class="entry-content"&gt;
        &lt;?php the_content(); ?&gt;
    &lt;/div&gt;
    
    &lt;footer&gt;
        &lt;?php the_tags('Tags: ', ', ', ''); ?&gt;
    &lt;/footer&gt;
&lt;/article&gt;</code></pre>
                            </section>

                            <section>
                                <h2>Best Practices Summary</h2>
                                <ul>
                                    <li>Always escape output with appropriate functions</li>
                                    <li>Use conditional tags to check before displaying</li>
                                    <li>Cache expensive operations in variables</li>
                                    <li>Use get_ functions when manipulating data</li>
                                    <li>Provide fallbacks for missing data</li>
                                    <li>Internationalize all text strings</li>
                                </ul>
                            </section>

                            <section class="resources">
                                <h2>Resources</h2>
                                <ul>
                                    <li><a href="https://developer.wordpress.org/themes/references/list-of-template-tags/" target="_blank">Complete Template Tags List</a></li>
                                    <li><a href="https://developer.wordpress.org/apis/security/escaping/" target="_blank">Data Escaping Guide</a></li>
                                    <li><a href="https://developer.wordpress.org/reference/functions/get_post_meta/" target="_blank">Custom Fields Reference</a></li>
                                </ul>
                            </section>
                        </div>

                        <div class="lesson-navigation">
                            <a href="/05module/template_tags_part2.html" class="lesson-nav-button prev">
                                ‚Üê Template Tags Part 2
                            </a>
                            <button class="complete-lesson-btn">Mark as Complete</button>
                            <a href="/05module/custom_queries_wp_query.html" class="lesson-nav-button next">
                                Custom Queries ‚Üí
                            </a>
                        </div>
                    </article>
                </div>
            </div>
        </main>

        <footer class="site-footer">
            <div class="footer-container">
                <p>&copy; 2024 PHP WordPress Course. All rights reserved.</p>
            </div>
        </footer>
    </div>
    
    <script src="/assets/js/main.js"></script>
</body>
</html>