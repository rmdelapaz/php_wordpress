<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <!-- SEO Meta Tags -->
    <title>Walker Classes for Custom Menu Output - WordPress Theme Development - PHP WordPress Course</title>
    <meta name="description" content="Learn how to create custom Walker classes for WordPress menus. Master Walker_Nav_Menu, customize menu output, and build advanced navigation structures.">
    <meta name="keywords" content="PHP, WordPress, Walker class, Walker_Nav_Menu, custom menu output, navigation customization">
    <meta name="author" content="PHP WordPress Course">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="apple-touch-icon" href="/favicon.png">
    
    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/sidebar-enhanced.css">
    <link rel="stylesheet" href="/assets/css/sidebar-toggle.css">
    
    <!-- Custom styles for walker classes lesson -->
    <style>
        .walker-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 3rem 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            text-align: center;
        }

        .walker-structure {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .walker-structure h3 {
            color: #667eea;
            margin-top: 0;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 1rem;
        }

        .code-example {
            background: #1e293b;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
        }

        .code-example h4 {
            color: #a5b4fc;
            margin-top: 0;
            border-bottom: 1px solid #475569;
            padding-bottom: 0.5rem;
        }

        .methods-table {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
            margin: 2rem 0;
        }

        .methods-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .methods-table th {
            background: #f3f4f6;
            padding: 1rem;
            text-align: left;
            font-weight: bold;
            border-bottom: 2px solid #e5e7eb;
        }

        .methods-table td {
            padding: 1rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .methods-table code {
            background: #f3f4f6;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-size: 0.875rem;
            color: #667eea;
        }

        .walker-examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .walker-example-card {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border: 2px solid #0ea5e9;
            border-radius: 8px;
            padding: 1.5rem;
        }

        .walker-example-card h4 {
            color: #0369a1;
            margin-top: 0;
        }

        .method-flow {
            background: white;
            border: 2px solid #667eea;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .method-flow h3 {
            color: #667eea;
            margin-top: 0;
        }

        .flow-diagram {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 2rem 0;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .flow-step {
            background: #f8f9fa;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 1rem;
            flex: 1;
            min-width: 150px;
            text-align: center;
        }

        .flow-arrow {
            color: #667eea;
            font-size: 1.5rem;
        }

        .menu-output-demo {
            background: #f8f9fa;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .menu-output-demo h4 {
            color: #667eea;
            margin-top: 0;
        }

        .custom-menu-preview {
            background: white;
            border: 2px solid #667eea;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .best-practice {
            background: #f0f9ff;
            border-left: 4px solid #0ea5e9;
            padding: 1rem 1.5rem;
            margin: 1.5rem 0;
        }

        .best-practice h4 {
            color: #0369a1;
            margin-top: 0;
        }

        .warning-box {
            background: #fef3c7;
            border: 2px solid #fbbf24;
            border-radius: 8px;
            padding: 1rem;
            margin: 1.5rem 0;
        }

        .warning-box::before {
            content: "⚠️ Warning: ";
            font-weight: bold;
            color: #92400e;
        }

        @media (max-width: 768px) {
            .walker-examples {
                grid-template-columns: 1fr;
            }
            
            .flow-diagram {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Skip to main content -->
    <a href="#main-content" class="sr-only">Skip to main content</a>
    
    <div class="page-wrapper">
        <!-- Header -->
        <header class="site-header" role="banner">
            <div class="header-container">
                <div class="site-branding">
                    <a href="/" class="site-logo">
                        <h1 class="site-title">PHP WordPress Development</h1>
                    </a>
                </div>
                
                <nav class="main-navigation" role="navigation" aria-label="Main navigation">
                    <button class="mobile-menu-btn" aria-label="Toggle navigation" aria-expanded="false">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    
                    <div class="nav-menu">
                        <ul class="nav-list">
                            <li class="nav-item"><a href="/" class="nav-link">Home</a></li>
                            <li class="nav-item dropdown">
                                <button class="nav-link dropdown-toggle active" aria-haspopup="true">Modules</button>
                                <div class="dropdown-menu">
                                    <a href="/module1.html" class="dropdown-item">Module 1: Web Fundamentals</a>
                                    <a href="/module2.html" class="dropdown-item">Module 2: PHP Fundamentals</a>
                                    <a href="/module3.html" class="dropdown-item">Module 3: MySQL Database</a>
                                    <a href="/module4.html" class="dropdown-item">Module 4: WordPress & Docker</a>
                                    <a href="/module5.html" class="dropdown-item active">Module 5: Theme Development</a>
                                    <a href="/module6.html" class="dropdown-item">Module 6: Plugin Development</a>
                                    <a href="/module7.html" class="dropdown-item">Module 7: Advanced WordPress</a>
                                    <a href="/module8.html" class="dropdown-item">Module 8: Deployment</a>
                                    <a href="/module9.html" class="dropdown-item">Module 9: Final Project</a>
                                </div>
                            </li>
                            <li class="nav-item"><a href="/resources.html" class="nav-link">Resources</a></li>
                            <li class="nav-item"><a href="/about.html" class="nav-link">About</a></li>
                        </ul>
                    </div>
                </nav>
                
                <div class="search-container">
                    <div class="search-input-wrapper">
                        <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
                        </svg>
                        <input type="search" class="search-input" placeholder="Search lessons..." aria-label="Search">
                    </div>
                    <div class="search-results"></div>
                </div>
            </div>
        </header>
        
        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-header">
                <h2 class="progress-title">Course Progress</h2>
                <span class="progress-text">Loading...</span>
            </div>
            <div class="progress-bar">
                <div class="progress-bar-fill">
                    <span class="progress-bar-text"></span>
                </div>
            </div>
        </div>
        
        <!-- Breadcrumb -->
        <nav class="breadcrumb container" aria-label="Breadcrumb">
            <ol class="breadcrumb-list">
                <li class="breadcrumb-item">
                    <a href="/">Home</a>
                    <span class="breadcrumb-separator">/</span>
                </li>
                <li class="breadcrumb-item">
                    <a href="/module5.html">Module 5</a>
                    <span class="breadcrumb-separator">/</span>
                </li>
                <li class="breadcrumb-item">
                    <span aria-current="page">Walker Classes for Menus</span>
                </li>
            </ol>
        </nav>
        
        <!-- Main Content -->
        <main id="main-content" class="main-content" role="main">
            <div class="container">
                <div class="content-with-sidebar">
                    <!-- Sidebar -->
                    <aside class="sidebar">
                        <div class="sidebar-nav">
                            <h3 class="sidebar-title">Module 5: Theme Development</h3>
                            <div class="sidebar-section">
                                <h4 class="sidebar-section-title">Session 6: Navigation and Widgets</h4>
                                <ul class="sidebar-menu">
                                    <li><a class="sidebar-link" href="/05module/registering_navigation_menus.html">Registering Navigation Menus</a></li>
                                    <li><a class="sidebar-link" href="/05module/implementing_menus_themes.html">Implementing Menus in Themes</a></li>
                                    <li class="active"><a class="sidebar-link active" href="/05module/walker_classes_menus.html">Walker Classes for Menus</a></li>
                                    <li><a class="sidebar-link" href="/05module/registering_widget_areas.html">Registering Widget Areas</a></li>
                                    <li><a class="sidebar-link" href="/05module/adding_widgets_themes.html">Adding Widgets to Themes</a></li>
                                    <li><a class="sidebar-link" href="/05module/creating_custom_widgets.html">Creating Custom Widgets</a></li>
                                    <li><a class="sidebar-link" href="/05module/homework_navigation_widgets.html">Homework: Navigation & Widgets</a></li>
                                </ul>
                            </div>
                            <div class="sidebar-section">
                                <h4 class="sidebar-section-title">Quick Links</h4>
                                <ul class="sidebar-menu">
                                    <li><a class="sidebar-link" href="/module5.html">Module Overview</a></li>
                                    <li><a class="sidebar-link" href="/05module/implementing_menus_themes.html">← Previous Lesson</a></li>
                                    <li><a class="sidebar-link next-session" href="/05module/registering_widget_areas.html">Next Lesson →</a></li>
                                    <li><a class="sidebar-link" href="/">← Course Home</a></li>
                                    <li><a class="sidebar-link" href="/resources.html">Resources</a></li>
                                </ul>
                            </div>
                        </div>
                    </aside>
                    
                    <!-- Main Lesson Content -->
                    <article class="lesson-content">
                        <div class="walker-header">
                            <h1>🚶 Walker Classes for Custom Menu Output</h1>
                            <p class="lead">Customize WordPress menu HTML output completely</p>
                            <p>Create advanced navigation structures with Walker_Nav_Menu</p>
                        </div>

                        <!-- Learning Objectives -->
                        <div class="lesson-objectives">
                            <h2>Learning Objectives</h2>
                            <ul>
                                <li>Understand Walker class architecture</li>
                                <li>Extend Walker_Nav_Menu class</li>
                                <li>Override walker methods for custom output</li>
                                <li>Add custom HTML to menu items</li>
                                <li>Create Bootstrap/Foundation compatible menus</li>
                                <li>Build mega menus with Walker classes</li>
                                <li>Add icons and badges to menu items</li>
                                <li>Implement accessibility enhancements</li>
                            </ul>
                        </div>
                        
                        <!-- Lesson Body -->
                        <div class="lesson-body">
                            <!-- Introduction -->
                            <section>
                                <h2>Understanding Walker Classes</h2>
                                <p class="lead">Walker classes in WordPress are used to traverse and display hierarchical data structures like menus, categories, and pages. The Walker_Nav_Menu class specifically handles navigation menu output.</p>
                                
                                <div class="alert alert-info">
                                    <div class="alert-icon">💡</div>
                                    <div class="alert-content">
                                        <div class="alert-title">Key Concept</div>
                                        <div class="alert-message">Walker classes allow you to completely customize the HTML output of navigation menus without modifying WordPress core files. You can change wrapper elements, add custom attributes, and create complex menu structures.</div>
                                    </div>
                                </div>

                                <div class="walker-structure">
                                    <h3>Walker Class Hierarchy</h3>
                                    <ul>
                                        <li><strong>Walker:</strong> Base abstract class</li>
                                        <li><strong>Walker_Nav_Menu:</strong> Extends Walker for navigation menus</li>
                                        <li><strong>Your_Custom_Walker:</strong> Extends Walker_Nav_Menu</li>
                                    </ul>
                                </div>
                            </section>

                            <!-- Walker Methods -->
                            <section>
                                <h2>Walker_Nav_Menu Methods</h2>
                                
                                <div class="methods-table">
                                    <table>
                                        <thead>
                                            <tr>
                                                <th>Method</th>
                                                <th>Description</th>
                                                <th>When Called</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td><code>start_lvl()</code></td>
                                                <td>Starts the list before sub-elements</td>
                                                <td>Before outputting child menu items</td>
                                            </tr>
                                            <tr>
                                                <td><code>end_lvl()</code></td>
                                                <td>Ends the list after sub-elements</td>
                                                <td>After outputting child menu items</td>
                                            </tr>
                                            <tr>
                                                <td><code>start_el()</code></td>
                                                <td>Starts the element output</td>
                                                <td>Before each menu item</td>
                                            </tr>
                                            <tr>
                                                <td><code>end_el()</code></td>
                                                <td>Ends the element output</td>
                                                <td>After each menu item</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                                <div class="method-flow">
                                    <h3>Walker Method Execution Flow</h3>
                                    <div class="flow-diagram">
                                        <div class="flow-step">start_lvl()</div>
                                        <span class="flow-arrow">→</span>
                                        <div class="flow-step">start_el()</div>
                                        <span class="flow-arrow">→</span>
                                        <div class="flow-step">[item content]</div>
                                        <span class="flow-arrow">→</span>
                                        <div class="flow-step">end_el()</div>
                                        <span class="flow-arrow">→</span>
                                        <div class="flow-step">end_lvl()</div>
                                    </div>
                                </div>
                            </section>

                            <!-- Basic Walker Example -->
                            <section>
                                <h2>Basic Custom Walker</h2>
                                
                                <div class="code-example">
                                    <h4>Simple Custom Walker Class</h4>
                                    <pre><code class="language-php">&lt;?php
/**
 * Custom Navigation Walker
 */
class MyTheme_Walker_Nav_Menu extends Walker_Nav_Menu {
    
    /**
     * Starts the list before the elements are added
     */
    public function start_lvl( &$output, $depth = 0, $args = null ) {
        $indent = str_repeat( "\t", $depth );
        $classes = array( 'sub-menu', 'dropdown-menu' );
        
        if ( $depth > 0 ) {
            $classes[] = 'submenu-depth-' . $depth;
        }
        
        $class_names = join( ' ', $classes );
        
        $output .= "\n$indent&lt;ul class=\"$class_names\"&gt;\n";
    }
    
    /**
     * Ends the list after the elements are added
     */
    public function end_lvl( &$output, $depth = 0, $args = null ) {
        $indent = str_repeat( "\t", $depth );
        $output .= "$indent&lt;/ul&gt;\n";
    }
    
    /**
     * Start the element output
     */
    public function start_el( &$output, $item, $depth = 0, $args = null, $id = 0 ) {
        $indent = ( $depth ) ? str_repeat( "\t", $depth ) : '';
        
        $classes = empty( $item->classes ) ? array() : (array) $item->classes;
        $classes[] = 'menu-item-' . $item->ID;
        
        // Add depth class
        $classes[] = 'menu-item-depth-' . $depth;
        
        // Add active class
        if ( in_array( 'current-menu-item', $classes ) ) {
            $classes[] = 'active';
        }
        
        // Add dropdown class if has children
        if ( in_array( 'menu-item-has-children', $classes ) ) {
            $classes[] = 'has-dropdown';
        }
        
        $class_names = join( ' ', apply_filters( 'nav_menu_css_class', array_filter( $classes ), $item, $args ) );
        $class_names = $class_names ? ' class="' . esc_attr( $class_names ) . '"' : '';
        
        $id = apply_filters( 'nav_menu_item_id', 'menu-item-'. $item->ID, $item, $args );
        $id = $id ? ' id="' . esc_attr( $id ) . '"' : '';
        
        $output .= $indent . '&lt;li' . $id . $class_names .'&gt;';
        
        $attributes = ! empty( $item->attr_title ) ? ' title="' . esc_attr( $item->attr_title ) .'"' : '';
        $attributes .= ! empty( $item->target ) ? ' target="' . esc_attr( $item->target ) .'"' : '';
        $attributes .= ! empty( $item->xfn ) ? ' rel="' . esc_attr( $item->xfn ) .'"' : '';
        $attributes .= ! empty( $item->url ) ? ' href="' . esc_attr( $item->url ) .'"' : '';
        
        // Add dropdown toggle
        if ( in_array( 'menu-item-has-children', $classes ) ) {
            $attributes .= ' class="dropdown-toggle" data-toggle="dropdown"';
        }
        
        $item_output = $args->before;
        $item_output .= '&lt;a'. $attributes .'&gt;';
        $item_output .= $args->link_before . apply_filters( 'the_title', $item->title, $item->ID ) . $args->link_after;
        
        // Add dropdown arrow
        if ( in_array( 'menu-item-has-children', $classes ) ) {
            $item_output .= ' &lt;span class="dropdown-arrow"&gt;▼&lt;/span&gt;';
        }
        
        $item_output .= '&lt;/a&gt;';
        $item_output .= $args->after;
        
        $output .= apply_filters( 'walker_nav_menu_start_el', $item_output, $item, $depth, $args );
    }
    
    /**
     * Ends the element output
     */
    public function end_el( &$output, $item, $depth = 0, $args = null ) {
        $output .= "&lt;/li&gt;\n";
    }
}</code></pre>
                                </div>

                                <div class="code-example">
                                    <h4>Using the Custom Walker</h4>
                                    <pre><code class="language-php">&lt;?php
// In your theme template
wp_nav_menu( array(
    'theme_location' => 'primary',
    'menu_class'     => 'navbar-nav',
    'container'      => false,
    'walker'         => new MyTheme_Walker_Nav_Menu(),
) );</code></pre>
                                </div>
                            </section>

                            <!-- Bootstrap Walker -->
                            <section>
                                <h2>Bootstrap 5 Navigation Walker</h2>
                                
                                <div class="code-example">
                                    <h4>Bootstrap 5 Compatible Walker</h4>
                                    <pre><code class="language-php">&lt;?php
/**
 * Bootstrap 5 Navigation Walker
 */
class Bootstrap_5_Walker_Nav_Menu extends Walker_Nav_Menu {
    
    // Start Level
    function start_lvl( &$output, $depth = 0, $args = null ) {
        $indent = str_repeat( "\t", $depth );
        $submenu = ( $depth > 0 ) ? ' dropdown-submenu' : '';
        $output .= "\n$indent&lt;ul class=\"dropdown-menu$submenu depth_$depth\"&gt;\n";
    }
    
    // Start Element
    function start_el( &$output, $item, $depth = 0, $args = null, $id = 0 ) {
        $indent = ( $depth ) ? str_repeat( "\t", $depth ) : '';
        
        $li_attributes = '';
        $class_names = $value = '';
        
        $classes = empty( $item->classes ) ? array() : (array) $item->classes;
        
        // Add Bootstrap classes
        $classes[] = 'nav-item';
        $classes[] = 'menu-item-' . $item->ID;
        
        if ( in_array( 'current-menu-item', $classes ) ) {
            $classes[] = 'active';
        }
        
        if ( in_array( 'menu-item-has-children', $classes ) ) {
            $classes[] = 'dropdown';
            
            if ( $depth > 0 ) {
                $classes[] = 'dropdown-submenu';
            }
        }
        
        $class_names = join( ' ', apply_filters( 'nav_menu_css_class', array_filter( $classes ), $item, $args ) );
        $class_names = ' class="' . esc_attr( $class_names ) . '"';
        
        $id = apply_filters( 'nav_menu_item_id', 'menu-item-'. $item->ID, $item, $args );
        $id = $id ? ' id="' . esc_attr( $id ) . '"' : '';
        
        $output .= $indent . '&lt;li' . $id . $class_names . $li_attributes . '&gt;';
        
        // Link attributes
        $attributes = ! empty( $item->attr_title ) ? ' title="' . esc_attr( $item->attr_title ) .'"' : '';
        $attributes .= ! empty( $item->target ) ? ' target="' . esc_attr( $item->target ) .'"' : '';
        $attributes .= ! empty( $item->xfn ) ? ' rel="' . esc_attr( $item->xfn ) .'"' : '';
        $attributes .= ! empty( $item->url ) ? ' href="' . esc_attr( $item->url ) .'"' : '';
        
        // Add Bootstrap classes to links
        $link_classes = 'nav-link';
        
        if ( in_array( 'menu-item-has-children', $classes ) ) {
            $link_classes .= ' dropdown-toggle';
            $attributes .= ' data-bs-toggle="dropdown" aria-expanded="false"';
        }
        
        if ( in_array( 'current-menu-item', $classes ) ) {
            $link_classes .= ' active';
            $attributes .= ' aria-current="page"';
        }
        
        if ( $depth > 0 ) {
            $link_classes = 'dropdown-item';
        }
        
        $attributes .= ' class="' . $link_classes . '"';
        
        $item_output = $args->before;
        $item_output .= '&lt;a'. $attributes .'&gt;';
        
        // Add icon support
        if ( ! empty( $item->description ) ) {
            $item_output .= '&lt;i class="' . esc_attr( $item->description ) . '"&gt;&lt;/i&gt; ';
        }
        
        $item_output .= $args->link_before . apply_filters( 'the_title', $item->title, $item->ID ) . $args->link_after;
        $item_output .= '&lt;/a&gt;';
        $item_output .= $args->after;
        
        $output .= apply_filters( 'walker_nav_menu_start_el', $item_output, $item, $depth, $args );
    }
}</code></pre>
                                </div>

                                <div class="code-example">
                                    <h4>Bootstrap Navbar Implementation</h4>
                                    <pre><code class="language-php">&lt;nav class="navbar navbar-expand-lg navbar-light bg-light"&gt;
    &lt;div class="container"&gt;
        &lt;a class="navbar-brand" href="&lt;?php echo home_url(); ?&gt;"&gt;
            &lt;?php bloginfo('name'); ?&gt;
        &lt;/a&gt;
        
        &lt;button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"&gt;
            &lt;span class="navbar-toggler-icon"&gt;&lt;/span&gt;
        &lt;/button&gt;
        
        &lt;div class="collapse navbar-collapse" id="navbarNav"&gt;
            &lt;?php
            wp_nav_menu( array(
                'theme_location' => 'primary',
                'container'      => false,
                'menu_class'     => 'navbar-nav ms-auto',
                'fallback_cb'    => false,
                'depth'          => 2,
                'walker'         => new Bootstrap_5_Walker_Nav_Menu()
            ) );
            ?&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/nav&gt;</code></pre>
                                </div>
                            </section>

                            <!-- Mega Menu Walker -->
                            <section>
                                <h2>Mega Menu Walker</h2>
                                
                                <div class="code-example">
                                    <h4>Mega Menu Walker Class</h4>
                                    <pre><code class="language-php">&lt;?php
/**
 * Mega Menu Walker
 */
class MegaMenu_Walker extends Walker_Nav_Menu {
    
    private $mega_menu_items = array();
    
    function start_lvl( &$output, $depth = 0, $args = null ) {
        $indent = str_repeat( "\t", $depth );
        
        if ( $depth === 0 ) {
            $output .= "\n$indent&lt;div class=\"mega-menu-wrapper\"&gt;\n";
            $output .= "$indent&lt;div class=\"mega-menu-content\"&gt;\n";
            $output .= "$indent&lt;ul class=\"mega-menu-list\"&gt;\n";
        } else {
            $output .= "\n$indent&lt;ul class=\"sub-menu\"&gt;\n";
        }
    }
    
    function end_lvl( &$output, $depth = 0, $args = null ) {
        $indent = str_repeat( "\t", $depth );
        
        if ( $depth === 0 ) {
            $output .= "$indent&lt;/ul&gt;\n";
            
            // Add featured content area
            $output .= $this->get_mega_menu_featured_content();
            
            $output .= "$indent&lt;/div&gt;\n";
            $output .= "$indent&lt;/div&gt;\n";
        } else {
            $output .= "$indent&lt;/ul&gt;\n";
        }
    }
    
    function start_el( &$output, $item, $depth = 0, $args = null, $id = 0 ) {
        $indent = ( $depth ) ? str_repeat( "\t", $depth ) : '';
        
        $classes = empty( $item->classes ) ? array() : (array) $item->classes;
        $classes[] = 'menu-item-' . $item->ID;
        
        // Check for mega menu class
        if ( in_array( 'mega-menu', $classes ) && $depth === 0 ) {
            $classes[] = 'has-mega-menu';
            $this->mega_menu_items[] = $item->ID;
        }
        
        // Add column classes for mega menu items
        if ( $depth === 1 && in_array( $item->menu_item_parent, $this->mega_menu_items ) ) {
            $classes[] = 'mega-menu-column';
        }
        
        $class_names = join( ' ', apply_filters( 'nav_menu_css_class', array_filter( $classes ), $item, $args ) );
        $class_names = $class_names ? ' class="' . esc_attr( $class_names ) . '"' : '';
        
        $id = apply_filters( 'nav_menu_item_id', 'menu-item-'. $item->ID, $item, $args );
        $id = $id ? ' id="' . esc_attr( $id ) . '"' : '';
        
        $output .= $indent . '&lt;li' . $id . $class_names .'&gt;';
        
        $attributes = ! empty( $item->attr_title ) ? ' title="' . esc_attr( $item->attr_title ) .'"' : '';
        $attributes .= ! empty( $item->target ) ? ' target="' . esc_attr( $item->target ) .'"' : '';
        $attributes .= ! empty( $item->xfn ) ? ' rel="' . esc_attr( $item->xfn ) .'"' : '';
        $attributes .= ! empty( $item->url ) ? ' href="' . esc_attr( $item->url ) .'"' : '';
        
        // Add heading class for column titles
        if ( $depth === 1 && in_array( $item->menu_item_parent, $this->mega_menu_items ) ) {
            $attributes .= ' class="mega-menu-heading"';
        }
        
        $item_output = $args->before;
        $item_output .= '&lt;a'. $attributes .'&gt;';
        
        // Add custom icon from menu item description
        if ( ! empty( $item->description ) && $depth === 0 ) {
            $item_output .= '&lt;span class="menu-icon"&gt;' . $item->description . '&lt;/span&gt;';
        }
        
        $item_output .= $args->link_before . apply_filters( 'the_title', $item->title, $item->ID ) . $args->link_after;
        $item_output .= '&lt;/a&gt;';
        $item_output .= $args->after;
        
        $output .= apply_filters( 'walker_nav_menu_start_el', $item_output, $item, $depth, $args );
    }
    
    private function get_mega_menu_featured_content() {
        $output = '&lt;div class="mega-menu-featured"&gt;';
        $output .= '&lt;h3&gt;Featured Content&lt;/h3&gt;';
        
        // Get recent posts or featured content
        $recent_posts = wp_get_recent_posts( array(
            'numberposts' => 2,
            'post_status' => 'publish'
        ) );
        
        foreach( $recent_posts as $post ) {
            $output .= '&lt;div class="featured-item"&gt;';
            $output .= '&lt;a href="' . get_permalink( $post['ID'] ) . '"&gt;';
            $output .= get_the_post_thumbnail( $post['ID'], 'thumbnail' );
            $output .= '&lt;h4&gt;' . $post['post_title'] . '&lt;/h4&gt;';
            $output .= '&lt;/a&gt;';
            $output .= '&lt;/div&gt;';
        }
        
        $output .= '&lt;/div&gt;';
        
        return $output;
    }
}</code></pre>
                                </div>
                            </section>

                            <!-- Accessible Walker -->
                            <section>
                                <h2>Accessible Navigation Walker</h2>
                                
                                <div class="code-example">
                                    <h4>WCAG Compliant Walker</h4>
                                    <pre><code class="language-php">&lt;?php
/**
 * Accessible Navigation Walker
 */
class Accessible_Walker_Nav_Menu extends Walker_Nav_Menu {
    
    function start_lvl( &$output, $depth = 0, $args = null ) {
        $indent = str_repeat( "\t", $depth );
        $output .= "\n$indent&lt;ul class=\"sub-menu\" role=\"menu\" aria-label=\"submenu\"&gt;\n";
    }
    
    function start_el( &$output, $item, $depth = 0, $args = null, $id = 0 ) {
        $indent = ( $depth ) ? str_repeat( "\t", $depth ) : '';
        
        $classes = empty( $item->classes ) ? array() : (array) $item->classes;
        $classes[] = 'menu-item-' . $item->ID;
        
        $class_names = join( ' ', apply_filters( 'nav_menu_css_class', array_filter( $classes ), $item, $args ) );
        $class_names = $class_names ? ' class="' . esc_attr( $class_names ) . '"' : '';
        
        $id = apply_filters( 'nav_menu_item_id', 'menu-item-'. $item->ID, $item, $args );
        $id = $id ? ' id="' . esc_attr( $id ) . '"' : '';
        
        // Add ARIA role
        $li_attributes = ' role="none"';
        
        $output .= $indent . '&lt;li' . $id . $class_names . $li_attributes . '&gt;';
        
        $attributes = ! empty( $item->attr_title ) ? ' title="' . esc_attr( $item->attr_title ) .'"' : '';
        $attributes .= ! empty( $item->target ) ? ' target="' . esc_attr( $item->target ) .'"' : '';
        $attributes .= ! empty( $item->xfn ) ? ' rel="' . esc_attr( $item->xfn ) .'"' : '';
        $attributes .= ! empty( $item->url ) ? ' href="' . esc_attr( $item->url ) .'"' : '';
        
        // Add ARIA attributes
        $attributes .= ' role="menuitem"';
        
        // Add aria-current for current page
        if ( in_array( 'current-menu-item', $classes ) ) {
            $attributes .= ' aria-current="page"';
        }
        
        // Add aria-haspopup for parent items
        if ( in_array( 'menu-item-has-children', $classes ) ) {
            $attributes .= ' aria-haspopup="true" aria-expanded="false"';
        }
        
        // Add descriptive aria-label if needed
        if ( $item->description ) {
            $attributes .= ' aria-label="' . esc_attr( $item->title . ': ' . $item->description ) . '"';
        }
        
        $item_output = $args->before;
        $item_output .= '&lt;a'. $attributes .'&gt;';
        
        // Add screen reader text for external links
        if ( strpos( $item->url, home_url() ) === false ) {
            $item_output .= $args->link_before . apply_filters( 'the_title', $item->title, $item->ID ) . $args->link_after;
            $item_output .= '&lt;span class="screen-reader-text"&gt; (opens in a new tab)&lt;/span&gt;';
        } else {
            $item_output .= $args->link_before . apply_filters( 'the_title', $item->title, $item->ID ) . $args->link_after;
        }
        
        // Add dropdown indicator for screen readers
        if ( in_array( 'menu-item-has-children', $classes ) ) {
            $item_output .= '&lt;span aria-hidden="true" class="dropdown-arrow"&gt;▼&lt;/span&gt;';
            $item_output .= '&lt;span class="screen-reader-text"&gt; (has submenu)&lt;/span&gt;';
        }
        
        $item_output .= '&lt;/a&gt;';
        $item_output .= $args->after;
        
        $output .= apply_filters( 'walker_nav_menu_start_el', $item_output, $item, $depth, $args );
    }
}</code></pre>
                                </div>
                            </section>

                            <!-- Icon Menu Walker -->
                            <section>
                                <h2>Icon Menu Walker</h2>
                                
                                <div class="code-example">
                                    <h4>Walker with Icon Support</h4>
                                    <pre><code class="language-php">&lt;?php
/**
 * Icon Menu Walker - Uses custom field for icons
 */
class Icon_Walker_Nav_Menu extends Walker_Nav_Menu {
    
    function start_el( &$output, $item, $depth = 0, $args = null, $id = 0 ) {
        $indent = ( $depth ) ? str_repeat( "\t", $depth ) : '';
        
        $classes = empty( $item->classes ) ? array() : (array) $item->classes;
        $classes[] = 'menu-item-' . $item->ID;
        
        // Check for icon class in classes array
        $icon_class = '';
        foreach ( $classes as $class ) {
            if ( strpos( $class, 'fa-' ) === 0 || strpos( $class, 'icon-' ) === 0 ) {
                $icon_class = $class;
                break;
            }
        }
        
        $class_names = join( ' ', apply_filters( 'nav_menu_css_class', array_filter( $classes ), $item, $args ) );
        $class_names = $class_names ? ' class="' . esc_attr( $class_names ) . '"' : '';
        
        $id = apply_filters( 'nav_menu_item_id', 'menu-item-'. $item->ID, $item, $args );
        $id = $id ? ' id="' . esc_attr( $id ) . '"' : '';
        
        $output .= $indent . '&lt;li' . $id . $class_names .'&gt;';
        
        $attributes = ! empty( $item->attr_title ) ? ' title="' . esc_attr( $item->attr_title ) .'"' : '';
        $attributes .= ! empty( $item->target ) ? ' target="' . esc_attr( $item->target ) .'"' : '';
        $attributes .= ! empty( $item->xfn ) ? ' rel="' . esc_attr( $item->xfn ) .'"' : '';
        $attributes .= ! empty( $item->url ) ? ' href="' . esc_attr( $item->url ) .'"' : '';
        
        $item_output = $args->before;
        $item_output .= '&lt;a'. $attributes .'&gt;';
        
        // Add icon if exists
        if ( $icon_class ) {
            $item_output .= '&lt;i class="menu-icon ' . esc_attr( $icon_class ) . '"&gt;&lt;/i&gt; ';
        }
        
        // Add badge for new items (using description field)
        $title = apply_filters( 'the_title', $item->title, $item->ID );
        if ( $item->description == 'new' ) {
            $title .= ' &lt;span class="badge badge-new"&gt;NEW&lt;/span&gt;';
        } elseif ( $item->description == 'hot' ) {
            $title .= ' &lt;span class="badge badge-hot"&gt;HOT&lt;/span&gt;';
        }
        
        $item_output .= $args->link_before . $title . $args->link_after;
        $item_output .= '&lt;/a&gt;';
        $item_output .= $args->after;
        
        $output .= apply_filters( 'walker_nav_menu_start_el', $item_output, $item, $depth, $args );
    }
}</code></pre>
                                </div>
                            </section>

                            <!-- Walker Examples -->
                            <section>
                                <h2>Walker Use Cases</h2>
                                
                                <div class="walker-examples">
                                    <div class="walker-example-card">
                                        <h4>🎨 Framework Integration</h4>
                                        <p>Create walkers for Bootstrap, Foundation, Tailwind CSS</p>
                                    </div>
                                    
                                    <div class="walker-example-card">
                                        <h4>📱 Mobile Menus</h4>
                                        <p>Custom mobile navigation with accordions</p>
                                    </div>
                                    
                                    <div class="walker-example-card">
                                        <h4>🏢 Mega Menus</h4>
                                        <p>Complex multi-column dropdown menus</p>
                                    </div>
                                    
                                    <div class="walker-example-card">
                                        <h4>♿ Accessibility</h4>
                                        <p>Enhanced ARIA attributes and keyboard navigation</p>
                                    </div>
                                    
                                    <div class="walker-example-card">
                                        <h4>🎯 Custom Markup</h4>
                                        <p>Completely custom HTML structure</p>
                                    </div>
                                    
                                    <div class="walker-example-card">
                                        <h4>🏷️ Badges & Icons</h4>
                                        <p>Add icons, badges, and custom elements</p>
                                    </div>
                                </div>
                            </section>

                            <!-- Best Practices -->
                            <section>
                                <h2>Best Practices</h2>
                                
                                <div class="best-practice">
                                    <h4>Walker Class Best Practices</h4>
                                    <ul>
                                        <li><strong>Extend existing walkers:</strong> Don't reinvent the wheel</li>
                                        <li><strong>Maintain backward compatibility:</strong> Support standard menu features</li>
                                        <li><strong>Escape output properly:</strong> Use esc_attr(), esc_html(), etc.</li>
                                        <li><strong>Preserve menu item classes:</strong> Don't remove WordPress classes</li>
                                        <li><strong>Add accessibility attributes:</strong> Include ARIA labels and roles</li>
                                        <li><strong>Document your walker:</strong> Explain custom features and usage</li>
                                        <li><strong>Test thoroughly:</strong> Check all menu configurations</li>
                                        <li><strong>Keep it performant:</strong> Avoid heavy operations in walker methods</li>
                                    </ul>
                                </div>

                                <div class="warning-box">
                                    Always sanitize and escape data in walker classes. Menu items can contain user-generated content that must be properly secured.
                                </div>
                            </section>

                            <!-- Practice Exercise -->
                            <section>
                                <h2>Practice Exercise</h2>
                                <div class="alert alert-success">
                                    <div class="alert-icon">💻</div>
                                    <div class="alert-content">
                                        <div class="alert-title">Create Custom Navigation Walker</div>
                                        <div class="alert-message">
                                            <p>Build a comprehensive custom walker class:</p>
                                            <ol>
                                                <li>Create basic custom walker extending Walker_Nav_Menu</li>
                                                <li>Override all four main methods</li>
                                                <li>Add Bootstrap 5 classes and attributes</li>
                                                <li>Implement dropdown menu support</li>
                                                <li>Add icon support using description field</li>
                                                <li>Include ARIA attributes for accessibility</li>
                                                <li>Add custom badges for new items</li>
                                                <li>Create mobile-specific modifications</li>
                                                <li>Test with multi-level menus</li>
                                                <li>Document walker usage</li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <!-- Resources -->
                            <section class="resources">
                                <h2>Additional Resources</h2>
                                <ul>
                                    <li><a href="https://developer.wordpress.org/reference/classes/walker/" target="_blank">Walker Class Reference</a></li>
                                    <li><a href="https://developer.wordpress.org/reference/classes/walker_nav_menu/" target="_blank">Walker_Nav_Menu Reference</a></li>
                                    <li><a href="https://www.ibenic.com/wordpress-walker-class/" target="_blank">Understanding WordPress Walker Class</a></li>
                                    <li><a href="https://github.com/wp-bootstrap/wp-bootstrap-navwalker" target="_blank">WP Bootstrap Navwalker</a></li>
                                    <li><a href="https://codex.wordpress.org/Class_Reference/Walker" target="_blank">Walker Class Codex</a></li>
                                </ul>
                            </section>
                        </div>

                        <!-- Lesson Navigation -->
                        <div class="lesson-navigation">
                            <a href="/05module/implementing_menus_themes.html" class="lesson-nav-button prev">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z"/>
                                </svg>
                                <span>
                                    <small>Previous</small><br>
                                    Implementing Menus in Themes
                                </span>
                            </a>
                            
                            <button class="complete-lesson-btn">
                                Mark as Complete
                            </button>
                            
                            <a href="/05module/registering_widget_areas.html" class="lesson-nav-button next">
                                <span>
                                    <small>Next</small><br>
                                    Registering Widget Areas
                                </span>
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"/>
                                </svg>
                            </a>
                        </div>
                    </article>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="site-footer" role="contentinfo">
            <div class="footer-container">
                <div class="footer-content">
                    <div class="footer-section footer-about">
                        <h3>PHP WordPress Development</h3>
                        <p>Complete Web Development Course</p>
                    </div>
                    
                    <div class="footer-section">
                        <h4>Quick Links</h4>
                        <ul class="footer-links">
                            <li><a href="/">Home</a></li>
                            <li><a href="/module5.html">Module 5</a></li>
                            <li><a href="/resources.html">Resources</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-section">
                        <h4>Support</h4>
                        <ul class="footer-links">
                            <li><a href="/about.html">About</a></li>
                            <li><a href="/contact.html">Contact</a></li>
                        </ul>
                    </div>
                </div>
                
                <div class="footer-bottom">
                    <p>&copy; 2024 PHP WordPress Course. All rights reserved.</p>
                    <p>This course material is for educational purposes only.</p>
                </div>
            </div>
        </footer>
    </div>
    
    <!-- JavaScript -->
    <script src="/assets/js/prism.js"></script>
    <script src="/assets/js/main.js"></script>
    <script src="/assets/js/sidebar-toggle.js"></script>
    <script src="/assets/js/progress-tracker.js"></script>
    <script src="/assets/js/search.js"></script>
    <script src="/assets/js/theme-toggle.js"></script>
</body>
</html>