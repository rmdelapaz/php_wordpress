<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <!-- SEO Meta Tags -->
    <title>Working with jQuery in WordPress - WordPress Theme Development - PHP WordPress Course</title>
    <meta name="description" content="Learn how to properly use jQuery in WordPress themes. Master jQuery no-conflict mode, best practices, and common patterns for WordPress development.">
    <meta name="keywords" content="PHP, WordPress, jQuery, no-conflict mode, JavaScript, DOM manipulation, AJAX, theme development">
    <meta name="author" content="PHP WordPress Course">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="apple-touch-icon" href="/favicon.png">
    
    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/sidebar-enhanced.css">
    <link rel="stylesheet" href="/assets/css/sidebar-toggle.css">
    
    <!-- Custom styles for jQuery lesson -->
    <style>
        .jquery-header {
            background: linear-gradient(135deg, #0769ad 0%, #1e90ff 100%);
            color: white;
            padding: 3rem 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            text-align: center;
        }

        .jquery-concept {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .jquery-concept h3 {
            color: #0769ad;
            margin-top: 0;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 1rem;
        }

        .code-example {
            background: #1e293b;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
        }

        .code-example h4 {
            color: #a5b4fc;
            margin-top: 0;
            border-bottom: 1px solid #475569;
            padding-bottom: 0.5rem;
        }

        .noconflict-section {
            background: linear-gradient(135deg, #fef3c7 0%, #fed7aa 100%);
            border: 2px solid #f59e0b;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .noconflict-section h3 {
            color: #92400e;
            margin-top: 0;
        }

        .method-comparison {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
            margin: 2rem 0;
        }

        .method-comparison table {
            width: 100%;
            border-collapse: collapse;
        }

        .method-comparison th {
            background: #f3f4f6;
            padding: 1rem;
            text-align: left;
            font-weight: bold;
            border-bottom: 2px solid #e5e7eb;
        }

        .method-comparison td {
            padding: 1rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .method-comparison code {
            background: #f3f4f6;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-size: 0.875rem;
            color: #0769ad;
        }

        .plugin-pattern {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border: 2px solid #0ea5e9;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .plugin-pattern h3 {
            color: #0369a1;
            margin-top: 0;
        }

        .event-list {
            background: white;
            border: 2px solid #0769ad;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .event-list h3 {
            color: #0769ad;
            margin-top: 0;
        }

        .migration-guide {
            background: white;
            border: 2px solid #667eea;
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .migration-guide h3 {
            color: #667eea;
            margin-top: 0;
        }

        .best-practice {
            background: #f0f9ff;
            border-left: 4px solid #0ea5e9;
            padding: 1rem 1.5rem;
            margin: 1.5rem 0;
        }

        .best-practice h4 {
            color: #0369a1;
            margin-top: 0;
        }

        .warning-box {
            background: #fef3c7;
            border: 2px solid #fbbf24;
            border-radius: 8px;
            padding: 1rem;
            margin: 1.5rem 0;
        }

        .warning-box::before {
            content: "‚ö†Ô∏è Warning: ";
            font-weight: bold;
            color: #92400e;
        }

        .tip-box {
            background: #f0fdf4;
            border: 2px solid #86efac;
            border-radius: 8px;
            padding: 1rem;
            margin: 1.5rem 0;
        }

        .tip-box::before {
            content: "üí° Tip: ";
            font-weight: bold;
            color: #166534;
        }

        @media (max-width: 768px) {
            .jquery-header h1 {
                font-size: 1.75rem;
            }
        }
    </style>
</head>
<body>
    <!-- Skip to main content -->
    <a href="#main-content" class="sr-only">Skip to main content</a>
    
    <div class="page-wrapper">
        <!-- Header -->
        <header class="site-header" role="banner">
            <div class="header-container">
                <div class="site-branding">
                    <a href="/" class="site-logo">
                        <h1 class="site-title">PHP WordPress Development</h1>
                    </a>
                </div>
                
                <nav class="main-navigation" role="navigation" aria-label="Main navigation">
                    <button class="mobile-menu-btn" aria-label="Toggle navigation" aria-expanded="false">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    
                    <div class="nav-menu">
                        <ul class="nav-list">
                            <li class="nav-item"><a href="/" class="nav-link">Home</a></li>
                            <li class="nav-item dropdown">
                                <button class="nav-link dropdown-toggle active" aria-haspopup="true">Modules</button>
                                <div class="dropdown-menu">
                                    <a href="/module1.html" class="dropdown-item">Module 1: Web Fundamentals</a>
                                    <a href="/module2.html" class="dropdown-item">Module 2: PHP Fundamentals</a>
                                    <a href="/module3.html" class="dropdown-item">Module 3: MySQL Database</a>
                                    <a href="/module4.html" class="dropdown-item">Module 4: WordPress & Docker</a>
                                    <a href="/module5.html" class="dropdown-item active">Module 5: Theme Development</a>
                                    <a href="/module6.html" class="dropdown-item">Module 6: Plugin Development</a>
                                    <a href="/module7.html" class="dropdown-item">Module 7: Advanced WordPress</a>
                                    <a href="/module8.html" class="dropdown-item">Module 8: Deployment</a>
                                    <a href="/module9.html" class="dropdown-item">Module 9: Final Project</a>
                                </div>
                            </li>
                            <li class="nav-item"><a href="/resources.html" class="nav-link">Resources</a></li>
                            <li class="nav-item"><a href="/about.html" class="nav-link">About</a></li>
                        </ul>
                    </div>
                </nav>
                
                <div class="search-container">
                    <div class="search-input-wrapper">
                        <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
                        </svg>
                        <input type="search" class="search-input" placeholder="Search lessons..." aria-label="Search">
                    </div>
                    <div class="search-results"></div>
                </div>
            </div>
        </header>
        
        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-header">
                <h2 class="progress-title">Course Progress</h2>
                <span class="progress-text">Loading...</span>
            </div>
            <div class="progress-bar">
                <div class="progress-bar-fill">
                    <span class="progress-bar-text"></span>
                </div>
            </div>
        </div>
        
        <!-- Breadcrumb -->
        <nav class="breadcrumb container" aria-label="Breadcrumb">
            <ol class="breadcrumb-list">
                <li class="breadcrumb-item">
                    <a href="/">Home</a>
                    <span class="breadcrumb-separator">/</span>
                </li>
                <li class="breadcrumb-item">
                    <a href="/module5.html">Module 5</a>
                    <span class="breadcrumb-separator">/</span>
                </li>
                <li class="breadcrumb-item">
                    <span aria-current="page">Working with jQuery in WordPress</span>
                </li>
            </ol>
        </nav>
        
        <!-- Main Content -->
        <main id="main-content" class="main-content" role="main">
            <div class="container">
                <div class="content-with-sidebar">
                    <!-- Sidebar -->
                    <aside class="sidebar">
                        <div class="sidebar-nav">
                            <h3 class="sidebar-title">Module 5: Theme Development</h3>
                            <div class="sidebar-section">
                                <h4 class="sidebar-section-title">Session 8: Theme Assets and Frontend</h4>
                                <ul class="sidebar-menu">
                                    <li><a class="sidebar-link" href="/05module/asset_organization.html">Asset Organization in Themes</a></li>
                                    <li><a class="sidebar-link" href="/05module/responsive_design.html">Responsive Design Implementation</a></li>
                                    <li><a class="sidebar-link" href="/05module/sass_in_themes.html">Using Sass in Theme Development</a></li>
                                    <li><a class="sidebar-link" href="/05module/javascript_in_themes.html">JavaScript in WordPress Themes</a></li>
                                    <li class="active"><a class="sidebar-link active" href="/05module/jquery_wordpress.html">Working with jQuery in WordPress</a></li>
                                    <li><a class="sidebar-link" href="/05module/third_party_libraries.html">Using Third-party Libraries</a></li>
                                    <li><a class="sidebar-link" href="/05module/asset_optimization.html">Asset Optimization and Best Practices</a></li>
                                    <li><a class="sidebar-link" href="/05module/homework_assets_frontend.html">Homework: Assets & Frontend</a></li>
                                </ul>
                            </div>
                            <div class="sidebar-section">
                                <h4 class="sidebar-section-title">Quick Links</h4>
                                <ul class="sidebar-menu">
                                    <li><a class="sidebar-link" href="/module5.html">Module Overview</a></li>
                                    <li><a class="sidebar-link" href="/05module/javascript_in_themes.html">‚Üê Previous Lesson</a></li>
                                    <li><a class="sidebar-link next-session" href="/05module/third_party_libraries.html">Next Lesson ‚Üí</a></li>
                                    <li><a class="sidebar-link" href="/">‚Üê Course Home</a></li>
                                    <li><a class="sidebar-link" href="/resources.html">Resources</a></li>
                                </ul>
                            </div>
                        </div>
                    </aside>
                    
                    <!-- Main Lesson Content -->
                    <article class="lesson-content">
                        <div class="jquery-header">
                            <h1>üí≤ Working with jQuery in WordPress</h1>
                            <p class="lead">Master jQuery integration in WordPress themes</p>
                            <p>Learn no-conflict mode, best practices, and common jQuery patterns</p>
                        </div>

                        <!-- Learning Objectives -->
                        <div class="lesson-objectives">
                            <h2>Learning Objectives</h2>
                            <ul>
                                <li>Understand jQuery in WordPress context</li>
                                <li>Master jQuery no-conflict mode</li>
                                <li>Use WordPress's bundled jQuery properly</li>
                                <li>Create jQuery plugins for WordPress</li>
                                <li>Handle jQuery events and DOM manipulation</li>
                                <li>Implement jQuery AJAX in WordPress</li>
                                <li>Migrate from jQuery to vanilla JavaScript</li>
                                <li>Debug jQuery issues in WordPress</li>
                            </ul>
                        </div>
                        
                        <!-- Lesson Body -->
                        <div class="lesson-body">
                            <!-- Introduction -->
                            <section>
                                <h2>jQuery in WordPress</h2>
                                <p class="lead">WordPress includes jQuery by default and many themes and plugins depend on it. Understanding how to work with jQuery in WordPress's no-conflict mode is essential for theme development.</p>
                                
                                <div class="alert alert-info">
                                    <div class="alert-icon">üí°</div>
                                    <div class="alert-content">
                                        <div class="alert-title">Key Concept</div>
                                        <div class="alert-message">WordPress runs jQuery in no-conflict mode, meaning the $ shortcut is not available by default. You must use jQuery or wrap your code properly.</div>
                                    </div>
                                </div>

                                <div class="jquery-concept">
                                    <h3>WordPress jQuery Version</h3>
                                    <p>WordPress includes jQuery but may not always have the latest version due to compatibility concerns. As of WordPress 5.9+:</p>
                                    <ul>
                                        <li>jQuery 3.6.0+ is included</li>
                                        <li>jQuery Migrate is included for backward compatibility</li>
                                        <li>jQuery UI components are available</li>
                                        <li>No-conflict mode is enabled by default</li>
                                    </ul>
                                </div>
                            </section>

                            <!-- No-Conflict Mode -->
                            <section>
                                <div class="noconflict-section">
                                    <h3>Understanding No-Conflict Mode</h3>
                                    
                                    <div class="code-example">
                                        <h4>Why No-Conflict Mode?</h4>
                                        <pre><code class="language-javascript">// This will NOT work in WordPress by default
$(document).ready(function() {
    $('.button').click(function() {
        // $ is undefined
    });
});

// This WILL work
jQuery(document).ready(function() {
    jQuery('.button').click(function() {
        // jQuery is available
    });
});</code></pre>
                                    </div>

                                    <div class="code-example">
                                        <h4>Common No-Conflict Patterns</h4>
                                        <pre><code class="language-javascript">// Pattern 1: IIFE with $ parameter
(function($) {
    'use strict';
    
    // $ is available inside this function
    $(document).ready(function() {
        $('.button').click(function() {
            console.log('Button clicked!');
        });
    });
    
})(jQuery);

// Pattern 2: jQuery ready with $ parameter
jQuery(document).ready(function($) {
    // $ is available inside this function
    $('.button').click(function() {
        console.log('Button clicked!');
    });
});

// Pattern 3: Shorter syntax
jQuery(function($) {
    // $ is available inside this function
    $('.button').click(function() {
        console.log('Button clicked!');
    });
});

// Pattern 4: Using const/let
const $ = jQuery.noConflict();
$(document).ready(function() {
    // $ is now available
    $('.button').click(function() {
        console.log('Button clicked!');
    });
});</code></pre>
                                    </div>
                                </div>
                            </section>

                            <!-- Enqueuing jQuery -->
                            <section>
                                <h2>Properly Enqueuing jQuery</h2>
                                
                                <div class="code-example">
                                    <h4>Using WordPress's jQuery</h4>
                                    <pre><code class="language-php">&lt;?php
// functions.php

// Correct way - Use WordPress's jQuery
function mytheme_enqueue_scripts() {
    // jQuery is included as a dependency
    wp_enqueue_script(
        'mytheme-script',
        get_template_directory_uri() . '/assets/js/main.js',
        array('jquery'), // jQuery dependency
        '1.0.0',
        true
    );
}
add_action('wp_enqueue_scripts', 'mytheme_enqueue_scripts');

// Using specific jQuery UI components
function mytheme_enqueue_jquery_ui() {
    // Enqueue jQuery UI components
    wp_enqueue_script('jquery-ui-core');
    wp_enqueue_script('jquery-ui-datepicker');
    wp_enqueue_script('jquery-ui-accordion');
    wp_enqueue_script('jquery-ui-tabs');
    wp_enqueue_script('jquery-ui-sortable');
    
    // Enqueue jQuery UI CSS
    wp_enqueue_style(
        'jquery-ui',
        'https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css',
        array(),
        '1.12.1'
    );
}
add_action('wp_enqueue_scripts', 'mytheme_enqueue_jquery_ui');

// Replace WordPress jQuery with custom version (NOT RECOMMENDED)
function mytheme_replace_jquery() {
    if (!is_admin()) {
        wp_deregister_script('jquery');
        wp_register_script(
            'jquery',
            'https://code.jquery.com/jquery-3.6.0.min.js',
            array(),
            '3.6.0',
            true
        );
        wp_enqueue_script('jquery');
    }
}
// add_action('wp_enqueue_scripts', 'mytheme_replace_jquery'); // Uncomment only if necessary</code></pre>
                                </div>

                                <div class="warning-box">
                                    Replacing WordPress's jQuery with a custom version can break plugins and themes that depend on the bundled version. Only do this if absolutely necessary and test thoroughly.
                                </div>
                            </section>

                            <!-- jQuery DOM Manipulation -->
                            <section>
                                <h2>jQuery DOM Manipulation in WordPress</h2>
                                
                                <div class="code-example">
                                    <h4>Common jQuery Operations</h4>
                                    <pre><code class="language-javascript">(function($) {
    'use strict';
    
    $(document).ready(function() {
        
        // Selecting elements
        const $header = $('.site-header');
        const $navigation = $('#site-navigation');
        const $buttons = $('button.primary');
        
        // Class manipulation
        $header.addClass('is-sticky');
        $navigation.removeClass('hidden');
        $buttons.toggleClass('active');
        
        // Attribute manipulation
        $('img').attr('loading', 'lazy');
        $('a[target="_blank"]').attr('rel', 'noopener noreferrer');
        $('.form-input').prop('disabled', false);
        
        // Content manipulation
        $('.site-title').text('New Title');
        $('.content').html('&lt;p&gt;New content&lt;/p&gt;');
        $('.input').val('New value');
        
        // DOM traversal
        $('.menu-item').parent().addClass('has-children');
        $('.widget').children('h3').addClass('widget-title');
        $('.current').siblings().removeClass('active');
        $('.post').find('.entry-title').addClass('highlighted');
        
        // Creating elements
        const $newButton = $('&lt;button&gt;', {
            class: 'btn btn-primary',
            text: 'Click me',
            click: function() {
                alert('Button clicked!');
            }
        });
        
        // Inserting elements
        $('.content').append($newButton);
        $('.header').prepend('&lt;div class="announcement"&gt;Welcome!&lt;/div&gt;');
        $('.sidebar').after('&lt;aside class="secondary"&gt;&lt;/aside&gt;');
        $('.footer').before('&lt;section class="cta"&gt;&lt;/section&gt;');
        
        // Removing elements
        $('.temporary').remove();
        $('.content').empty();
        $('.wrapper').unwrap();
        
        // Chaining
        $('.post')
            .find('.entry-content')
            .addClass('formatted')
            .find('img')
            .wrap('&lt;figure class="image-wrapper"&gt;&lt;/figure&gt;')
            .parent()
            .append('&lt;figcaption&gt;Image caption&lt;/figcaption&gt;');
    });
    
})(jQuery);</code></pre>
                                </div>
                            </section>

                            <!-- jQuery Events -->
                            <section>
                                <div class="event-list">
                                    <h3>jQuery Event Handling</h3>
                                    
                                    <div class="code-example">
                                        <h4>Event Binding and Delegation</h4>
                                        <pre><code class="language-javascript">(function($) {
    'use strict';
    
    $(document).ready(function() {
        
        // Direct event binding
        $('.button').click(function(e) {
            e.preventDefault();
            console.log('Button clicked');
        });
        
        // Multiple events
        $('.input').on('focus blur', function(e) {
            $(this).toggleClass('active');
        });
        
        // Event delegation (for dynamic content)
        $(document).on('click', '.dynamic-button', function(e) {
            e.preventDefault();
            console.log('Dynamic button clicked');
        });
        
        // Custom events
        $('.widget').on('widget:refresh', function() {
            $(this).find('.content').load('/api/widget-content');
        });
        
        // Trigger custom event
        $('.widget').trigger('widget:refresh');
        
        // Common WordPress events
        
        // Mobile menu toggle
        $('.menu-toggle').on('click', function() {
            const $menu = $('.nav-menu');
            const isOpen = $menu.hasClass('is-open');
            
            $menu.toggleClass('is-open');
            $(this).attr('aria-expanded', !isOpen);
            
            // Trigger custom event
            $(document).trigger('menu:toggled', [!isOpen]);
        });
        
        // Smooth scrolling
        $('a[href^="#"]').on('click', function(e) {
            const hash = this.hash;
            
            if (hash) {
                e.preventDefault();
                
                $('html, body').animate({
                    scrollTop: $(hash).offset().top - 100
                }, 800, function() {
                    window.location.hash = hash;
                });
            }
        });
        
        // Form validation
        $('#contact-form').on('submit', function(e) {
            const $form = $(this);
            const $errors = $form.find('.error');
            
            // Clear previous errors
            $errors.removeClass('error');
            
            // Validate required fields
            $form.find('[required]').each(function() {
                if (!$(this).val()) {
                    $(this).addClass('error');
                    e.preventDefault();
                }
            });
            
            // Validate email
            const $email = $form.find('input[type="email"]');
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            
            if ($email.length && !emailRegex.test($email.val())) {
                $email.addClass('error');
                e.preventDefault();
            }
        });
        
        // Infinite scroll
        let loading = false;
        $(window).on('scroll', function() {
            if (loading) return;
            
            const scrollHeight = $(document).height();
            const scrollPosition = $(window).height() + $(window).scrollTop();
            
            if ((scrollHeight - scrollPosition) < 200) {
                loading = true;
                loadMorePosts();
            }
        });
        
        // Debounced resize
        let resizeTimer;
        $(window).on('resize', function() {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(function() {
                // Handle resize
                adjustLayout();
            }, 250);
        });
        
        // Keyboard navigation
        $(document).on('keydown', function(e) {
            // Escape key
            if (e.keyCode === 27) {
                $('.modal').removeClass('is-open');
                $('.dropdown').removeClass('is-open');
            }
            
            // Arrow keys for gallery
            if ($('.gallery').hasClass('is-open')) {
                if (e.keyCode === 37) { // Left arrow
                    navigateGallery('prev');
                } else if (e.keyCode === 39) { // Right arrow
                    navigateGallery('next');
                }
            }
        });
    });
    
})(jQuery);</code></pre>
                                    </div>
                                </div>
                            </section>

                            <!-- jQuery AJAX -->
                            <section>
                                <h2>jQuery AJAX in WordPress</h2>
                                
                                <div class="code-example">
                                    <h4>Complete jQuery AJAX Implementation</h4>
                                    <pre><code class="language-javascript">(function($) {
    'use strict';
    
    $(document).ready(function() {
        
        // Load more posts with AJAX
        $('#load-more').on('click', function() {
            const $button = $(this);
            const page = $button.data('page') || 1;
            const category = $button.data('category');
            
            // Disable button and show loading
            $button.prop('disabled', true).text('Loading...');
            
            $.ajax({
                url: wp_ajax.ajax_url,
                type: 'POST',
                dataType: 'json',
                data: {
                    action: 'load_more_posts',
                    nonce: wp_ajax.nonce,
                    page: page + 1,
                    category: category
                },
                success: function(response) {
                    if (response.success) {
                        // Append new posts
                        $('#posts-container').append(response.data.html);
                        
                        // Update page number
                        $button.data('page', page + 1);
                        
                        // Check if more posts available
                        if (page + 1 >= response.data.max_pages) {
                            $button.hide();
                        } else {
                            $button.prop('disabled', false).text('Load More');
                        }
                        
                        // Trigger event for other scripts
                        $(document).trigger('posts:loaded', [response.data]);
                    } else {
                        alert('Error: ' + response.data);
                    }
                },
                error: function(xhr, status, error) {
                    console.error('AJAX Error:', error);
                    $button.prop('disabled', false).text('Try Again');
                },
                complete: function() {
                    // Always executed
                }
            });
        });
        
        // Like post functionality
        $('.like-button').on('click', function() {
            const $button = $(this);
            const postId = $button.data('post-id');
            const $count = $button.find('.like-count');
            
            // Optimistic UI update
            $button.toggleClass('liked');
            
            $.post(wp_ajax.ajax_url, {
                action: 'like_post',
                nonce: wp_ajax.nonce,
                post_id: postId
            })
            .done(function(response) {
                if (response.success) {
                    $count.text(response.data.likes);
                } else {
                    // Revert on error
                    $button.toggleClass('liked');
                    alert(response.data.message);
                }
            })
            .fail(function() {
                // Revert on error
                $button.toggleClass('liked');
                alert('An error occurred');
            });
        });
        
        // Live search
        let searchTimer;
        $('#search-input').on('keyup', function() {
            const query = $(this).val();
            const $results = $('#search-results');
            
            // Clear previous timer
            clearTimeout(searchTimer);
            
            if (query.length < 3) {
                $results.empty().hide();
                return;
            }
            
            // Debounce search
            searchTimer = setTimeout(function() {
                $.ajax({
                    url: wp_ajax.ajax_url,
                    type: 'GET',
                    data: {
                        action: 'live_search',
                        nonce: wp_ajax.nonce,
                        query: query
                    },
                    beforeSend: function() {
                        $results.html('&lt;div class="loading"&gt;Searching...&lt;/div&gt;').show();
                    },
                    success: function(response) {
                        if (response.success && response.data.results.length > 0) {
                            let html = '&lt;ul class="search-results-list"&gt;';
                            
                            $.each(response.data.results, function(index, item) {
                                html += `&lt;li&gt;
                                    &lt;a href="${item.url}"&gt;
                                        &lt;h4&gt;${item.title}&lt;/h4&gt;
                                        &lt;p&gt;${item.excerpt}&lt;/p&gt;
                                    &lt;/a&gt;
                                &lt;/li&gt;`;
                            });
                            
                            html += '&lt;/ul&gt;';
                            $results.html(html);
                        } else {
                            $results.html('&lt;p&gt;No results found&lt;/p&gt;');
                        }
                    },
                    error: function() {
                        $results.html('&lt;p&gt;Search error&lt;/p&gt;');
                    }
                });
            }, 300);
        });
        
        // File upload with progress
        $('#file-upload').on('change', function() {
            const file = this.files[0];
            if (!file) return;
            
            const formData = new FormData();
            formData.append('action', 'upload_file');
            formData.append('nonce', wp_ajax.nonce);
            formData.append('file', file);
            
            $.ajax({
                url: wp_ajax.ajax_url,
                type: 'POST',
                data: formData,
                processData: false,
                contentType: false,
                xhr: function() {
                    const xhr = new XMLHttpRequest();
                    
                    // Upload progress
                    xhr.upload.addEventListener('progress', function(e) {
                        if (e.lengthComputable) {
                            const percentComplete = (e.loaded / e.total) * 100;
                            $('#upload-progress').css('width', percentComplete + '%');
                        }
                    }, false);
                    
                    return xhr;
                },
                success: function(response) {
                    if (response.success) {
                        $('#upload-result').html(
                            `&lt;img src="${response.data.url}" alt="Uploaded"&gt;`
                        );
                    }
                },
                error: function() {
                    alert('Upload failed');
                }
            });
        });
    });
    
})(jQuery);</code></pre>
                                </div>
                            </section>

                            <!-- jQuery Plugins -->
                            <section>
                                <div class="plugin-pattern">
                                    <h3>Creating jQuery Plugins for WordPress</h3>
                                    
                                    <div class="code-example">
                                        <h4>jQuery Plugin Pattern</h4>
                                        <pre><code class="language-javascript">(function($) {
    'use strict';
    
    // Plugin definition
    $.fn.wpAccordion = function(options) {
        
        // Default settings
        const settings = $.extend({
            speed: 300,
            closeOthers: true,
            activeClass: 'is-active',
            contentClass: 'accordion-content',
            triggerClass: 'accordion-trigger',
            startClosed: true,
            callback: null
        }, options);
        
        // Plugin logic for each element
        return this.each(function() {
            const $accordion = $(this);
            const $triggers = $accordion.find('.' + settings.triggerClass);
            const $contents = $accordion.find('.' + settings.contentClass);
            
            // Initialize
            if (settings.startClosed) {
                $contents.hide();
            } else {
                $contents.first().show();
                $triggers.first().addClass(settings.activeClass);
            }
            
            // Bind events
            $triggers.on('click', function(e) {
                e.preventDefault();
                
                const $trigger = $(this);
                const $content = $trigger.next('.' + settings.contentClass);
                const isOpen = $trigger.hasClass(settings.activeClass);
                
                if (settings.closeOthers && !isOpen) {
                    $triggers.removeClass(settings.activeClass);
                    $contents.slideUp(settings.speed);
                }
                
                $trigger.toggleClass(settings.activeClass);
                $content.slideToggle(settings.speed, function() {
                    // Callback after animation
                    if (typeof settings.callback === 'function') {
                        settings.callback.call(this, $trigger, $content);
                    }
                });
            });
            
            // Public methods
            $accordion.data('wpAccordion', {
                open: function(index) {
                    $triggers.eq(index).trigger('click');
                },
                close: function(index) {
                    const $trigger = $triggers.eq(index);
                    if ($trigger.hasClass(settings.activeClass)) {
                        $trigger.trigger('click');
                    }
                },
                closeAll: function() {
                    $triggers.removeClass(settings.activeClass);
                    $contents.slideUp(settings.speed);
                },
                openAll: function() {
                    $triggers.addClass(settings.activeClass);
                    $contents.slideDown(settings.speed);
                },
                destroy: function() {
                    $triggers.off('click');
                    $accordion.removeData('wpAccordion');
                }
            });
        });
    };
    
    // Auto-initialize
    $(document).ready(function() {
        $('.wp-accordion').wpAccordion();
    });
    
    // Another plugin example: Tabs
    $.fn.wpTabs = function(options) {
        const settings = $.extend({
            activeClass: 'is-active',
            animation: 'fade', // fade, slide, none
            speed: 300,
            responsive: true,
            breakpoint: 768
        }, options);
        
        return this.each(function() {
            const $tabs = $(this);
            const $nav = $tabs.find('.tabs-nav');
            const $navItems = $nav.find('a');
            const $panels = $tabs.find('.tab-panel');
            
            // Initialize
            $panels.hide();
            $panels.first().show();
            $navItems.first().addClass(settings.activeClass);
            
            // Tab switching
            $navItems.on('click', function(e) {
                e.preventDefault();
                
                const $link = $(this);
                const target = $link.attr('href');
                const $target = $(target);
                
                if ($link.hasClass(settings.activeClass)) return;
                
                $navItems.removeClass(settings.activeClass);
                $link.addClass(settings.activeClass);
                
                if (settings.animation === 'fade') {
                    $panels.fadeOut(settings.speed);
                    $target.fadeIn(settings.speed);
                } else if (settings.animation === 'slide') {
                    $panels.slideUp(settings.speed);
                    $target.slideDown(settings.speed);
                } else {
                    $panels.hide();
                    $target.show();
                }
            });
            
            // Responsive behavior
            if (settings.responsive) {
                $(window).on('resize', function() {
                    if ($(window).width() <= settings.breakpoint) {
                        $tabs.addClass('tabs-accordion');
                    } else {
                        $tabs.removeClass('tabs-accordion');
                    }
                }).trigger('resize');
            }
        });
    };
    
})(jQuery);</code></pre>
                                    </div>

                                    <div class="code-example">
                                        <h4>Using the Plugins</h4>
                                        <pre><code class="language-javascript">// Initialize with options
$('.my-accordion').wpAccordion({
    speed: 500,
    closeOthers: false,
    callback: function($trigger, $content) {
        console.log('Accordion toggled');
    }
});

// Access plugin methods
const accordion = $('.my-accordion').data('wpAccordion');
accordion.open(2); // Open third item
accordion.closeAll(); // Close all items

// Initialize tabs
$('.my-tabs').wpTabs({
    animation: 'slide',
    speed: 400,
    breakpoint: 640
});</code></pre>
                                    </div>
                                </div>
                            </section>

                            <!-- Migration Guide -->
                            <section>
                                <div class="migration-guide">
                                    <h3>Migrating from jQuery to Vanilla JavaScript</h3>
                                    
                                    <div class="method-comparison">
                                        <table>
                                            <thead>
                                                <tr>
                                                    <th>jQuery</th>
                                                    <th>Vanilla JavaScript</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td><code>$(selector)</code></td>
                                                    <td><code>document.querySelector(selector)</code></td>
                                                </tr>
                                                <tr>
                                                    <td><code>$(selector).each()</code></td>
                                                    <td><code>document.querySelectorAll(selector).forEach()</code></td>
                                                </tr>
                                                <tr>
                                                    <td><code>$(el).addClass('class')</code></td>
                                                    <td><code>el.classList.add('class')</code></td>
                                                </tr>
                                                <tr>
                                                    <td><code>$(el).removeClass('class')</code></td>
                                                    <td><code>el.classList.remove('class')</code></td>
                                                </tr>
                                                <tr>
                                                    <td><code>$(el).toggleClass('class')</code></td>
                                                    <td><code>el.classList.toggle('class')</code></td>
                                                </tr>
                                                <tr>
                                                    <td><code>$(el).hasClass('class')</code></td>
                                                    <td><code>el.classList.contains('class')</code></td>
                                                </tr>
                                                <tr>
                                                    <td><code>$(el).attr('attr', 'value')</code></td>
                                                    <td><code>el.setAttribute('attr', 'value')</code></td>
                                                </tr>
                                                <tr>
                                                    <td><code>$(el).text('text')</code></td>
                                                    <td><code>el.textContent = 'text'</code></td>
                                                </tr>
                                                <tr>
                                                    <td><code>$(el).html('html')</code></td>
                                                    <td><code>el.innerHTML = 'html'</code></td>
                                                </tr>
                                                <tr>
                                                    <td><code>$(el).on('click', fn)</code></td>
                                                    <td><code>el.addEventListener('click', fn)</code></td>
                                                </tr>
                                                <tr>
                                                    <td><code>$(el).show()</code></td>
                                                    <td><code>el.style.display = 'block'</code></td>
                                                </tr>
                                                <tr>
                                                    <td><code>$(el).hide()</code></td>
                                                    <td><code>el.style.display = 'none'</code></td>
                                                </tr>
                                                <tr>
                                                    <td><code>$.ajax()</code></td>
                                                    <td><code>fetch()</code></td>
                                                </tr>
                                                <tr>
                                                    <td><code>$(document).ready()</code></td>
                                                    <td><code>DOMContentLoaded event</code></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                    <div class="code-example">
                                        <h4>Migration Example</h4>
                                        <pre><code class="language-javascript">// jQuery Version
$(document).ready(function() {
    $('.button').on('click', function() {
        $(this).toggleClass('active');
        $('.content').slideToggle();
    });
    
    $.ajax({
        url: '/api/data',
        method: 'GET',
        success: function(data) {
            $('#result').html(data);
        }
    });
});

// Vanilla JavaScript Version
document.addEventListener('DOMContentLoaded', function() {
    const buttons = document.querySelectorAll('.button');
    
    buttons.forEach(button => {
        button.addEventListener('click', function() {
            this.classList.toggle('active');
            
            const content = document.querySelector('.content');
            // For slide toggle, use CSS transitions
            content.classList.toggle('is-visible');
        });
    });
    
    fetch('/api/data')
        .then(response => response.text())
        .then(data => {
            document.getElementById('result').innerHTML = data;
        })
        .catch(error => console.error('Error:', error));
});</code></pre>
                                    </div>
                                </div>
                            </section>

                            <!-- Common Issues -->
                            <section>
                                <h2>Common jQuery Issues in WordPress</h2>
                                
                                <div class="code-example">
                                    <h4>Troubleshooting jQuery Problems</h4>
                                    <pre><code class="language-javascript">// Issue 1: $ is not defined
// Solution: Use proper no-conflict wrapper
(function($) {
    // Your code here
})(jQuery);

// Issue 2: Code runs before DOM is ready
// Solution: Use document ready
jQuery(document).ready(function($) {
    // DOM is ready
});

// Issue 3: Events not working on dynamic content
// Solution: Use event delegation
$(document).on('click', '.dynamic-element', function() {
    // This works for elements added later
});

// Issue 4: jQuery version conflicts
// Solution: Check version and use appropriate methods
if (typeof jQuery !== 'undefined') {
    console.log('jQuery version:', jQuery.fn.jquery);
    
    // Check for specific version
    if (jQuery.fn.jquery.match(/^3\./)) {
        // jQuery 3.x specific code
    }
}

// Issue 5: Multiple jQuery versions loaded
// Solution: Use specific version namespace
const $j = jQuery.noConflict();
$j(document).ready(function() {
    // Use $j instead of $ or jQuery
});

// Debug helper
window.jQueryDebug = function() {
    console.log('jQuery loaded:', typeof jQuery !== 'undefined');
    console.log('$ defined:', typeof $ !== 'undefined');
    if (typeof jQuery !== 'undefined') {
        console.log('jQuery version:', jQuery.fn.jquery);
        console.log('jQuery plugins:', Object.keys(jQuery.fn).length);
    }
};</code></pre>
                                </div>

                                <div class="tip-box">
                                    Use browser console to check if jQuery is loaded: <code>console.log(jQuery.fn.jquery)</code> will show the version if jQuery is available.
                                </div>
                            </section>

                            <!-- Best Practices -->
                            <section>
                                <h2>Best Practices</h2>
                                
                                <div class="best-practice">
                                    <h4>jQuery Best Practices in WordPress</h4>
                                    <ul>
                                        <li><strong>Always use no-conflict mode:</strong> Wrap code in proper closure</li>
                                        <li><strong>Use WordPress's jQuery:</strong> Don't load external versions unless necessary</li>
                                        <li><strong>Cache jQuery objects:</strong> Store selections in variables</li>
                                        <li><strong>Chain methods:</strong> Take advantage of jQuery's chaining</li>
                                        <li><strong>Use event delegation:</strong> For dynamic content</li>
                                        <li><strong>Minimize DOM manipulation:</strong> Batch operations when possible</li>
                                        <li><strong>Check element existence:</strong> Before applying operations</li>
                                        <li><strong>Use data attributes:</strong> For storing data on elements</li>
                                        <li><strong>Consider vanilla JS:</strong> For simple operations</li>
                                        <li><strong>Test across versions:</strong> Ensure compatibility</li>
                                    </ul>
                                </div>

                                <div class="warning-box">
                                    jQuery may be removed from WordPress core in the future. Consider using vanilla JavaScript for new projects and gradually migrating existing jQuery code.
                                </div>
                            </section>

                            <!-- Practice Exercise -->
                            <section>
                                <h2>Practice Exercise</h2>
                                <div class="alert alert-success">
                                    <div class="alert-icon">üíª</div>
                                    <div class="alert-content">
                                        <div class="alert-title">Build jQuery Components</div>
                                        <div class="alert-message">
                                            <p>Create jQuery-powered theme features:</p>
                                            <ol>
                                                <li>Implement jQuery in no-conflict mode</li>
                                                <li>Create a custom accordion plugin</li>
                                                <li>Build AJAX comment submission</li>
                                                <li>Implement smooth scrolling navigation</li>
                                                <li>Create image gallery with lightbox</li>
                                                <li>Build form validation system</li>
                                                <li>Add infinite scroll functionality</li>
                                                <li>Create custom dropdown menus</li>
                                                <li>Implement sticky header on scroll</li>
                                                <li>Migrate one component to vanilla JS</li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <!-- Resources -->
                            <section class="resources">
                                <h2>Additional Resources</h2>
                                <ul>
                                    <li><a href="https://jquery.com/" target="_blank">jQuery Official Documentation</a></li>
                                    <li><a href="https://learn.jquery.com/" target="_blank">jQuery Learning Center</a></li>
                                    <li><a href="https://developer.wordpress.org/reference/functions/wp_enqueue_script/" target="_blank">WordPress Script Enqueuing</a></li>
                                    <li><a href="https://youmightnotneedjquery.com/" target="_blank">You Might Not Need jQuery</a></li>
                                    <li><a href="https://api.jquery.com/" target="_blank">jQuery API Documentation</a></li>
                                    <li><a href="https://jqueryui.com/" target="_blank">jQuery UI Components</a></li>
                                </ul>
                            </section>
                        </div>

                        <!-- Lesson Navigation -->
                        <div class="lesson-navigation">
                            <a href="/05module/javascript_in_themes.html" class="lesson-nav-button prev">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z"/>
                                </svg>
                                <span>
                                    <small>Previous</small><br>
                                    JavaScript in WordPress Themes
                                </span>
                            </a>
                            
                            <button class="complete-lesson-btn">
                                Mark as Complete
                            </button>
                            
                            <a href="/05module/third_party_libraries.html" class="lesson-nav-button next">
                                <span>
                                    <small>Next</small><br>
                                    Using Third-party Libraries
                                </span>
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"/>
                                </svg>
                            </a>
                        </div>
                    </article>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="site-footer" role="contentinfo">
            <div class="footer-container">
                <div class="footer-content">
                    <div class="footer-section footer-about">
                        <h3>PHP WordPress Development</h3>
                        <p>Complete Web Development Course</p>
                    </div>
                    
                    <div class="footer-section">
                        <h4>Quick Links</h4>
                        <ul class="footer-links">
                            <li><a href="/">Home</a></li>
                            <li><a href="/module5.html">Module 5</a></li>
                            <li><a href="/resources.html">Resources</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-section">
                        <h4>Support</h4>
                        <ul class="footer-links">
                            <li><a href="/about.html">About</a></li>
                            <li><a href="/contact.html">Contact</a></li>
                        </ul>
                    </div>
                </div>
                
                <div class="footer-bottom">
                    <p>&copy; 2024 PHP WordPress Course. All rights reserved.</p>
                    <p>This course material is for educational purposes only.</p>
                </div>
            </div>
        </footer>
    </div>
    
    <!-- JavaScript -->
    <script src="/assets/js/prism.js"></script>
    <script src="/assets/js/main.js"></script>
    <script src="/assets/js/sidebar-toggle.js"></script>
    <script src="/assets/js/progress-tracker.js"></script>
    <script src="/assets/js/search.js"></script>
    <script src="/assets/js/theme-toggle.js"></script>
</body>
</html>