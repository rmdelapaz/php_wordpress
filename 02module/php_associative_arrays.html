<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PHP Associative Arrays: Key-Value Data Management</title>
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="icon" href="/favicon.png">
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
      mermaid.initialize({ startOnLoad: true });
    </script>
</head>
<body>
    <header>
        <h1>PHP Associative Arrays: Key-Value Data Management</h1>
        <p><a href="index.html">← Back to Syllabus</a> | <a href="module2.html">← Module 2 Overview</a></p>
    </header>
    
    <main>
        <section class="introduction">
            <h2>Introduction to Associative Arrays</h2>
            <p>Welcome to our session on PHP Associative Arrays! Today, we'll explore a powerful and flexible data structure that forms the backbone of many PHP applications, especially in WordPress development. In our previous session, we discussed indexed arrays, which use numeric indices to access values. Now, we'll dive into associative arrays, which use named keys instead of numeric indices.</p>
            
            <p>Think of associative arrays as a dictionary or a phonebook. Rather than looking up a word by its page number, you look it up by its name. Similarly, in associative arrays, you access data by meaningful keys rather than arbitrary numbers.</p>
        </section>

        <section class="what_are_associative_arrays">
            <h2>What Are Associative Arrays?</h2>
            
            <p>An associative array is a collection of key-value pairs, where each value is associated with a specific key. Unlike indexed arrays where keys are integers starting from 0, associative array keys are strings that represent the data they contain.</p>
            
            <div class="visualization">
                <h3>Visual Representation of an Associative Array</h3>
                <svg viewBox="0 0 600 200" style="width: 100%; max-width: 600px;">
                    <!-- Container -->
                    <rect x="50" y="20" width="500" height="160" fill="#f0f0f0" stroke="#333" stroke-width="2"/>
                    
                    <!-- Keys -->
                    <rect x="50" y="20" width="200" height="40" fill="#e0e7ff" stroke="#333" stroke-width="2"/>
                    <rect x="50" y="60" width="200" height="40" fill="#e0e7ff" stroke="#333" stroke-width="2"/>
                    <rect x="50" y="100" width="200" height="40" fill="#e0e7ff" stroke="#333" stroke-width="2"/>
                    <rect x="50" y="140" width="200" height="40" fill="#e0e7ff" stroke="#333" stroke-width="2"/>
                    
                    <!-- Values -->
                    <rect x="250" y="20" width="300" height="40" fill="#fff" stroke="#333" stroke-width="2"/>
                    <rect x="250" y="60" width="300" height="40" fill="#fff" stroke="#333" stroke-width="2"/>
                    <rect x="250" y="100" width="300" height="40" fill="#fff" stroke="#333" stroke-width="2"/>
                    <rect x="250" y="140" width="300" height="40" fill="#fff" stroke="#333" stroke-width="2"/>
                    
                    <!-- Text -->
                    <text x="150" y="45" text-anchor="middle" font-size="16" font-weight="bold">"name"</text>
                    <text x="150" y="85" text-anchor="middle" font-size="16" font-weight="bold">"email"</text>
                    <text x="150" y="125" text-anchor="middle" font-size="16" font-weight="bold">"role"</text>
                    <text x="150" y="165" text-anchor="middle" font-size="16" font-weight="bold">"active"</text>
                    
                    <text x="400" y="45" text-anchor="middle" font-size="16">"John Doe"</text>
                    <text x="400" y="85" text-anchor="middle" font-size="16">"john@example.com"</text>
                    <text x="400" y="125" text-anchor="middle" font-size="16">"Administrator"</text>
                    <text x="400" y="165" text-anchor="middle" font-size="16">true</text>
                </svg>
            </div>
            
            <div class="key_points">
                <h3>Key Characteristics of PHP Associative Arrays</h3>
                <ul>
                    <li><strong>Readable keys:</strong> Keys are meaningful strings that describe the data</li>
                    <li><strong>No automatic indexing:</strong> You must explicitly specify key names</li>
                    <li><strong>Unordered collection:</strong> Elements don't have a guaranteed order (unlike indexed arrays)</li>
                    <li><strong>Mixed data types:</strong> Like indexed arrays, values can be of any type</li>
                    <li><strong>Unique keys:</strong> Each key can appear only once in an array (duplicates overwrite previous values)</li>
                </ul>
            </div>
        </section>

        <section class="creating_associative_arrays">
            <h2>Creating Associative Arrays in PHP</h2>
            
            <p>PHP provides several ways to create associative arrays. Let's explore each method with practical examples:</p>
            
            <div class="method">
                <h3>Method 1: Using the array() Function</h3>
                <pre><code>// Creating an associative array of user information
$user = array(
    "name" => "John Doe",
    "email" => "john@example.com",
    "role" => "Administrator",
    "active" => true
);

// Output the array
echo "&lt;pre&gt;";
print_r($user);
echo "&lt;/pre&gt;";</code></pre>
                
                <p>Output:</p>
                <pre>Array
(
    [name] => John Doe
    [email] => john@example.com
    [role] => Administrator
    [active] => 1
)</pre>
            </div>
            
            <div class="method">
                <h3>Method 2: Using Short Array Syntax (PHP 5.4+)</h3>
                <pre><code>// Creating an associative array with product information
$product = [
    "id" => "PRD-001",
    "name" => "WordPress Theme Pro",
    "price" => 59.99,
    "in_stock" => true,
    "categories" => ["themes", "premium", "responsive"]
];

// Output the array
echo "&lt;pre&gt;";
print_r($product);
echo "&lt;/pre&gt;";</code></pre>
                
                <p>Output:</p>
                <pre>Array
(
    [id] => PRD-001
    [name] => WordPress Theme Pro
    [price] => 59.99
    [in_stock] => 1
    [categories] => Array
        (
            [0] => themes
            [1] => premium
            [2] => responsive
        )
)</pre>
            </div>
            
            <div class="method">
                <h3>Method 3: Creating Empty Arrays and Adding Elements</h3>
                <pre><code>// Creating an empty array
$settings = [];

// Adding elements to the array
$settings["theme"] = "dark";
$settings["sidebar"] = "right";
$settings["notifications"] = true;
$settings["language"] = "en_US";

// Output the array
echo "&lt;pre&gt;";
print_r($settings);
echo "&lt;/pre&gt;";</code></pre>
                
                <p>Output:</p>
                <pre>Array
(
    [theme] => dark
    [sidebar] => right
    [notifications] => 1
    [language] => en_US
)</pre>
            </div>
            
            <div class="method">
                <h3>Method 4: Mixed Indexed and Associative Arrays</h3>
                <p>PHP arrays can contain both numeric indices and string keys in the same array:</p>
                <pre><code>// Creating a mixed array
$mixedArray = [
    "name" => "Mixed Array Example",
    42,
    "type" => "demonstration",
    "hello world",
    "values" => [1, 2, 3]
];

// Output the array
echo "&lt;pre&gt;";
print_r($mixedArray);
echo "&lt;/pre&gt;";</code></pre>
                
                <p>Output:</p>
                <pre>Array
(
    [name] => Mixed Array Example
    [0] => 42
    [type] => demonstration
    [1] => hello world
    [values] => Array
        (
            [0] => 1
            [1] => 2
            [2] => 3
        )
)</pre>
                
                <p>Notice that elements without explicit keys are assigned sequential numeric indices, while elements with explicit keys use those keys. This flexibility makes PHP arrays extremely versatile.</p>
            </div>
        </section>

        <section class="accessing_array_elements">
            <h2>Accessing Associative Array Elements</h2>
            
            <p>Once you've created an associative array, you need to access its elements. Unlike indexed arrays where you use numeric indices, you access associative array elements using string keys.</p>
            
            <div class="method">
                <h3>Accessing Individual Elements</h3>
                <pre><code>$user = [
    "name" => "John Doe",
    "email" => "john@example.com",
    "role" => "Administrator",
    "active" => true
];

// Accessing individual elements
echo "Name: " . $user["name"] . "&lt;br&gt;";  // Outputs: Name: John Doe
echo "Email: " . $user["email"] . "&lt;br&gt;";  // Outputs: Email: john@example.com

// Modifying an element
$user["role"] = "Editor";
echo "Updated role: " . $user["role"] . "&lt;br&gt;";  // Outputs: Updated role: Editor

// Adding a new element
$user["last_login"] = "2025-04-25";
echo "Last login: " . $user["last_login"] . "&lt;br&gt;";  // Outputs: Last login: 2025-04-25</code></pre>
            </div>
            
            <div class="method">
                <h3>Checking for Key Existence</h3>
                <p>Before accessing a key, it's good practice to check if it exists:</p>
                <pre><code>// Check if a key exists using isset()
if (isset($user["name"])) {
    echo "User name is: " . $user["name"] . "&lt;br&gt;";
} else {
    echo "User name is not set.&lt;br&gt;";
}

// Check if a key exists using array_key_exists()
if (array_key_exists("phone", $user)) {
    echo "Phone: " . $user["phone"] . "&lt;br&gt;";
} else {
    echo "Phone number not provided.&lt;br&gt;";
}

// The difference between isset() and array_key_exists() with NULL values
$user["phone"] = null;

echo "Using isset():&lt;br&gt;";
if (isset($user["phone"])) {
    echo "Phone is set.&lt;br&gt;";
} else {
    echo "Phone is not set.&lt;br&gt;";  // This will be output because isset() returns false for NULL values
}

echo "Using array_key_exists():&lt;br&gt;";
if (array_key_exists("phone", $user)) {
    echo "Phone key exists.&lt;br&gt;";  // This will be output because the key exists, even though the value is NULL
} else {
    echo "Phone key does not exist.&lt;br&gt;";
}</code></pre>
            </div>
            
            <div class="method">
                <h3>Using Default Values with Null Coalescing Operator (PHP 7+)</h3>
                <pre><code>// Using null coalescing operator for default values
$name = $user["name"] ?? "Guest";
$phone = $user["phone"] ?? "Not provided";
$address = $user["address"] ?? "Address not available";

echo "Name: " . $name . "&lt;br&gt;";  // Outputs: Name: John Doe
echo "Phone: " . $phone . "&lt;br&gt;";  // Outputs: Phone: Not provided
echo "Address: " . $address . "&lt;br&gt;";  // Outputs: Address: Address not available</code></pre>
            </div>
        </section>

        <section class="array_operations">
            <h2>Associative Array Operations and Manipulations</h2>
            
            <div class="method">
                <h3>Adding and Updating Elements</h3>
                <pre><code>$blogPost = [
    "title" => "Getting Started with PHP",
    "author" => "Jane Smith",
    "date" => "2025-04-20"
];

// Add a new element
$blogPost["comments"] = 5;

// Update an existing element
$blogPost["title"] = "Getting Started with PHP Associative Arrays";

// Add multiple elements at once (using array_merge)
$additionalInfo = [
    "category" => "Programming",
    "tags" => ["PHP", "Arrays", "Beginner"],
    "views" => 120
];

$blogPost = array_merge($blogPost, $additionalInfo);

echo "&lt;pre&gt;";
print_r($blogPost);
echo "&lt;/pre&gt;";</code></pre>
            </div>
            
            <div class="method">
                <h3>Removing Elements</h3>
                <pre><code>$settings = [
    "theme" => "dark",
    "sidebar" => "right",
    "notifications" => true,
    "language" => "en_US",
    "beta_features" => true,
    "old_setting" => "deprecated"
];

// Remove a single element
unset($settings["old_setting"]);

// Remove multiple elements
unset($settings["beta_features"], $settings["notifications"]);

echo "&lt;pre&gt;";
print_r($settings);
echo "&lt;/pre&gt;";</code></pre>
            </div>
            
            <div class="method">
                <h3>Merging Associative Arrays</h3>
                <pre><code>$defaultSettings = [
    "theme" => "light",
    "sidebar" => "left",
    "notifications" => false,
    "language" => "en_US",
    "font_size" => "medium"
];

$userSettings = [
    "theme" => "dark",
    "notifications" => true,
    "auto_save" => true
];

// Merge with user settings overriding defaults
$activeSettings = array_merge($defaultSettings, $userSettings);

echo "&lt;h4&gt;Active Settings (user overrides defaults):&lt;/h4&gt;";
echo "&lt;pre&gt;";
print_r($activeSettings);
echo "&lt;/pre&gt;";

// Merge with defaults overriding user settings (rarely used)
$forcedDefaults = array_merge($userSettings, $defaultSettings);

echo "&lt;h4&gt;Forced Default Settings (defaults override user):&lt;/h4&gt;";
echo "&lt;pre&gt;";
print_r($forcedDefaults);
echo "&lt;/pre&gt;";</code></pre>
            </div>
            
            <div class="method">
                <h3>Using the + Operator for Array Union</h3>
                <pre><code>$defaultSettings = [
    "theme" => "light",
    "sidebar" => "left",
    "notifications" => false,
    "language" => "en_US",
    "font_size" => "medium"
];

$userSettings = [
    "theme" => "dark",
    "notifications" => true,
    "auto_save" => true
];

// Using + operator (only adds keys that don't exist)
$mergedSettings = $userSettings + $defaultSettings;

echo "&lt;h4&gt;Settings with + operator (only adds missing keys):&lt;/h4&gt;";
echo "&lt;pre&gt;";
print_r($mergedSettings);
echo "&lt;/pre&gt;";</code></pre>
                
                <p>The <code>+</code> operator only adds elements from the right array if the key doesn't already exist in the left array. This is different from <code>array_merge()</code>, which replaces values for existing keys.</p>
            </div>
        </section>

        <section class="iteration">
            <h2>Iterating Through Associative Arrays</h2>
            
            <p>Processing each element in an associative array is a common operation. PHP provides several ways to iterate through associative arrays:</p>
            
            <div class="mermaid">
            graph TD
                A[PHP Associative Array Iteration] --> B[Foreach Loop]
                A --> C[While Loop with each/key]
                A --> D[Array Functions]
                
                B --> B1[Most common method]
                B --> B2[Access to keys and values]
                B --> B3[Clean, readable syntax]
                
                C --> C1[Traditional approach]
                C --> C2[Less commonly used now]
                
                D --> D1[array_walk]
                D --> D2[array_map with keys]
                D --> D3[Functional approach]
            </diagram>
            </div>
            
            <div class="method">
                <h3>Using Foreach Loops (Recommended)</h3>
                <pre><code>$user = [
    "name" => "John Doe",
    "email" => "john@example.com",
    "role" => "Administrator",
    "active" => true
];

// Simple foreach loop (values only)
echo "&lt;h4&gt;User Information:&lt;/h4&gt;";
echo "&lt;ul&gt;";
foreach ($user as $value) {
    echo "&lt;li&gt;" . $value . "&lt;/li&gt;";
}
echo "&lt;/ul&gt;";

// Foreach loop with key and value (most useful for associative arrays)
echo "&lt;h4&gt;User Information with Keys:&lt;/h4&gt;";
echo "&lt;ul&gt;";
foreach ($user as $key => $value) {
    // Convert boolean values to Yes/No for display
    if (is_bool($value)) {
        $value = $value ? 'Yes' : 'No';
    }
    echo "&lt;li&gt;&lt;strong&gt;" . ucfirst($key) . ":&lt;/strong&gt; " . $value . "&lt;/li&gt;";
}
echo "&lt;/ul&gt;";</code></pre>
            </div>
            
            <div class="method">
                <h3>Using While Loop with each() (Deprecated in PHP 7.2+)</h3>
                <pre><code>/* 
 * Note: This method is deprecated in PHP 7.2+ and removed in PHP 8.0
 * It's shown here for historical context and legacy code understanding
 */

$user = [
    "name" => "John Doe",
    "email" => "john@example.com",
    "role" => "Administrator"
];

// Reset the array pointer to the beginning
reset($user);

echo "&lt;h4&gt;User Information (legacy each() method):&lt;/h4&gt;";
echo "&lt;ul&gt;";
// This code will work in PHP 7.1 and earlier
while (list($key, $value) = each($user)) {
    echo "&lt;li&gt;&lt;strong&gt;" . ucfirst($key) . ":&lt;/strong&gt; " . $value . "&lt;/li&gt;";
}
echo "&lt;/ul&gt;";

// Modern equivalent using foreach
reset($user); // Reset the array pointer again
echo "&lt;h4&gt;User Information (modern foreach equivalent):&lt;/h4&gt;";
echo "&lt;ul&gt;";
foreach ($user as $key => $value) {
    echo "&lt;li&gt;&lt;strong&gt;" . ucfirst($key) . ":&lt;/strong&gt; " . $value . "&lt;/li&gt;";
}
echo "&lt;/ul&gt;";</code></pre>
            </div>
            
            <div class="method">
                <h3>Using Array Functions for Iteration</h3>
                <pre><code>$product = [
    "id" => "PRD-001",
    "name" => "WordPress Theme Pro",
    "price" => 59.99,
    "in_stock" => true
];

// Using array_walk
echo "&lt;h4&gt;Product Details using array_walk:&lt;/h4&gt;";
echo "&lt;ul&gt;";
array_walk($product, function($value, $key) {
    if (is_bool($value)) {
        $value = $value ? 'Yes' : 'No';
    }
    echo "&lt;li&gt;&lt;strong&gt;" . ucfirst($key) . ":&lt;/strong&gt; " . $value . "&lt;/li&gt;";
});
echo "&lt;/ul&gt;";

// Using array_map with array_keys to transform an associative array
$keys = array_keys($product);
$displayValues = array_map(function($key) use ($product) {
    $value = $product[$key];
    if (is_bool($value)) {
        return ucfirst($key) . ": " . ($value ? 'In Stock' : 'Out of Stock');
    }
    return ucfirst($key) . ": " . $value;
}, $keys);

echo "&lt;h4&gt;Product Details using array_map:&lt;/h4&gt;";
echo "&lt;ul&gt;";
foreach ($displayValues as $item) {
    echo "&lt;li&gt;" . $item . "&lt;/li&gt;";
}
echo "&lt;/ul&gt;";</code></pre>
            </div>
        </section>

        <section class="array_functions">
            <h2>Essential Functions for Associative Arrays</h2>
            
            <p>PHP provides several built-in functions specifically designed for working with associative arrays:</p>
            
            <div class="function_category">
                <h3>Working with Keys and Values</h3>
                <div class="mermaid">
                graph TD
                    A[Key/Value Functions] --> B[array_keys]
                    A --> C[array_values]
                    A --> D[array_key_exists]
                    A --> E[key_exists]
                    A --> F[array_key_first/array_key_last]
                    
                    B[array_keys] --> B1["Returns all keys or keys matching value"]
                    C[array_values] --> C1["Returns all values as indexed array"]
                    D[array_key_exists] --> D1["Checks if key exists in array"]
                    E[key_exists] --> E1["Alias of array_key_exists"]
                    F[array_key_first/last] --> F1["Returns first/last key (PHP 7.3+)"]
                </div>
                
                <div class="example">
                    <h4>Example: Working with Keys and Values</h4>
                    <pre><code>$person = [
    "name" => "Sarah Johnson",
    "occupation" => "Web Developer",
    "skills" => ["PHP", "WordPress", "JavaScript"],
    "years_experience" => 5,
    "freelancer" => true
];

// Get all keys
$keys = array_keys($person);
echo "Keys: " . implode(", ", $keys) . "&lt;br&gt;&lt;br&gt;";

// Get all values (as indexed array)
$values = array_values($person);
echo "Values: &lt;pre&gt;";
print_r($values);
echo "&lt;/pre&gt;";

// Check if key exists
if (array_key_exists("skills", $person)) {
    echo "Skills: " . implode(", ", $person["skills"]) . "&lt;br&gt;";
}

// PHP 7.3+ features
if (function_exists('array_key_first')) {
    $firstKey = array_key_first($person);
    $lastKey = array_key_last($person);
    echo "First key: " . $firstKey . ", Value: " . $person[$firstKey] . "&lt;br&gt;";
    echo "Last key: " . $lastKey . ", Value: " . ($person[$lastKey] ? 'Yes' : 'No') . "&lt;br&gt;";
}</code></pre>
                </div>
            </div>
            
            <div class="function_category">
                <h3>Filtering and Transforming Associative Arrays</h3>
                <pre><code>$userData = [
    "username" => "developer123",
    "password" => "hashed_password_here",
    "email" => "dev@example.com",
    "first_name" => "Alex",
    "last_name" => "Morgan",
    "api_key" => "sk_34a5d54d9f8e2",
    "is_admin" => false,
    "last_login" => "2025-04-22"
];

// Filter sensitive data (create a "safe" array for display)
$safeUserData = array_filter($userData, function($key) {
    // List of keys that are safe to display
    $safeKeys = ['username', 'email', 'first_name', 'last_name', 'is_admin', 'last_login'];
    return in_array($key, $safeKeys);
}, ARRAY_FILTER_USE_KEY);

echo "&lt;h4&gt;Safe User Data for Display:&lt;/h4&gt;";
echo "&lt;pre&gt;";
print_r($safeUserData);
echo "&lt;/pre&gt;";

// Transform keys (e.g., for an API response)
$transformedData = [];
array_walk($userData, function($value, $key) use (&$transformedData) {
    // Convert snake_case keys to camelCase
    $camelKey = lcfirst(str_replace('_', '', ucwords($key, '_')));
    $transformedData[$camelKey] = $value;
});

echo "&lt;h4&gt;Transformed Data (camelCase keys):&lt;/h4&gt;";
echo "&lt;pre&gt;";
print_r($transformedData);
echo "&lt;/pre&gt;";</code></pre>
            </div>
            
            <div class="function_category">
                <h3>Sorting Associative Arrays</h3>
                <pre><code>$products = [
    "wp_theme" => [
        "name" => "Pro WordPress Theme",
        "price" => 59.99,
        "sales" => 253
    ],
    "plugin_seo" => [
        "name" => "SEO Booster Plugin",
        "price" => 29.99,
        "sales" => 842
    ],
    "plugin_cache" => [
        "name" => "Cache Optimizer",
        "price" => 19.99,
        "sales" => 1205
    ],
    "ebook_wp" => [
        "name" => "WordPress Development Guide",
        "price" => 14.99,
        "sales" => 567
    ]
];

// Sort by value (here we'll sort by price)
// Create a copy for each sort type
$byPrice = $products;

// Sort by price (low to high)
uasort($byPrice, function($a, $b) {
    return $a['price'] <=> $b['price']; // PHP 7+ spaceship operator
});

echo "&lt;h4&gt;Products by Price (Low to High):&lt;/h4&gt;";
echo "&lt;pre&gt;";
print_r($byPrice);
echo "&lt;/pre&gt;";

// Sort by sales (high to low)
$bySales = $products;
uasort($bySales, function($a, $b) {
    return $b['sales'] <=> $a['sales']; // Note b <=> a for descending order
});

echo "&lt;h4&gt;Products by Sales (High to Low):&lt;/h4&gt;";
echo "&lt;pre&gt;";
print_r($bySales);
echo "&lt;/pre&gt;";

// Sort by keys (alphabetical)
$productsByKey = $products;
ksort($productsByKey);

echo "&lt;h4&gt;Products by Key (Alphabetical):&lt;/h4&gt;";
echo "&lt;pre&gt;";
print_r($productsByKey);
echo "&lt;/pre&gt;";</code></pre>
            </div>
        </section>

        <section class="real_world_applications">
            <h2>Real-World Applications in WordPress</h2>
            
            <div class="example">
                <h3>Example 1: WordPress Post Meta</h3>
                <p>WordPress stores post meta as key-value pairs, which PHP processes as associative arrays:</p>
                <pre><code>// WordPress-like example for handling post meta
function getPostMeta($postId) {
    // In a real WordPress site, this would use get_post_meta()
    // This is a simplified example
    return [
        "_thumbnail_id" => 125,
        "_wp_page_template" => "templates/full-width.php",
        "seo_title" => "PHP Arrays Tutorial | Learn WordPress Development",
        "seo_description" => "Master PHP associative arrays and enhance your WordPress development skills.",
        "views_count" => 1250,
        "featured" => true
    ];
}

$postId = 42; // Example post ID
$postMeta = getPostMeta($postId);

echo "&lt;div class='post-meta-display'&gt;";
echo "&lt;h4&gt;Post Metadata&lt;/h4&gt;";
echo "&lt;ul&gt;";

// Display only public meta (keys not starting with _)
foreach ($postMeta as $key => $value) {
    if (strpos($key, '_') !== 0) { // Skip private meta fields (starting with _)
        // Format the display of the meta key
        $displayKey = str_replace('_', ' ', $key);
        $displayKey = ucwords($displayKey);
        
        // Format the value display based on type
        if (is_bool($value)) {
            $displayValue = $value ? 'Yes' : 'No';
        } else {
            $displayValue = $value;
        }
        
        echo "&lt;li&gt;&lt;strong&gt;{$displayKey}:&lt;/strong&gt; {$displayValue}&lt;/li&gt;";
    }
}
echo "&lt;/ul&gt;";
echo "&lt;/div&gt;";</code></pre>
            </div>
            
            <div class="example">
                <h3>Example 2: WordPress Options</h3>
                <p>WordPress stores site options as associative arrays:</p>
                <pre><code>// WordPress-like example for theme/plugin options
function getThemeOptions() {
    // In a real WordPress site, this would use get_option()
    // This is a simplified example
    return [
        "theme_color" => "#3498db",
        "logo_url" => "/wp-content/uploads/2025/04/logo.png",
        "show_header" => true,
        "footer_text" => "© 2025 PHP WordPress Development",
        "social_links" => [
            "facebook" => "https://facebook.com/wpdevtraining",
            "twitter" => "https://twitter.com/wpdevtraining",
            "instagram" => "https://instagram.com/wpdevtraining"
        ],
        "sidebar_position" => "right",
        "custom_css" => ".header { padding: 20px; }"
    ];
}

$themeOptions = getThemeOptions();

// Using theme options to configure a page
echo "&lt;div class='theme-options-demo' style='color: {$themeOptions["theme_color"]};'&gt;";
echo "&lt;h4&gt;Theme Configuration&lt;/h4&gt;";

// Show header based on option
if ($themeOptions["show_header"]) {
    echo "&lt;div class='header'&gt;";
    echo "&lt;img src='{$themeOptions["logo_url"]}' alt='Logo' /&gt;";
    echo "&lt;/div&gt;";
}

// Display social links
echo "&lt;div class='social-links'&gt;";
foreach ($themeOptions["social_links"] as $platform => $url) {
    echo "&lt;a href='{$url}'&gt;{$platform}&lt;/a&gt; ";
}
echo "&lt;/div&gt;";

// Footer text
echo "&lt;div class='footer'&gt;{$themeOptions["footer_text"]}&lt;/div&gt;";
echo "&lt;/div&gt;";</code></pre>
            </div>
            
            <div class="example">
                <h3>Example 3: WordPress Query Arguments</h3>
                <p>WordPress functions like WP_Query use associative arrays for arguments:</p>
                <pre><code>// WordPress-like example for building query arguments
function buildPostQuery($categorySlug, $postsPerPage = 5, $featuredOnly = false) {
    $args = [
        "post_type" => "post",
        "posts_per_page" => $postsPerPage,
        "orderby" => "date",
        "order" => "DESC"
    ];
    
    // Add category constraint if provided
    if ($categorySlug) {
        $args["category_name"] = $categorySlug;
    }
    
    // Add featured filter if requested
    if ($featuredOnly) {
        $args["meta_query"] = [
            [
                "key" => "featured",
                "value" => "1",
                "compare" => "="
            ]
        ];
    }
    
    return $args;
}

// Build different query configurations
$allPosts = buildPostQuery(null);
$tutorialPosts = buildPostQuery("tutorials", 10);
$featuredPosts = buildPostQuery(null, 3, true);

// Display the query arguments
echo "&lt;h4&gt;Regular Posts Query:&lt;/h4&gt;";
echo "&lt;pre&gt;";
print_r($allPosts);
echo "&lt;/pre&gt;";

echo "&lt;h4&gt;Tutorial Posts Query:&lt;/h4&gt;";
echo "&lt;pre&gt;";
print_r($tutorialPosts);
echo "&lt;/pre&gt;";

echo "&lt;h4&gt;Featured Posts Query:&lt;/h4&gt;";
echo "&lt;pre&gt;";
print_r($featuredPosts);
echo "&lt;/pre&gt;";</code></pre>
            </div>
        </section>

        <section class="advanced_topics">
            <h2>Advanced Topics: Manipulating Complex Associative Arrays</h2>
            
            <div class="topic">
                <h3>Working with Multidimensional Arrays</h3>
                <p>WordPress often uses nested associative arrays for complex data:</p>
                <pre><code>// Example of a complex WordPress plugin settings structure
$pluginSettings = [
    "general" => [
        "enabled" => true,
        "debug_mode" => false,
        "cache_time" => 3600
    ],
    "display" => [
        "theme" => "modern",
        "show_author" => true,
        "show_date" => true,
        "thumbnail_size" => "medium"
    ],
    "advanced" => [
        "api_keys" => [
            "google" => "AIza123456789",
            "facebook" => "FB123456789",
            "twitter" => "TW123456789"
        ],
        "custom_css" => ".plugin-container { margin: 20px; }",
        "priorities" => [10, 20, 30]
    ]
];

// Accessing nested values
$cacheTime = $pluginSettings["general"]["cache_time"];
$googleApiKey = $pluginSettings["advanced"]["api_keys"]["google"];

echo "Cache Time: " . $cacheTime . " seconds&lt;br&gt;";
echo "Google API Key: " . $googleApiKey . "&lt;br&gt;&lt;br&gt;";

// Modifying nested values
$pluginSettings["display"]["thumbnail_size"] = "large";
$pluginSettings["advanced"]["api_keys"]["instagram"] = "IG123456789";

// Checking for nested keys safely
function getNestedValue($array, $path, $default = null) {
    // Split path into segments
    $segments = is_array($path) ? $path : explode('.', $path);
    
    // Reference to current position in the array
    $current = $array;
    
    // Traverse the path
    foreach ($segments as $segment) {
        if (!is_array($current) || !array_key_exists($segment, $current)) {
            return $default;
        }
        $current = $current[$segment];
    }
    
    return $current;
}

// Example usage
$facebookKey = getNestedValue($pluginSettings, 'advanced.api_keys.facebook', 'Not found');
$youtubeKey = getNestedValue($pluginSettings, 'advanced.api_keys.youtube', 'Not found');

echo "Facebook API Key: " . $facebookKey . "&lt;br&gt;";  // Should be found
echo "YouTube API Key: " . $youtubeKey . "&lt;br&gt;";    // Should show "Not found"</code></pre>
            </div>
            
            <div class="topic">
                <h3>Recursive Array Functions</h3>
                <p>Processing complex nested arrays often requires recursive functions:</p>
                <pre><code>// Example dataset: WordPress-like menu structure
$menuStructure = [
    [
        "title" => "Home",
        "url" => "/",
        "children" => []
    ],
    [
        "title" => "About",
        "url" => "/about",
        "children" => [
            [
                "title" => "Our Team",
                "url" => "/about/team",
                "children" => []
            ],
            [
                "title" => "History",
                "url" => "/about/history",
                "children" => []
            ]
        ]
    ],
    [
        "title" => "Services",
        "url" => "/services",
        "children" => [
            [
                "title" => "Web Development",
                "url" => "/services/web-development",
                "children" => [
                    [
                        "title" => "WordPress",
                        "url" => "/services/web-development/wordpress",
                        "children" => []
                    ],
                    [
                        "title" => "E-commerce",
                        "url" => "/services/web-development/ecommerce",
                        "children" => []
                    ]
                ]
            ],
            [
                "title" => "SEO",
                "url" => "/services/seo",
                "children" => []
            ]
        ]
    ],
    [
        "title" => "Contact",
        "url" => "/contact",
        "children" => []
    ]
];

// Recursive function to render a navigation menu
function renderMenu($items, $level = 0) {
    if (empty($items)) {
        return '';
    }
    
    $indent = str_repeat('  ', $level); // Indentation for demonstration
    $html = $indent . "&lt;ul class='menu level-{$level}'&gt;\n";
    
    foreach ($items as $item) {
        $html .= $indent . "  &lt;li&gt;&lt;a href='{$item['url']}'&gt;{$item['title']}&lt;/a&gt;";
        
        // Recursively render children
        if (!empty($item['children'])) {
            $html .= "\n" . renderMenu($item['children'], $level + 1) . $indent . "  ";
        }
        
        $html .= "&lt;/li&gt;\n";
    }
    
    $html .= $indent . "&lt;/ul&gt;\n";
    return $html;
}

// Render the menu
echo "&lt;h4&gt;Recursive Menu Rendering:&lt;/h4&gt;";
echo "&lt;pre&gt;";
echo htmlspecialchars(renderMenu($menuStructure));
echo "&lt;/pre&gt;";

// Recursive function to count all menu items
function countMenuItems($items) {
    $count = count($items);
    
    foreach ($items as $item) {
        if (!empty($item['children'])) {
            $count += countMenuItems($item['children']);
        }
    }
    
    return $count;
}

$totalItems = countMenuItems($menuStructure);
echo "Total menu items: " . $totalItems . "&lt;br&gt;";</code></pre>
            </div>
            
            <div class="topic">
                <h3>Array Serialization and JSON Conversion</h3>
                <p>WordPress often stores associative arrays as serialized data or JSON:</p>
                <pre><code>// WordPress plugin settings to store in the database
$pluginConfig = [
    "version" => "2.5.0",
    "activated" => true,
    "user_roles" => ["administrator", "editor"],
    "features" => [
        "social_sharing" => true,
        "comments" => true,
        "analytics" => false
    ],
    "style" => [
        "primary_color" => "#3498db",
        "secondary_color" => "#2ecc71",
        "font_size" => "16px"
    ]
];

// Traditional WordPress way: PHP serialization
$serialized = serialize($pluginConfig);
echo "&lt;h4&gt;Serialized Data (classic WordPress):&lt;/h4&gt;";
echo "&lt;pre&gt;";
echo htmlspecialchars($serialized);
echo "&lt;/pre&gt;";

// Modern approach: JSON
$json = json_encode($pluginConfig, JSON_PRETTY_PRINT);
echo "&lt;h4&gt;JSON Data (modern WordPress):&lt;/h4&gt;";
echo "&lt;pre&gt;";
echo htmlspecialchars($json);
echo "&lt;/pre&gt;";

// Retrieving and using the data
echo "&lt;h4&gt;Data Retrieval:&lt;/h4&gt;";

// From serialized data
$fromSerialized = unserialize($serialized);
echo "Plugin version (from serialized): " . $fromSerialized["version"] . "&lt;br&gt;";

// From JSON
$fromJson = json_decode($json, true); // true makes it return as associative array
echo "Plugin version (from JSON): " . $fromJson["version"] . "&lt;br&gt;";

// Converting between formats (useful for plugin migrations)
function convertSerializedToJson($serializedData) {
    $array = unserialize($serializedData);
    return json_encode($array);
}

$converted = convertSerializedToJson($serialized);
echo "&lt;h4&gt;Converted from Serialized to JSON:&lt;/h4&gt;";
echo "&lt;pre&gt;";
echo htmlspecialchars($converted);
echo "&lt;/pre&gt;";</code></pre>
            </div>
        </section>

        <section class="practical_exercise">
            <h2>Practical Exercise: Building a WordPress Settings Page</h2>
            
            <p>Let's apply what we've learned by creating a simplified version of a WordPress plugin settings page using associative arrays:</p>
            
            <pre><code>// Default plugin settings
$defaultSettings = [
    "general" => [
        "plugin_enabled" => true,
        "debug_mode" => false,
        "user_roles" => ["administrator"]
    ],
    "display" => [
        "theme" => "light",
        "show_title" => true,
        "show_date" => true,
        "items_per_page" => 10
    ],
    "advanced" => [
        "cache_enabled" => true,
        "cache_time" => 3600,
        "custom_css" => ""
    ]
];

// Simulated user-saved settings (normally from database)
$savedSettings = [
    "general" => [
        "plugin_enabled" => true,
        "user_roles" => ["administrator", "editor"]
    ],
    "display" => [
        "theme" => "dark",
        "items_per_page" => 5
    ],
    "advanced" => [
        "custom_css" => ".my-plugin { color: red; }"
    ]
];

// Merge the saved settings with defaults
function mergeSettings($defaults, $saved) {
    $merged = $defaults;
    
    foreach ($saved as $section => $options) {
        if (isset($merged[$section])) {
            foreach ($options as $key => $value) {
                $merged[$section][$key] = $value;
            }
        } else {
            $merged[$section] = $options;
        }
    }
    
    return $merged;
}

// Get the effective settings
$settings = mergeSettings($defaultSettings, $savedSettings);

// Function to render a settings form
function renderSettingsForm($settings) {
    $html = "&lt;form class='settings-form'&gt;\n";
    
    foreach ($settings as $section => $options) {
        $html .= "  &lt;div class='settings-section'&gt;\n";
        $html .= "    &lt;h3&gt;" . ucfirst($section) . " Settings&lt;/h3&gt;\n";
        
        foreach ($options as $option => $value) {
            $html .= "    &lt;div class='form-field'&gt;\n";
            $html .= "      &lt;label for='{$section}_{$option}'&gt;" . formatLabel($option) . "&lt;/label&gt;\n";
            
            // Render appropriate input based on value type
            if (is_bool($value)) {
                $checked = $value ? 'checked' : '';
                $html .= "      &lt;input type='checkbox' id='{$section}_{$option}' name='{$section}[{$option}]' {$checked}&gt;\n";
            } elseif (is_array($value)) {
                $html .= "      &lt;select id='{$section}_{$option}' name='{$section}[{$option}][]' multiple&gt;\n";
                $roles = ["administrator", "editor", "author", "contributor", "subscriber"];
                foreach ($roles as $role) {
                    $selected = in_array($role, $value) ? 'selected' : '';
                    $html .= "        &lt;option value='{$role}' {$selected}&gt;" . ucfirst($role) . "&lt;/option&gt;\n";
                }
                $html .= "      &lt;/select&gt;\n";
            } elseif (is_numeric($value)) {
                $html .= "      &lt;input type='number' id='{$section}_{$option}' name='{$section}[{$option}]' value='{$value}'&gt;\n";
            } elseif ($option === 'custom_css') {
                $html .= "      &lt;textarea id='{$section}_{$option}' name='{$section}[{$option}]' rows='5'&gt;{$value}&lt;/textarea&gt;\n";
            } else {
                $html .= "      &lt;input type='text' id='{$section}_{$option}' name='{$section}[{$option}]' value='{$value}'&gt;\n";
            }
            
            $html .= "    &lt;/div&gt;\n";
        }
        
        $html .= "  &lt;/div&gt;\n";
    }
    
    $html .= "  &lt;button type='submit'&gt;Save Settings&lt;/button&gt;\n";
    $html .= "&lt;/form&gt;";
    
    return $html;
}

// Helper function to format option keys as labels
function formatLabel($key) {
    return ucwords(str_replace('_', ' ', $key));
}

// Display the settings form
echo "&lt;h4&gt;Plugin Settings Form:&lt;/h4&gt;";
echo renderSettingsForm($settings);

// Display the effective settings (for demonstration)
echo "&lt;h4&gt;Effective Settings (Merged):&lt;/h4&gt;";
echo "&lt;pre&gt;";
print_r($settings);
echo "&lt;/pre&gt;";

// Simulate saving settings
echo "&lt;h4&gt;Saving Settings:&lt;/h4&gt;";
echo "In a real WordPress plugin, the settings would be saved with:&lt;br&gt;";
echo "&lt;code&gt;update_option('my_plugin_settings', json_encode(\$settings));&lt;/code&gt;&lt;br&gt;";
echo "And retrieved with:&lt;br&gt;";
echo "&lt;code&gt;\$settings = json_decode(get_option('my_plugin_settings', '{}'), true);&lt;/code&gt;";</code></pre>
        </section>

        <section class="best_practices">
            <h2>Best Practices for Working with Associative Arrays</h2>
            
            <ul>
                <li><strong>Use descriptive keys:</strong> Choose key names that clearly describe their values</li>
                <li><strong>Keep consistent formats:</strong> Maintain consistent naming conventions for keys (e.g., snake_case or camelCase)</li>
                <li><strong>Validate keys before access:</strong> Always use <code>isset()</code> or <code>array_key_exists()</code> before accessing associative array elements</li>
                <li><strong>Use null coalescing operator:</strong> In PHP 7+, use <code>$value = $array['key'] ?? 'default';</code> for cleaner default value handling</li>
                <li><strong>Structure for extensibility:</strong> Design arrays with nested structures for related data</li>
                <li><strong>Consider memory usage:</strong> For large datasets, be mindful of memory consumption</li>
                <li><strong>Document complex structures:</strong> Add comments explaining the expected structure of complex associative arrays</li>
                <li><strong>Prefer foreach loops:</strong> Use <code>foreach ($array as $key => $value)</code> for clean iteration</li>
                <li><strong>Use recursion for nested arrays:</strong> Implement recursive functions to process deeply nested arrays</li>
                <li><strong>Merge arrays carefully:</strong> Be aware of the differences between <code>array_merge()</code> and the <code>+</code> operator</li>
            </ul>
        </section>

        <section class="homework">
            <h2>Homework Assignment: WordPress Plugin Configuration</h2>
            
            <div class="assignment">
                <p>Create a PHP script that implements a configuration system for a WordPress plugin with the following requirements:</p>
                <ol>
                    <li>Define a default configuration associative array with at least three sections (general, display, advanced)</li>
                    <li>Create a function that merges user settings with default settings (preserving defaults for missing options)</li>
                    <li>Implement a function that validates the configuration (e.g., checks types, ensures required fields exist)</li>
                    <li>Create a function that renders a settings form based on the configuration array</li>
                    <li>Implement a function that "saves" the configuration (for this assignment, just output what would be saved)</li>
                    <li>Create a function that exports the configuration to both a serialized format and a JSON format</li>
                    <li>Add a section to your script that demonstrates all these functions</li>
                </ol>
                
                <p><strong>Bonus Challenge:</strong> Create a recursive validation function that can validate complex nested configurations, including checking field types, required fields, and value constraints (min/max for numbers, allowed values for enums, etc.).</p>
            </div>
        </section>

        <section class="further_reading">
            <h2>Further Reading and Resources</h2>
            
            <ul>
                <li><a href="https://www.php.net/manual/en/language.types.array.php">PHP Manual: Arrays</a></li>
                <li><a href="https://developer.wordpress.org/apis/options/">WordPress Options API</a></li>
                <li><a href="https://developer.wordpress.org/apis/metadata/">WordPress Metadata API</a></li>
                <li><a href="https://www.php.net/manual/en/ref.array.php">PHP Array Functions Reference</a></li>
                <li>"Modern PHP: New Features and Good Practices" by Josh Lockhart (Chapter on Arrays and Collections)</li>
                <li>"Learning PHP Data Objects" by Dennis Popel (For related database operations)</li>
            </ul>
        </section>

        <section class="next_topics">
            <h2>Coming Up Next</h2>
            
            <p>In our next session, we'll build on our knowledge of associative arrays to explore:</p>
            <ul>
                <li>Multidimensional Arrays: Complex nested data structures</li>
                <li>Advanced array iteration techniques</li>
                <li>Array sorting with custom comparison functions</li>
                <li>Performance optimization for large arrays</li>
                <li>Working with JSON and serialized data in WordPress</li>
            </ul>
        </section>
    </main>
    
    <footer>
        <p>&copy; 2025 PHP WordPress Development Course</p>

    </footer>
</body>
</html>
