<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Understanding PHP Conditionals: If-Elseif-Else Statements</title>
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="icon" href="/favicon.png">
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
      mermaid.initialize({ startOnLoad: true });
    </script>
</head>
<body>
    <header>
        <h1>Understanding PHP Conditionals: If-Elseif-Else Statements</h1>
        <p><a href="index.html">← Back to Syllabus</a> | <a href="module2.html">← Module 2 Overview</a></p>
    </header>
    
    <main>
        <section class="intro">
            <h2>Introduction to If-Elseif-Else Statements</h2>
            <p>Welcome to our continuing journey through PHP conditional statements! In our previous sessions, we explored basic <code>if</code> statements and <code>if-else</code> statements. Today, we're taking the next step with <code>if-elseif-else</code> statements, which allow us to check multiple conditions in sequence and execute different code blocks based on which condition is met first.</p>
            
            <div class="analogy">
                <h3>The Traffic Intersection Analogy</h3>
                <p>Think of an if-elseif-else statement as a traffic intersection with multiple possible routes. When your program reaches this intersection, it evaluates each condition in sequence, taking the first path where the condition is true. If none of the specified conditions are true, it takes the default "else" path.</p>
                
                <div class="mermaid-diagram">
                    <div class="mermaid">
                    graph TD
                        A[Start] --> B{First Condition?}
                        B -->|True| C[Execute First Block]
                        B -->|False| D{Second Condition?}
                        D -->|True| E[Execute Second Block]
                        D -->|False| F{Third Condition?}
                        F -->|True| G[Execute Third Block]
                        F -->|False| H[Execute Else Block]
                        C --> I[Continue Program]
                        E --> I
                        G --> I
                        H --> I
                    </div>
                </div>
            </div>
        </section>

        <section class="basic_syntax">
            <h2>Basic If-Elseif-Else Syntax</h2>
            <p>The if-elseif-else statement expands on the if-else statement by adding one or more conditions to check between the initial "if" and the final "else".</p>
            
            <div class="code-example">
                <h3>Basic Syntax</h3>
                <pre><code>
if (first_condition) {
    // Code to execute if first_condition is true
} elseif (second_condition) {
    // Code to execute if first_condition is false but second_condition is true
} elseif (third_condition) {
    // Code to execute if both first and second conditions are false but third_condition is true
} else {
    // Code to execute if all conditions are false
}
                </code></pre>
                
                <p>Let's break down the components:</p>
                <ul>
                    <li><strong>if</strong>: The keyword that starts the conditional statement</li>
                    <li><strong>elseif</strong>: The keyword that introduces additional conditions to check</li>
                    <li><strong>else</strong>: The keyword that introduces the default code block (optional)</li>
                    <li><strong>condition</strong>: Each expression that evaluates to either true or false</li>
                    <li><strong>{ }</strong>: Curly braces enclosing each code block to execute when its corresponding condition is true</li>
                </ul>
                
                <div class="syntax-note">
                    <h4>Note on Syntax Variations</h4>
                    <p>PHP allows <code>elseif</code> to be written as two words: <code>else if</code>. Both formats work identically, but it's good practice to be consistent with whichever style you choose:</p>
                    <pre><code>
// These are functionally identical
if ($condition1) {
    // Code...
} elseif ($condition2) {
    // Code...
} else {
    // Code...
}

if ($condition1) {
    // Code...
} else if ($condition2) {
    // Code...
} else {
    // Code...
}
                    </code></pre>
                </div>
            </div>
            
            <div class="real-world">
                <h3>Real-World Example: Grading System</h3>
                <p>A classic example of if-elseif-else statements is a grading system:</p>
                
                <pre><code>
$score = 85;

if ($score >= 90) {
    echo "Grade: A";
} elseif ($score >= 80) {
    echo "Grade: B";
} elseif ($score >= 70) {
    echo "Grade: C";
} elseif ($score >= 60) {
    echo "Grade: D";
} else {
    echo "Grade: F";
}
                </code></pre>
                
                <p>With a score of 85, this code will output "Grade: B". The program checks each condition in order and executes the code block for the first condition that evaluates to true.</p>
            </div>
        </section>
        
        <section class="evaluation_flow">
            <h2>How If-Elseif-Else Evaluation Flows</h2>
            
            <div class="important-concepts">
                <h3>Key Concepts to Understand</h3>
                
                <div class="concept">
                    <h4>Sequential Evaluation</h4>
                    <p>Conditions are evaluated in order, from top to bottom. Once a condition evaluates to true, its corresponding code block executes, and all subsequent conditions are skipped.</p>
                </div>
                
                <div class="concept">
                    <h4>Short-Circuit Behavior</h4>
                    <p>PHP stops checking conditions as soon as it finds one that's true. This is called "short-circuit" behavior and is important for both performance and logic flow.</p>
                </div>
                
                <div class="concept">
                    <h4>Optional Else Block</h4>
                    <p>The final "else" block is optional. If omitted and none of the conditions evaluate to true, no code will execute.</p>
                </div>
                
                <div class="concept">
                    <h4>Unlimited Elseif Blocks</h4>
                    <p>You can have as many "elseif" blocks as needed, though too many may indicate that a switch statement or other approach might be more appropriate.</p>
                </div>
            </div>
            
            <div class="svg-diagram">
                <h3>Visual Flow of Execution</h3>
                <svg viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
                    <!-- Start -->
                    <rect x="350" y="10" width="100" height="40" rx="10" ry="10" fill="#e6f7ff" stroke="#0066cc" stroke-width="2"/>
                    <text x="400" y="35" text-anchor="middle" font-size="16">Start</text>
                    
                    <!-- First condition -->
                    <line x1="400" y1="50" x2="400" y2="80" stroke="#0066cc" stroke-width="2"/>
                    <polygon points="380,80 420,80 400,110" fill="#f0f8ff" stroke="#0066cc" stroke-width="2"/>
                    <text x="400" y="100" text-anchor="middle" font-size="14">if ($score >= 90)</text>
                    
                    <!-- True path for first condition -->
                    <line x1="420" y1="95" x2="550" y2="95" stroke="#0066cc" stroke-width="2"/>
                    <polygon points="545,90 555,95 545,100" fill="#0066cc"/>
                    <rect x="550" y="75" width="120" height="40" rx="5" ry="5" fill="#e6f7ff" stroke="#0066cc" stroke-width="2"/>
                    <text x="610" y="100" text-anchor="middle" font-size="14">Grade: A</text>
                    
                    <!-- Second condition -->
                    <line x1="400" y1="110" x2="400" y2="150" stroke="#0066cc" stroke-width="2"/>
                    <polygon points="380,150 420,150 400,180" fill="#f0f8ff" stroke="#0066cc" stroke-width="2"/>
                    <text x="400" y="170" text-anchor="middle" font-size="14">elseif ($score >= 80)</text>
                    
                    <!-- True path for second condition -->
                    <line x1="420" y1="165" x2="550" y2="165" stroke="#0066cc" stroke-width="2"/>
                    <polygon points="545,160 555,165 545,170" fill="#0066cc"/>
                    <rect x="550" y="145" width="120" height="40" rx="5" ry="5" fill="#e6ffef" stroke="#00cc66" stroke-width="2"/>
                    <text x="610" y="170" text-anchor="middle" font-size="14">Grade: B</text>
                    
                    <!-- Third condition -->
                    <line x1="400" y1="180" x2="400" y2="220" stroke="#0066cc" stroke-width="2"/>
                    <polygon points="380,220 420,220 400,250" fill="#f0f8ff" stroke="#0066cc" stroke-width="2"/>
                    <text x="400" y="240" text-anchor="middle" font-size="14">elseif ($score >= 70)</text>
                    
                    <!-- True path for third condition -->
                    <line x1="420" y1="235" x2="550" y2="235" stroke="#0066cc" stroke-width="2"/>
                    <polygon points="545,230 555,235 545,240" fill="#0066cc"/>
                    <rect x="550" y="215" width="120" height="40" rx="5" ry="5" fill="#e6f7ff" stroke="#0066cc" stroke-width="2"/>
                    <text x="610" y="240" text-anchor="middle" font-size="14">Grade: C</text>
                    
                    <!-- Fourth condition -->
                    <line x1="400" y1="250" x2="400" y2="290" stroke="#0066cc" stroke-width="2"/>
                    <polygon points="380,290 420,290 400,320" fill="#f0f8ff" stroke="#0066cc" stroke-width="2"/>
                    <text x="400" y="310" text-anchor="middle" font-size="14">elseif ($score >= 60)</text>
                    
                    <!-- True path for fourth condition -->
                    <line x1="420" y1="305" x2="550" y2="305" stroke="#0066cc" stroke-width="2"/>
                    <polygon points="545,300 555,305 545,310" fill="#0066cc"/>
                    <rect x="550" y="285" width="120" height="40" rx="5" ry="5" fill="#e6f7ff" stroke="#0066cc" stroke-width="2"/>
                    <text x="610" y="310" text-anchor="middle" font-size="14">Grade: D</text>
                    
                    <!-- Else condition -->
                    <line x1="400" y1="320" x2="400" y2="350" stroke="#0066cc" stroke-width="2"/>
                    <rect x="340" y="350" width="120" height="40" rx="5" ry="5" fill="#ffede6" stroke="#cc3300" stroke-width="2"/>
                    <text x="400" y="375" text-anchor="middle" font-size="14">Grade: F</text>
                    
                    <!-- Arrows from result blocks to end -->
                    <line x1="670" y1="95" x2="700" y2="95" stroke="#0066cc" stroke-width="2" stroke-dasharray="5,5"/>
                    <line x1="700" y1="95" x2="700" y2="375" stroke="#0066cc" stroke-width="2" stroke-dasharray="5,5"/>
                    
                    <line x1="670" y1="165" x2="700" y2="165" stroke="#00cc66" stroke-width="2"/>
                    <line x1="700" y1="165" x2="700" y2="375" stroke="#00cc66" stroke-width="2"/>
                    
                    <line x1="670" y1="235" x2="700" y2="235" stroke="#0066cc" stroke-width="2" stroke-dasharray="5,5"/>
                    <line x1="700" y1="235" x2="700" y2="375" stroke="#0066cc" stroke-width="2" stroke-dasharray="5,5"/>
                    
                    <line x1="670" y1="305" x2="700" y2="305" stroke="#0066cc" stroke-width="2" stroke-dasharray="5,5"/>
                    <line x1="700" y1="305" x2="700" y2="375" stroke="#0066cc" stroke-width="2" stroke-dasharray="5,5"/>
                    
                    <line x1="460" y1="370" x2="700" y2="370" stroke="#cc3300" stroke-width="2" stroke-dasharray="5,5"/>
                    
                    <!-- End point -->
                    <rect x="650" y="375" width="100" height="40" rx="10" ry="10" fill="#e6f7ff" stroke="#0066cc" stroke-width="2"/>
                    <text x="700" y="400" text-anchor="middle" font-size="16">Continue</text>
                    
                    <!-- Actual path highlighting -->
                    <text x="130" y="165" text-anchor="middle" font-size="14" fill="#00cc66" font-weight="bold">Actual path for</text>
                    <text x="130" y="185" text-anchor="middle" font-size="14" fill="#00cc66" font-weight="bold">$score = 85</text>
                    <path d="M160,190 L300,170" stroke="#00cc66" stroke-width="2" fill="none" marker-end="url(#arrow)"/>
                    
                    <!-- Define arrow marker -->
                    <defs>
                        <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
                            <path d="M0,0 L0,6 L9,3 z" fill="#00cc66"/>
                        </marker>
                    </defs>
                </svg>
                <p>In this example, with $score = 85, the code checks the first condition ($score >= 90), which is false. It then checks the second condition ($score >= 80), which is true, so it executes the corresponding code block and skips all remaining conditions.</p>
            </div>
        </section>
        
        <section class="practical_examples">
            <h2>Practical Examples of If-Elseif-Else Statements</h2>
            
            <div class="example">
                <h3>User Role Permissions</h3>
                <p>Displaying different UI elements based on user role:</p>
                <pre><code>
$userRole = "editor";

if ($userRole === "admin") {
    echo "Welcome, Administrator. You have full control of the system.";
    echo "&lt;button&gt;Access Admin Panel&lt;/button&gt;";
} elseif ($userRole === "editor") {
    echo "Welcome, Editor. You can create and modify content.";
    echo "&lt;button&gt;Create New Post&lt;/button&gt;";
} elseif ($userRole === "author") {
    echo "Welcome, Author. You can create your own content.";
    echo "&lt;button&gt;My Posts&lt;/button&gt;";
} else {
    echo "Welcome, Visitor. You can browse our content.";
    echo "&lt;button&gt;Subscribe&lt;/button&gt;";
}
                </code></pre>
            </div>
            
            <div class="example">
                <h3>Shipping Cost Calculator</h3>
                <p>Determining shipping costs based on order weight:</p>
                <pre><code>
$orderWeight = 3.5; // Weight in kg
$shippingCost = 0;

if ($orderWeight <= 0.5) {
    $shippingCost = 5;
} elseif ($orderWeight <= 2) {
    $shippingCost = 10;
} elseif ($orderWeight <= 5) {
    $shippingCost = 15;
} elseif ($orderWeight <= 10) {
    $shippingCost = 20;
} else {
    $shippingCost = 25;
}

echo "Shipping cost: $" . $shippingCost;
                </code></pre>
            </div>
            
            <div class="example">
                <h3>HTTP Response Handling</h3>
                <p>Handling different HTTP response codes:</p>
                <pre><code>
$httpStatusCode = 404;
$message = "";

if ($httpStatusCode === 200) {
    $message = "Success! The request was completed successfully.";
} elseif ($httpStatusCode === 301 || $httpStatusCode === 302) {
    $message = "Redirecting to new location...";
} elseif ($httpStatusCode === 404) {
    $message = "Error: The requested resource was not found.";
} elseif ($httpStatusCode === 500) {
    $message = "Error: Internal server error. Please try again later.";
} else {
    $message = "An unexpected response was received. Status code: " . $httpStatusCode;
}

echo $message;
                </code></pre>
            </div>
            
            <div class="example">
                <h3>WordPress-Specific Example: Content Template Selection</h3>
                <p>In WordPress theme development, you often need to choose different templates based on the post type:</p>
                <pre><code>
// WordPress function to get current post type
$postType = get_post_type();

if ($postType === 'post') {
    // Load the standard blog post template
    include(get_template_directory() . '/template-parts/content-post.php');
} elseif ($postType === 'page') {
    // Load the page template
    include(get_template_directory() . '/template-parts/content-page.php');
} elseif ($postType === 'product') {
    // Load the product template for WooCommerce
    include(get_template_directory() . '/template-parts/content-product.php');
} elseif ($postType === 'portfolio') {
    // Load the portfolio item template
    include(get_template_directory() . '/template-parts/content-portfolio.php');
} else {
    // Load a generic fallback template
    include(get_template_directory() . '/template-parts/content.php');
}
                </code></pre>
            </div>
        </section>
        
        <section class="order_matters">
            <h2>Why Order Matters in If-Elseif-Else</h2>
            
            <p>One of the most critical aspects of if-elseif-else statements is the order of conditions. Since PHP evaluates conditions sequentially and executes the code block for the first condition that evaluates to true, the order can dramatically affect your program's behavior.</p>
            
            <div class="example">
                <h3>Example: Incorrectly Ordered Conditions</h3>
                <pre><code>
$score = 95;

// INCORRECT ORDER
if ($score >= 60) {
    echo "You passed!"; // This will execute for ANY score >= 60
} elseif ($score >= 90) {
    echo "Excellent job!"; // This will NEVER execute!
} else {
    echo "You failed.";
}
                </code></pre>
                
                <p>In this example, a score of 95 would only trigger the first condition ("You passed!"), even though we intended to display "Excellent job!" for scores above 90. The second condition is never reached because any score that meets the second condition also meets the first one.</p>
            </div>
            
            <div class="example">
                <h3>Example: Correctly Ordered Conditions</h3>
                <pre><code>
$score = 95;

// CORRECT ORDER - Most specific to least specific
if ($score >= 90) {
    echo "Excellent job!"; // This will execute for scores >= 90
} elseif ($score >= 60) {
    echo "You passed!"; // This will execute for scores 60-89
} else {
    echo "You failed."; // This will execute for scores < 60
}
                </code></pre>
                
                <p>By ordering conditions from most specific to least specific (or in this case, from highest threshold to lowest), we ensure that each condition serves its intended purpose.</p>
            </div>
            
            <div class="best-practice">
                <h3>Best Practice: Arrange Conditions Thoughtfully</h3>
                <p>When writing if-elseif-else statements:</p>
                <ul>
                    <li>Arrange conditions from most specific to least specific</li>
                    <li>For range checks, start with the highest/narrowest range</li>
                    <li>Consider which conditions are subsets of others</li>
                    <li>Use mutually exclusive conditions when possible</li>
                </ul>
            </div>
        </section>
        
        <section class="alternative_syntax">
            <h2>Alternative Syntax for Templates</h2>
            
            <p>As with if and if-else statements, PHP offers an alternative syntax for if-elseif-else statements that's particularly useful in template files:</p>
            
            <div class="code-example">
                <pre><code>
&lt;!-- Standard syntax --&gt;
&lt;?php
if ($userRole === "admin") {
    echo "&lt;div class='admin-dashboard'&gt;Admin content&lt;/div&gt;";
} elseif ($userRole === "editor") {
    echo "&lt;div class='editor-dashboard'&gt;Editor content&lt;/div&gt;";
} else {
    echo "&lt;div class='user-dashboard'&gt;User content&lt;/div&gt;";
}
?&gt;

&lt;!-- Alternative syntax --&gt;
&lt;?php if ($userRole === "admin"): ?&gt;
    &lt;div class='admin-dashboard'&gt;
        Admin content
    &lt;/div&gt;
&lt;?php elseif ($userRole === "editor"): ?&gt;
    &lt;div class='editor-dashboard'&gt;
        Editor content
    &lt;/div&gt;
&lt;?php else: ?&gt;
    &lt;div class='user-dashboard'&gt;
        User content
    &lt;/div&gt;
&lt;?php endif; ?&gt;
                </code></pre>
            </div>
            
            <div class="wordpress-example">
                <h3>WordPress Theme Example: Post Format Handling</h3>
                <p>This syntax is commonly used in WordPress themes for handling different post formats:</p>
                <pre><code>
&lt;?php
// WordPress function to check post format
$format = get_post_format();
?&gt;

&lt;article id="post-&lt;?php the_ID(); ?&gt;" class="&lt;?php echo $format ? 'format-' . $format : 'format-standard'; ?&gt;"&gt;
    &lt;?php if ($format === 'video'): ?&gt;
        &lt;div class="video-container"&gt;
            &lt;?php echo get_post_meta(get_the_ID(), 'video_embed', true); ?&gt;
        &lt;/div&gt;
    &lt;?php elseif ($format === 'gallery'): ?&gt;
        &lt;div class="gallery-slider"&gt;
            &lt;?php echo get_post_gallery(); ?&gt;
        &lt;/div&gt;
    &lt;?php elseif ($format === 'audio'): ?&gt;
        &lt;div class="audio-player"&gt;
            &lt;?php echo get_post_meta(get_the_ID(), 'audio_embed', true); ?&gt;
        &lt;/div&gt;
    &lt;?php else: ?&gt;
        &lt;?php if (has_post_thumbnail()): ?&gt;
            &lt;div class="featured-image"&gt;
                &lt;?php the_post_thumbnail('large'); ?&gt;
            &lt;/div&gt;
        &lt;?php endif; ?&gt;
    &lt;?php endif; ?&gt;
    
    &lt;div class="entry-content"&gt;
        &lt;h2&gt;&lt;?php the_title(); ?&gt;&lt;/h2&gt;
        &lt;?php the_content(); ?&gt;
    &lt;/div&gt;
&lt;/article&gt;
                </code></pre>
            </div>
        </section>
        
        <section class="common_patterns">
            <h2>Common If-Elseif-Else Patterns</h2>
            
            <div class="pattern">
                <h3>Value Range Checks</h3>
                <p>Checking if a value falls within different ranges:</p>
                <pre><code>
$temperature = 32;

if ($temperature >= 30) {
    echo "Hot weather! Stay hydrated.";
} elseif ($temperature >= 20) {
    echo "Pleasant temperature.";
} elseif ($temperature >= 10) {
    echo "Cool weather. Consider a light jacket.";
} elseif ($temperature >= 0) {
    echo "Cold weather. Wear warm clothes.";
} else {
    echo "Freezing temperatures! Bundle up well.";
}
                </code></pre>
            </div>
            
            <div class="pattern">
                <h3>Type-Based Processing</h3>
                <p>Handling different data types with specific logic:</p>
                <pre><code>
function processValue($value) {
    if (is_numeric($value)) {
        return $value * 2; // Double numeric values
    } elseif (is_string($value)) {
        return strtoupper($value); // Uppercase string values
    } elseif (is_bool($value)) {
        return !$value; // Invert boolean values
    } elseif (is_array($value)) {
        return count($value); // Return array count
    } else {
        return null; // Handle other types
    }
}

echo processValue(5); // Outputs: 10
echo processValue("hello"); // Outputs: HELLO
var_dump(processValue(true)); // Outputs: bool(false)
echo processValue([1, 2, 3]); // Outputs: 3
                </code></pre>
            </div>
            
            <div class="pattern">
                <h3>Error Handling and Validation</h3>
                <p>Validating input with specific error messages:</p>
                <pre><code>
function validateUsername($username) {
    if (empty($username)) {
        return "Username is required.";
    } elseif (strlen($username) < 5) {
        return "Username must be at least 5 characters long.";
    } elseif (strlen($username) > 20) {
        return "Username cannot be longer than 20 characters.";
    } elseif (!preg_match('/^[a-zA-Z0-9_]+$/', $username)) {
        return "Username can only contain letters, numbers, and underscores.";
    } else {
        return true; // Username is valid
    }
}

$result = validateUsername("user@name");
if ($result !== true) {
    echo $result; // Outputs: Username can only contain letters, numbers, and underscores.
}
                </code></pre>
            </div>
            
            <div class="pattern">
                <h3>State Machine Transitions</h3>
                <p>Implementing simple state machines:</p>
                <pre><code>
$currentState = "pending";
$action = "approve";

if ($currentState === "pending" && $action === "approve") {
    $newState = "approved";
} elseif ($currentState === "pending" && $action === "reject") {
    $newState = "rejected";
} elseif ($currentState === "approved" && $action === "revoke") {
    $newState = "pending";
} elseif ($currentState === "rejected" && $action === "reconsider") {
    $newState = "pending";
} else {
    $newState = $currentState; // Invalid state transition, keep current state
}

echo "Transitioned from $currentState to $newState";
                </code></pre>
            </div>
        </section>
        
        <section class="refactoring">
            <h2>Refactoring Complex If-Elseif Statements</h2>
            
            <p>While if-elseif-else statements are powerful, they can become unwieldy when you have many conditions or complex logic. Here are some approaches for refactoring complex conditional chains:</p>
            
            <div class="approach">
                <h3>Approach 1: Use Switch Statements</h3>
                <p>When comparing a single variable against multiple values, a switch statement can be clearer:</p>
                <pre><code>
// If-elseif approach
$dayOfWeek = date('l');

if ($dayOfWeek === 'Monday') {
    echo "Start of the work week";
} elseif ($dayOfWeek === 'Tuesday') {
    echo "Second day of work";
} elseif ($dayOfWeek === 'Wednesday') {
    echo "Midweek";
} elseif ($dayOfWeek === 'Thursday') {
    echo "Almost there";
} elseif ($dayOfWeek === 'Friday') {
    echo "Last workday";
} elseif ($dayOfWeek === 'Saturday' || $dayOfWeek === 'Sunday') {
    echo "Weekend!";
}

// Switch approach - cleaner for simple equality checks
switch ($dayOfWeek) {
    case 'Monday':
        echo "Start of the work week";
        break;
    case 'Tuesday':
        echo "Second day of work";
        break;
    case 'Wednesday':
        echo "Midweek";
        break;
    case 'Thursday':
        echo "Almost there";
        break;
    case 'Friday':
        echo "Last workday";
        break;
    case 'Saturday':
    case 'Sunday':
        echo "Weekend!";
        break;
}
                </code></pre>
                <p>We'll explore switch statements in detail in our next session.</p>
            </div>
            
            <div class="approach">
                <h3>Approach 2: Lookup Tables/Arrays</h3>
                <p>For simple mappings, an array can replace conditionals:</p>
                <pre><code>
// If-elseif approach
function getMonthName($monthNum) {
    if ($monthNum === 1) {
        return "January";
    } elseif ($monthNum === 2) {
        return "February";
    } elseif ($monthNum === 3) {
        return "March";
    }
    // ... and so on for all 12 months
}

// Array lookup approach - much cleaner
function getMonthNameArray($monthNum) {
    $months = [
        1 => "January",
        2 => "February",
        3 => "March",
        4 => "April",
        5 => "May",
        6 => "June",
        7 => "July",
        8 => "August",
        9 => "September",
        10 => "October",
        11 => "November",
        12 => "December"
    ];
    
    return $months[$monthNum] ?? "Invalid month";
}

echo getMonthNameArray(3); // Outputs: March
                </code></pre>
            </div>
            
            <div class="approach">
                <h3>Approach 3: Early Returns in Functions</h3>
                <p>For validation and error checking, early returns can simplify logic:</p>
                <pre><code>
// If-elseif approach
function processUserData($userData) {
    if (empty($userData)) {
        return "Error: No data provided";
    } elseif (!isset($userData['email'])) {
        return "Error: Email is required";
    } elseif (!filter_var($userData['email'], FILTER_VALIDATE_EMAIL)) {
        return "Error: Valid email is required";
    } elseif (!isset($userData['name']) || strlen($userData['name']) < 2) {
        return "Error: Name must be at least 2 characters";
    } else {
        // Process the data
        return "Data processed successfully";
    }
}

// Early returns approach - cleaner and avoids deep nesting
function processUserDataWithEarlyReturns($userData) {
    if (empty($userData)) {
        return "Error: No data provided";
    }
    
    if (!isset($userData['email'])) {
        return "Error: Email is required";
    }
    
    if (!filter_var($userData['email'], FILTER_VALIDATE_EMAIL)) {
        return "Error: Valid email is required";
    }
    
    if (!isset($userData['name']) || strlen($userData['name']) < 2) {
        return "Error: Name must be at least 2 characters";
    }
    
    // Process the data
    return "Data processed successfully";
}
                </code></pre>
            </div>
            
            <div class="mermaid-diagram">
                <h3>Visualization of Refactoring Strategies</h3>
                <div class="mermaid">
                graph TD
                    A[Complex If-Elseif Chain] --> B{What are you comparing?}
                    B -->|"Single variable against multiple values"| C[Use Switch Statement]
                    B -->|"Simple mappings (key to value)"| D[Use Array Lookup]
                    B -->|"Multiple validation checks"| E[Use Early Returns]
                    B -->|"Complex calculations per case"| F[Use Strategy Pattern]
                    C --> G[Improved Code]
                    D --> G
                    E --> G
                    F --> G
                </div>
            </div>
        </section>
        
        <section class="best_practices">
            <h2>Best Practices for If-Elseif-Else Statements</h2>
            
            <div class="practice">
                <h3>Keep Conditions Simple and Readable</h3>
                <p>Complex conditions can be difficult to understand and maintain. Break them down into variables with descriptive names:</p>
                <pre><code>
// Hard to read at a glance
if (($age >= 18 && $hasId) || ($age >= 16 && $hasParentalConsent && $hasSchoolId)) {
    // Allow access
}

// More readable
$isAdult = $age >= 18 && $hasId;
$isAuthorizedMinor = $age >= 16 && $hasParentalConsent && $hasSchoolId;

if ($isAdult || $isAuthorizedMinor) {
    // Allow access
}
                </code></pre>
            </div>
            
            <div class="practice">
                <h3>Use Consistent Formatting</h3>
                <p>Consistent indentation and brace placement make code more readable:</p>
                <pre><code>
// Consistent formatting
if ($condition1) {
    // Code block
} elseif ($condition2) {
    // Code block
} else {
    // Code block
}
                </code></pre>
            </div>
            
            <div class="practice">
                <h3>Consider the Default Case Carefully</h3>
                <p>Make sure your default (else) case handles unexpected inputs gracefully:</p>
                <pre><code>
function getColorName($colorCode) {
    if ($colorCode === 1) {
        return "Red";
    } elseif ($colorCode === 2) {
        return "Green";
    } elseif ($colorCode === 3) {
        return "Blue";
    } else {
        // Handle unexpected input gracefully
        return "Unknown color (Code: " . htmlspecialchars($colorCode) . ")";
    }
}
                </code></pre>
            </div>
            
            <div class="practice">
                <h3>Avoid Deep Nesting</h3>
                <p>Deeply nested if-elseif-else statements can be hard to follow. Consider refactoring when nesting goes beyond 2-3 levels:</p>
                <pre><code>
// Deeply nested - hard to follow
if ($userLoggedIn) {
    if ($userHasPermission) {
        if ($contentExists) {
            if (!$contentIsLocked) {
                // Display content
            } else {
                // Content is locked
            }
        } else {
            // Content doesn't exist
        }
    } else {
        // No permission
    }
} else {
    // Not logged in
}

// Refactored with early returns and guard clauses
if (!$userLoggedIn) {
    return "Please log in to view this content.";
}

if (!$userHasPermission) {
    return "You don't have permission to access this content.";
}

if (!$contentExists) {
    return "The requested content does not exist.";
}

if ($contentIsLocked) {
    return "This content is currently locked.";
}

// Display content
                </code></pre>
            </div>
            
            <div class="practice">
                <h3>Consider Alternatives for Complex Cases</h3>
                <p>If your if-elseif chain is getting very long (more than 5-7 conditions), consider alternatives like switch statements, lookup arrays, or more advanced patterns.</p>
            </div>
        </section>
        
        <section class="common_pitfalls">
            <h2>Common Pitfalls and How to Avoid Them</h2>
            
            <div class="pitfall">
                <h3>Overlapping Conditions</h3>
                <p>When conditions overlap, some code blocks might never execute:</p>
                <pre><code>
$score = 95;

// INCORRECT - overlapping conditions
if ($score >= 60) {
    echo "You passed.";
} elseif ($score >= 90) { // This will never execute!
    echo "Excellent job!";
}

// CORRECT - non-overlapping conditions
if ($score >= 90) {
    echo "Excellent job!";
} elseif ($score >= 60) {
    echo "You passed.";
}
                </code></pre>
            </div>
            
            <div class="pitfall">
                <h3>Missing Breaks in Switch (Preview)</h3>
                <p>When we cover switch statements next session, we'll see how missing break statements can cause unexpected "fall-through" behavior:</p>
                <pre><code>
$dayType = '';
$day = 'Saturday';

switch ($day) {
    case 'Monday':
    case 'Tuesday':
    case 'Wednesday':
    case 'Thursday':
    case 'Friday':
        $dayType = 'Weekday';
        break; // Without this break, execution would "fall through" to the next case
    case 'Saturday':
    case 'Sunday':
        $dayType = 'Weekend';
}

echo "$day is a $dayType.";
                </code></pre>
            </div>
            
            <div class="pitfall">
                <h3>Assignment vs. Comparison</h3>
                <p>Using assignment (=) instead of comparison (== or ===) in conditions:</p>
                <pre><code>
$status = "pending";

// INCORRECT - uses assignment, not comparison
if ($status = "approved") { // This assigns "approved" to $status and then evaluates to true
    echo "The transaction is approved.";
} elseif ($status = "pending") { // This will never be reached!
    echo "The transaction is pending.";
}

// CORRECT - uses comparison
if ($status === "approved") {
    echo "The transaction is approved.";
} elseif ($status === "pending") {
    echo "The transaction is pending.";
}
                </code></pre>
            </div>
            
            <div class="pitfall">
                <h3>Forgetting the Last Else</h3>
                <p>Omitting the final else can leave edge cases unhandled:</p>
                <pre><code>
function getLetterGrade($score) {
    if ($score >= 90) {
        return 'A';
    } elseif ($score >= 80) {
        return 'B';
    } elseif ($score >= 70) {
        return 'C';
    } elseif ($score >= 60) {
        return 'D';
    }
    // Missing the else case!
    // What happens if $score < 60?
}

// BETTER - handle all possible cases
function getLetterGradeComplete($score) {
    if ($score >= 90) {
        return 'A';
    } elseif ($score >= 80) {
        return 'B';
    } elseif ($score >= 70) {
        return 'C';
    } elseif ($score >= 60) {
        return 'D';
    } else {
        return 'F';
    }
}
                </code></pre>
            </div>
        </section>
        
        <section class="looking_ahead">
            <h2>Looking Ahead: Switch Statements and Ternary Operators</h2>
            
            <p>Now that we've mastered if-elseif-else statements, our next topic will be switch statements, which provide an alternative syntax for comparing a single variable against multiple values. After that, we'll explore the ternary operator, a compact way to write simple if-else expressions.</p>
            
            <div class="preview">
                <h3>Preview: Switch Statement</h3>
                <pre><code>
$dayOfWeek = date('l');

switch ($dayOfWeek) {
    case 'Monday':
        echo "Start of the week";
        break;
    case 'Wednesday':
        echo "Midweek";
        break;
    case 'Friday':
        echo "Almost weekend";
        break;
    case 'Saturday':
    case 'Sunday':
        echo "Weekend!";
        break;
    default:
        echo "Regular day";
}
                </code></pre>
            </div>
            
            <div class="preview">
                <h3>Preview: Ternary Operator</h3>
                <pre><code>
$age = 20;

// Instead of:
if ($age >= 18) {
    $status = "adult";
} else {
    $status = "minor";
}

// You can write:
$status = ($age >= 18) ? "adult" : "minor";

echo "This person is an $status.";
                </code></pre>
            </div>
            
            <div class="mermaid-diagram">
                <h3>PHP Conditional Structures Flow</h3>
                <div class="mermaid">
                flowchart TD
                    A[if] --> B[if-else]
                    B --> C[if-elseif-else]
                    C --> D[switch]
                    
                    E[Simple Conditionals] --> F[Ternary Operator]
                    F --> G[Null Coalescing Operator]
                    
                    style C fill:#ccefff,stroke:#0066cc,stroke-width:2px
                    style D fill:#e6f7ff,stroke:#0066cc
                    style G fill:#e6f7ff,stroke:#0066cc
                </div>
            </div>
        </section>
        
        <section class="practice_exercises">
            <h2>Practice Exercises</h2>
            
            <div class="exercise">
                <h3>Exercise 1: Ticket Pricing</h3>
                <p>Write a PHP script for a movie theater that calculates ticket prices based on age. Children (under 13) pay $8, teens (13-17) pay $10, adults (18-59) pay $12, and seniors (60+) pay $9.</p>
                <details>
                    <summary>Reveal Solution</summary>
                    <pre><code>
$age = 25;
$ticketPrice = 0;

if ($age < 13) {
    $ticketPrice = 8;
} elseif ($age <= 17) {
    $ticketPrice = 10;
} elseif ($age <= 59) {
    $ticketPrice = 12;
} else {
    $ticketPrice = 9;
}

echo "Ticket price: $$ticketPrice";
                    </code></pre>
                </details>
            </div>
            
            <div class="exercise">
                <h3>Exercise 2: Payment Method Handling</h3>
                <p>Write a PHP snippet for an e-commerce site that displays different messages based on the payment method selected. Handle credit card, PayPal, bank transfer, and a default message for other methods.</p>
                <details>
                    <summary>Reveal Solution</summary>
                    <pre><code>
$paymentMethod = "bank_transfer";
$message = "";

if ($paymentMethod === "credit_card") {
    $message = "You'll be redirected to our secure payment processor to complete your credit card payment.";
} elseif ($paymentMethod === "paypal") {
    $message = "You'll be redirected to PayPal to complete your purchase.";
} elseif ($paymentMethod === "bank_transfer") {
    $message = "Please use the following details to make your bank transfer. Your order will be processed after payment is received.";
} else {
    $message = "Please follow the instructions for your selected payment method.";
}

echo $message;
                    </code></pre>
                </details>
            </div>
            
            <div class="exercise">
                <h3>Exercise 3: WordPress Content Conditional</h3>
                <p>Write a PHP snippet for a WordPress theme that displays different messages based on post status. Handle 'publish', 'draft', 'pending', and 'private' statuses with appropriate messages.</p>
                <details>
                    <summary>Reveal Solution</summary>
                    <pre><code>
&lt;?php
// WordPress function to get post status
$postStatus = get_post_status();
$statusMessage = "";

if ($postStatus === 'publish') {
    $statusMessage = "This post is published and visible to the public.";
} elseif ($postStatus === 'draft') {
    $statusMessage = "This post is a draft and is not yet published.";
} elseif ($postStatus === 'pending') {
    $statusMessage = "This post is pending review before publication.";
} elseif ($postStatus === 'private') {
    $statusMessage = "This post is private and only visible to site administrators.";
} else {
    $statusMessage = "This post has a custom status: " . $postStatus;
}
?&gt;

&lt;div class="status-indicator"&gt;
    &lt;?php echo $statusMessage; ?&gt;
&lt;/div&gt;
                    </code></pre>
                </details>
            </div>
            
            <div class="exercise">
                <h3>Exercise 4: Shipping Method Selection</h3>
                <p>Create a PHP script that determines shipping method and cost based on package weight and destination. If the package is being shipped domestically, use standard shipping for packages under 5 kg ($5.99), express shipping for packages 5-10 kg ($9.99), and premium shipping for packages over 10 kg ($12.99). For international shipping, the rates are $15.99, $19.99, and $24.99 respectively.</p>
                <details>
                    <summary>Reveal Solution</summary>
                    <pre><code>
$weight = 7.5; // Package weight in kg
$isInternational = true;
$shippingMethod = "";
$shippingCost = 0;

if ($isInternational) {
    if ($weight < 5) {
        $shippingMethod = "Standard International";
        $shippingCost = 15.99;
    } elseif ($weight <= 10) {
        $shippingMethod = "Express International";
        $shippingCost = 19.99;
    } else {
        $shippingMethod = "Premium International";
        $shippingCost = 24.99;
    }
} else {
    if ($weight < 5) {
        $shippingMethod = "Standard Domestic";
        $shippingCost = 5.99;
    } elseif ($weight <= 10) {
        $shippingMethod = "Express Domestic";
        $shippingCost = 9.99;
    } else {
        $shippingMethod = "Premium Domestic";
        $shippingCost = 12.99;
    }
}

echo "Recommended Shipping: $shippingMethod<br>";
echo "Shipping Cost: $$shippingCost";
                    </code></pre>
                </details>
            </div>
        </section>
        
        <section class="additional_resources">
            <h2>Additional Resources</h2>
            
            <ul>
                <li><a href="https://www.php.net/manual/en/control-structures.elseif.php" target="_blank">PHP Manual: If-Elseif-Else Statements</a></li>
                <li><a href="https://www.php.net/manual/en/control-structures.alternative-syntax.php" target="_blank">PHP Manual: Alternative Syntax</a></li>
                <li><a href="https://www.php.net/manual/en/language.operators.comparison.php" target="_blank">PHP Manual: Comparison Operators</a></li>
                <li><a href="https://developer.wordpress.org/themes/basics/conditional-tags/" target="_blank">WordPress: Conditional Tags</a></li>
                <li><a href="https://www.php.net/manual/en/function.is-numeric.php" target="_blank">PHP Manual: is_numeric() and Other Type-checking Functions</a></li>
            </ul>
        </section>
        
        <section class="homework">
            <h2>Homework Assignment</h2>
            
            <p>Continuing to build on our grading system, enhance it with the following requirements:</p>
            
            <ol>
                <li>Create variables for <code>$studentName</code>, <code>$score</code> (between 0 and 100), and <code>$attendancePercentage</code> (between 0 and 100)</li>
                <li>Using if-elseif-else statements, determine the letter grade based on the score, but with a twist:
                    <ul>
                        <li>If attendance is below 75%, apply a one-grade penalty (e.g., B becomes C)</li>
                        <li>If attendance is above 95%, add a "+" to the grade (unless it's an A, which becomes A+)</li>
                    </ul>
                </li>
                <li>Calculate and display a comprehensive student report that includes:
                    <ul>
                        <li>Student name</li>
                        <li>Original score</li>
                        <li>Attendance percentage</li>
                        <li>Final letter grade (after any attendance adjustments)</li>
                        <li>A performance assessment message based on both their score and attendance</li>
                    </ul>
                </li>
                <li>Use if-elseif-else statements to determine a personalized message based on different combinations of grades and attendance</li>
                <li><strong>Bonus:</strong> Add validation for input values and handle edge cases</li>
            </ol>
            
            <p>Submit your code and a brief explanation of your solution, including how you structured your if-elseif-else statements for maximum readability and correctness.</p>
        </section>
    </main>
    
    <footer>
        <p>&copy; 2025 PHP WordPress Development Course</p>
        <p><a href="module2.html">Back to Module 2</a> | <a href="index.html">Back to Syllabus</a> | <a href="php_switch_statements.html">Next: Switch Statements</a></p>
    </footer>
</body>
</html>
