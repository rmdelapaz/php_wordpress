<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PHP Variables and Data Types</title>
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="icon" href="/favicon.png">
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
      mermaid.initialize({ startOnLoad: true });
    </script>
</head>
<body>
    <header>
        <h1>PHP Variables and Data Types</h1>
        <p><a href="index.html">← Back to Syllabus</a></p>
    </header>
    
    <main>
        <section class="intro">
            <h2>Introduction to PHP Variables and Data Types</h2>
            <p>Welcome to our exploration of variables and data types in PHP! Understanding these concepts is fundamental to programming in any language, and PHP offers a particularly flexible approach to working with different kinds of data.</p>
            
            <p>In this session, we'll learn how to declare and use variables, explore the various data types that PHP supports, and see how PHP's type system influences the way we write code.</p>
            
            <div class="mermaid-diagram">
                <div class="mermaid">
                flowchart TD
                    A[PHP Variables] --> B[Declaration]
                    A --> C[Naming Rules]
                    A --> D[Scope]
                    A --> E[Type Handling]
                    
                    E --> F[Data Types]
                    
                    F --> G[Scalar Types]
                    F --> H[Compound Types]
                    F --> I[Special Types]
                    
                    G --> G1[Integer]
                    G --> G2[Float]
                    G --> G3[String]
                    G --> G4[Boolean]
                    
                    H --> H1[Array]
                    H --> H2[Object]
                    
                    I --> I1[NULL]
                    I --> I2[Resource]
                    
                    style A fill:#f96,stroke:#333,stroke-width:2px
                    style F fill:#69f,stroke:#333,stroke-width:2px
                </div>
            </div>
            
            <p class="analogy"><strong>Analogy:</strong> Think of variables as labeled containers that can hold different types of data. The label (variable name) helps you find and access the container, while the type of data is like the contents of the container. Some containers hold simple items (scalar types), others hold collections (compound types), and some have special purposes (special types).</p>
        </section>

        <section class="variables_basics">
            <h2>PHP Variables Basics</h2>
            <p>Variables are used to store data that can be referenced and manipulated throughout your program. Let's explore the basic concepts of PHP variables.</p>
            
            <h3>Variable Declaration and Assignment</h3>
            <p>In PHP, variables are declared using the dollar sign ($) followed by the variable name. Unlike some other languages, PHP doesn't require a specific declaration statement - variables are created when you first assign a value to them.</p>
            
            <pre><code>&lt;?php
// Variable declaration and assignment
$username = "john_doe";  // String
$age = 25;               // Integer
$price = 19.99;          // Float/Double
$isActive = true;        // Boolean

// You can also declare a variable without assigning a value
$temporaryVar;           // This is declared but has no value (technically NULL)

// Later, you can assign or change its value
$temporaryVar = "Now I have a value";

// Variables can change types dynamically
$dynamicVar = "This is a string";
echo $dynamicVar . "&lt;br&gt;";  // Outputs: This is a string

$dynamicVar = 42;
echo $dynamicVar . "&lt;br&gt;";  // Outputs: 42

$dynamicVar = true;
echo $dynamicVar . "&lt;br&gt;";  // Outputs: 1 (true is displayed as 1)
?&gt;</code></pre>
            
            <h3>Variable Naming Rules</h3>
            <p>When naming variables in PHP, follow these rules:</p>
            <ul>
                <li>A variable name must start with a dollar sign ($)</li>
                <li>Following the dollar sign, it must start with a letter or underscore (_)</li>
                <li>It can only contain alphanumeric characters and underscores (A-z, 0-9, and _)</li>
                <li>Variable names are case-sensitive ($name and $Name are different variables)</li>
            </ul>
            
            <pre><code>&lt;?php
// Valid variable names
$name = "John";
$_name = "John";
$name1 = "John";
$first_name = "John";
$firstName = "John";    // Camel case (common convention)
$first_Name = "John";   // Valid but not conventional
$_1name = "John";       // Valid but not conventional

// Invalid variable names (would cause errors)
// $1name = "John";     // Cannot start with a number
// $name-first = "John"; // Cannot contain hyphens
// $name.first = "John"; // Cannot contain periods
// $name first = "John"; // Cannot contain spaces
?&gt;</code></pre>
            
            <div class="important-note">
                <h4>Naming Convention Best Practices</h4>
                <p>While PHP allows flexible naming, consistent conventions improve code readability:</p>
                <ul>
                    <li><strong>camelCase:</strong> First word lowercase, subsequent words capitalized (e.g., $firstName)</li>
                    <li><strong>snake_case:</strong> All lowercase with underscores between words (e.g., $first_name)</li>
                    <li>Choose one convention and stick with it throughout your project</li>
                    <li>Use descriptive names that indicate the variable's purpose</li>
                    <li>WordPress generally uses snake_case for variables</li>
                </ul>
            </div>
            
            <h3>Variable Scope</h3>
            <p>The scope of a variable determines where in your code the variable can be accessed. PHP has several variable scopes:</p>
            
            <h4>Local Scope</h4>
            <p>Variables declared within a function have local scope and can only be accessed within that function.</p>
            
            <pre><code>&lt;?php
function testFunction() {
    $localVar = "I'm local to this function";
    echo $localVar . "&lt;br&gt;";  // This works
}

testFunction();  // Outputs: I'm local to this function

// echo $localVar;  // This would cause an error - $localVar only exists inside the function
?&gt;</code></pre>
            
            <h4>Global Scope</h4>
            <p>Variables declared outside all functions have global scope but are not automatically available inside functions.</p>
            
            <pre><code>&lt;?php
$globalVar = "I'm a global variable";

function testGlobal() {
    // echo $globalVar;  // This would cause an error
    
    // To use a global variable inside a function, use the global keyword
    global $globalVar;
    echo $globalVar . "&lt;br&gt;";  // Now this works
    
    // Alternatively, use the $GLOBALS superglobal array
    echo $GLOBALS['globalVar'] . "&lt;br&gt;";  // This also works
}

testGlobal();
?&gt;</code></pre>
            
            <h4>Static Variables</h4>
            <p>Static variables retain their value between function calls.</p>
            
            <pre><code>&lt;?php
function countCalls() {
    // Normal local variable - resets each time the function is called
    $normalCount = 1;
    
    // Static variable - keeps its value between function calls
    static $staticCount = 0;
    $staticCount++;
    
    echo "Normal count: $normalCount, Static count: $staticCount &lt;br&gt;";
}

countCalls();  // Outputs: Normal count: 1, Static count: 1
countCalls();  // Outputs: Normal count: 1, Static count: 2
countCalls();  // Outputs: Normal count: 1, Static count: 3
?&gt;</code></pre>
            
            <h4>Superglobal Variables</h4>
            <p>PHP provides several predefined variables called "superglobals" that are always available in all scopes.</p>
            
            <pre><code>&lt;?php
// Superglobals can be accessed anywhere, including inside functions
function checkSuperglobals() {
    echo "Server name: " . $_SERVER['SERVER_NAME'] . "&lt;br&gt;";
    echo "PHP version: " . $_SERVER['PHP_SELF'] . "&lt;br&gt;";
    
    if (isset($_GET['name'])) {
        echo "Name from URL: " . $_GET['name'] . "&lt;br&gt;";
    }
    
    if (isset($_POST['email'])) {
        echo "Email from form: " . $_POST['email'] . "&lt;br&gt;";
    }
}

checkSuperglobals();
?&gt;</code></pre>
            
            <p>Common superglobals include:</p>
            <ul>
                <li><code>$_GET</code> - Contains variables passed via URL parameters</li>
                <li><code>$_POST</code> - Contains variables passed via HTTP POST method</li>
                <li><code>$_SESSION</code> - Contains variables stored in the session</li>
                <li><code>$_COOKIE</code> - Contains variables passed via HTTP cookies</li>
                <li><code>$_SERVER</code> - Contains server and execution environment info</li>
                <li><code>$_FILES</code> - Contains info about uploaded files</li>
                <li><code>$_REQUEST</code> - Contains data from $_GET, $_POST, and $_COOKIE</li>
                <li><code>$_ENV</code> - Contains environment variables</li>
                <li><code>$GLOBALS</code> - Contains all global variables</li>
            </ul>
            
            <div class="mermaid-diagram">
                <div class="mermaid">
                flowchart TD
                    A[PHP Variable Scope] --> B[Local Scope]
                    A --> C[Global Scope]
                    A --> D[Static Variables]
                    A --> E[Superglobals]
                    
                    B --> B1["Limited to function where declared"]
                    C --> C1["Available throughout script but must use 'global' keyword in functions"]
                    D --> D1["Retain value between function calls"]
                    E --> E1["Available in all scopes without declaration"]
                    
                    style A fill:#f96,stroke:#333,stroke-width:2px
                </div>
            </div>
            
            <h3>Variable Variables</h3>
            <p>PHP supports a feature called "variable variables" where the value of one variable can be used as the name of another variable.</p>
            
            <pre><code>&lt;?php
// Basic variable
$name = "John";

// Variable variable - using the value of $name as a variable name
$varName = "name";
$$varName = "David";  // This is effectively the same as $name = "David"

echo $name . "&lt;br&gt;";     // Outputs: David
echo $$varName . "&lt;br&gt;";  // Also outputs: David
?&gt;</code></pre>
            
            <p>This advanced feature is useful in some dynamic programming scenarios but should be used with caution as it can make code harder to understand and debug.</p>
        </section>

        <section class="scalar_types">
            <h2>Scalar Data Types</h2>
            <p>Scalar types represent single values. PHP has four scalar data types: integers, floats, strings, and booleans.</p>
            
            <h3>Integers</h3>
            <p>Integers are whole numbers without decimal points. They can be positive or negative.</p>
            
            <pre><code>&lt;?php
// Integer declarations
$positiveInt = 42;
$negativeInt = -17;
$zeroInt = 0;

// Integer can be specified in different bases
$decimalInt = 1234;        // Decimal (base 10)
$octalInt = 0777;          // Octal (base 8) - starts with 0
$hexadecimalInt = 0xFF;    // Hexadecimal (base 16) - starts with 0x
$binaryInt = 0b1010;       // Binary (base 2) - starts with 0b

// Integer size depends on platform (32-bit or 64-bit)
echo "Maximum integer value: " . PHP_INT_MAX . "&lt;br&gt;";
echo "Minimum integer value: " . PHP_INT_MIN . "&lt;br&gt;";

// Check if a value is an integer
$checkValue = 123;
var_dump(is_int($checkValue));  // Outputs: bool(true)

// Integer overflow - exceeding PHP_INT_MAX will convert to float
$bigNumber = PHP_INT_MAX + 1;
var_dump($bigNumber);  // Will show as float on 32-bit systems
?&gt;</code></pre>
            
            <h3>Floats (Doubles)</h3>
            <p>Floats (also called doubles) are numbers with decimal points or numbers in exponential form.</p>
            
            <pre><code>&lt;?php
// Float declarations
$simpleFloat = 3.14;
$negativeFloat = -2.718;
$scientificNotation = 1.2e3;  // 1.2 × 10³ = 1200

// Float precision issues
$precisionIssue = 0.1 + 0.2;
echo $precisionIssue . "&lt;br&gt;";  // Might output something like 0.30000000000000004

// Comparing floats safely
$a = 1.23;
$b = 1.23000001;

// Direct comparison can be problematic
var_dump($a == $b);  // Might be true or false depending on precision

// Better to use a small epsilon value for comparison
$epsilon = 0.00001;
var_dump(abs($a - $b) < $epsilon);  // More reliable comparison

// Check if a value is a float
var_dump(is_float(3.14));  // Outputs: bool(true)
?&gt;</code></pre>
            
            <div class="important-note">
                <h4>Float Precision Warning</h4>
                <p>Floats in PHP (and most programming languages) have limited precision. Never rely on exact float comparisons, especially for financial calculations. Consider using dedicated libraries like BCMath for precise decimal math.</p>
            </div>
            
            <h3>Strings</h3>
            <p>Strings are sequences of characters. PHP offers several ways to create and manipulate strings.</p>
            
            <pre><code>&lt;?php
// String declarations
$singleQuoted = 'This is a single-quoted string';
$doubleQuoted = "This is a double-quoted string";

// String with variable interpolation
$name = "John";
$greeting = "Hello, $name!";  // Variable is expanded in double quotes
echo $greeting . "&lt;br&gt;";  // Outputs: Hello, John!

$greeting2 = 'Hello, $name!';  // No variable expansion in single quotes
echo $greeting2 . "&lt;br&gt;";  // Outputs: Hello, $name!

// Escaping characters
$escapedSingle = 'It\'s a nice day';  // Escaping a single quote in single-quoted string
$escapedDouble = "She said, \"Hello!\"";  // Escaping double quotes in double-quoted string

// Special escape sequences (work only in double quotes)
$withNewline = "First line\nSecond line";  // \n is a newline
$withTab = "Column1\tColumn2";  // \t is a tab
echo nl2br($withNewline) . "&lt;br&gt;";  // nl2br converts \n to HTML break tags

// Heredoc syntax (works like double quotes)
$heredocString = &lt;&lt;&lt;EOT
This is a heredoc string.
It can span multiple lines.
Variables like $name are expanded.
EOT;

// Nowdoc syntax (works like single quotes)
$nowdocString = &lt;&lt;&lt;'EOD'
This is a nowdoc string.
It can also span multiple lines.
But variables like $name are not expanded.
EOD;

// String concatenation
$firstName = "John";
$lastName = "Doe";
$fullName = $firstName . " " . $lastName;  // Using the dot operator

// String functions
echo strlen($fullName) . "&lt;br&gt;";  // String length: 8
echo strtoupper($fullName) . "&lt;br&gt;";  // Converts to uppercase: JOHN DOE
echo substr($fullName, 0, 4) . "&lt;br&gt;";  // Extracts first 4 characters: John
echo str_replace("John", "Jane", $fullName) . "&lt;br&gt;";  // Replaces text: Jane Doe

// Check if a value is a string
var_dump(is_string("Hello"));  // Outputs: bool(true)
?&gt;</code></pre>
            
            <h3>Booleans</h3>
            <p>Booleans represent truth values: they can be either true or false.</p>
            
            <pre><code>&lt;?php
// Boolean declarations
$isTrue = true;   // Note: true and false are case-insensitive
$isFalse = false; // (TRUE, True, FALSE, False are all valid)

// Boolean type casting
echo "true cast to int: " . (int)true . "&lt;br&gt;";   // Outputs: 1
echo "false cast to int: " . (int)false . "&lt;br&gt;";  // Outputs: 0
echo "true cast to string: " . (string)true . "&lt;br&gt;";   // Outputs: 1
echo "false cast to string: " . (string)false . "&lt;br&gt;";  // Outputs: "" (empty string)

// Expressions that evaluate to boolean
$boolResult1 = 5 > 3;   // true
$boolResult2 = 10 === "10";  // false (strict comparison, different types)
$boolResult3 = 10 == "10";   // true (loose comparison, converts types)

// Check if a value is a boolean
var_dump(is_bool(true));  // Outputs: bool(true)

// Values considered false in conditional contexts:
// - The boolean false itself
// - The integer 0
// - The float 0.0
// - The empty string "" and the string "0"
// - An array with zero elements
// - The special NULL value
// All other values are considered true

// Examples
if (0) {
    echo "This won't be printed.&lt;br&gt;";
}

if ("0") {
    echo "This won't be printed either.&lt;br&gt;";
}

if ("") {
    echo "Nor will this.&lt;br&gt;";
}

if (1) {
    echo "This will be printed.&lt;br&gt;";
}

if ("any non-empty string except 0") {
    echo "This will also be printed.&lt;br&gt;";
}
?&gt;</code></pre>
            
            <svg width="650" height="300" viewBox="0 0 650 300">
                <!-- Background -->
                <rect x="0" y="0" width="650" height="300" fill="#f8f9fa" rx="10" ry="10" />
                
                <!-- Title -->
                <text x="325" y="30" font-size="20" fill="#333" text-anchor="middle" font-weight="bold">PHP Scalar Data Types</text>
                
                <!-- Integer section -->
                <rect x="20" y="60" width="140" height="200" rx="10" ry="10" fill="#e3f2fd" stroke="#2196f3" />
                <text x="90" y="90" font-size="16" fill="#0d47a1" text-anchor="middle" font-weight="bold">Integer</text>
                <text x="90" y="120" font-size="14" fill="#333" text-anchor="middle">Whole numbers</text>
                <text x="90" y="150" font-size="14" fill="#333" text-anchor="middle">$age = 25;</text>
                <text x="90" y="180" font-size="14" fill="#333" text-anchor="middle">$hex = 0x1A;</text>
                <text x="90" y="210" font-size="14" fill="#333" text-anchor="middle">$bin = 0b1010;</text>
                <text x="90" y="240" font-size="14" fill="#333" text-anchor="middle">Range depends on</text>
                <text x="90" y="260" font-size="14" fill="#333" text-anchor="middle">system (32/64-bit)</text>
                
                <!-- Float section -->
                <rect x="180" y="60" width="140" height="200" rx="10" ry="10" fill="#e8f5e9" stroke="#4caf50" />
                <text x="250" y="90" font-size="16" fill="#1b5e20" text-anchor="middle" font-weight="bold">Float</text>
                <text x="250" y="120" font-size="14" fill="#333" text-anchor="middle">Decimal numbers</text>
                <text x="250" y="150" font-size="14" fill="#333" text-anchor="middle">$price = 9.99;</text>
                <text x="250" y="180" font-size="14" fill="#333" text-anchor="middle">$sci = 1.2e3;</text>
                <text x="250" y="210" font-size="14" fill="#333" text-anchor="middle">Limited precision</text>
                <text x="250" y="240" font-size="14" fill="#333" text-anchor="middle">Use BCMath for</text>
                <text x="250" y="260" font-size="14" fill="#333" text-anchor="middle">financial calculations</text>
                
                <!-- String section -->
                <rect x="340" y="60" width="140" height="200" rx="10" ry="10" fill="#fff8e1" stroke="#ffc107" />
                <text x="410" y="90" font-size="16" fill="#e65100" text-anchor="middle" font-weight="bold">String</text>
                <text x="410" y="120" font-size="14" fill="#333" text-anchor="middle">Text data</text>
                <text x="410" y="150" font-size="14" fill="#333" text-anchor="middle">'Single quotes'</text>
                <text x="410" y="180" font-size="14" fill="#333" text-anchor="middle">"Double quotes"</text>
                <text x="410" y="210" font-size="14" fill="#333" text-anchor="middle">Heredoc &lt;&lt;&lt;EOT</text>
                <text x="410" y="240" font-size="14" fill="#333" text-anchor="middle">Nowdoc &lt;&lt;&lt;'EOD'</text>
                <text x="410" y="260" font-size="14" fill="#333" text-anchor="middle">Binary safe</text>
                
                <!-- Boolean section -->
                <rect x="500" y="60" width="140" height="200" rx="10" ry="10" fill="#f3e5f5" stroke="#9c27b0" />
                <text x="570" y="90" font-size="16" fill="#4a148c" text-anchor="middle" font-weight="bold">Boolean</text>
                <text x="570" y="120" font-size="14" fill="#333" text-anchor="middle">Truth values</text>
                <text x="570" y="150" font-size="14" fill="#333" text-anchor="middle">$active = true;</text>
                <text x="570" y="180" font-size="14" fill="#333" text-anchor="middle">$deleted = false;</text>
                <text x="570" y="210" font-size="14" fill="#333" text-anchor="middle">true = 1</text>
                <text x="570" y="240" font-size="14" fill="#333" text-anchor="middle">false = 0</text>
                <text x="570" y="260" font-size="14" fill="#333" text-anchor="middle">Case-insensitive</text>
            </svg>
        </section>

        <section class="compound_types">
            <h2>Compound Data Types</h2>
            <p>Compound types can store multiple values in a single variable. PHP has two main compound types: arrays and objects.</p>
            
            <h3>Arrays</h3>
            <p>Arrays in PHP are ordered maps that can associate values with keys. PHP arrays are incredibly versatile and can be used as simple lists, dictionaries, stacks, queues, and more.</p>
            
            <h4>Indexed Arrays</h4>
            <p>Indexed arrays use numeric keys, usually starting from 0.</p>
            
            <pre><code>&lt;?php
// Creating indexed arrays
$fruits = ["apple", "banana", "cherry"];  // Short array syntax (PHP 5.4+)
$vegetables = array("carrot", "broccoli", "spinach");  // Traditional syntax

// Accessing elements
echo $fruits[0] . "&lt;br&gt;";  // Outputs: apple
echo $vegetables[1] . "&lt;br&gt;";  // Outputs: broccoli

// Adding elements to the end
$fruits[] = "orange";  // Adds "orange" to the end of $fruits

// Counting elements
echo count($fruits) . "&lt;br&gt;";  // Outputs: 4

// Looping through an indexed array
foreach ($fruits as $fruit) {
    echo $fruit . " ";
}
// Outputs: apple banana cherry orange

// Loop with index
foreach ($fruits as $index => $fruit) {
    echo "$index: $fruit&lt;br&gt;";
}
// Outputs:
// 0: apple
// 1: banana
// 2: cherry
// 3: orange
?&gt;</code></pre>
            
            <h4>Associative Arrays</h4>
            <p>Associative arrays use named keys instead of numeric indices.</p>
            
            <pre><code>&lt;?php
// Creating associative arrays
$person = [
    "name" => "John Doe",
    "age" => 30,
    "email" => "john@example.com"
];

// Alternative syntax
$car = array(
    "make" => "Toyota",
    "model" => "Corolla",
    "year" => 2020
);

// Accessing elements
echo $person["name"] . "&lt;br&gt;";  // Outputs: John Doe
echo $car["model"] . "&lt;br&gt;";  // Outputs: Corolla

// Adding or modifying elements
$person["phone"] = "555-1234";  // Adds a new element
$car["year"] = 2021;  // Modifies an existing element

// Looping through an associative array
foreach ($person as $key => $value) {
    echo "$key: $value&lt;br&gt;";
}
// Outputs:
// name: John Doe
// age: 30
// email: john@example.com
// phone: 555-1234
?&gt;</code></pre>
            
            <h4>Multidimensional Arrays</h4>
            <p>Arrays can contain other arrays, creating multidimensional structures.</p>
            
            <pre><code>&lt;?php
// Two-dimensional array
$contacts = [
    [
        "name" => "John Doe",
        "email" => "john@example.com",
        "phone" => "555-1234"
    ],
    [
        "name" => "Jane Smith",
        "email" => "jane@example.com",
        "phone" => "555-5678"
    ]
];

// Accessing elements
echo $contacts[0]["name"] . "&lt;br&gt;";  // Outputs: John Doe
echo $contacts[1]["email"] . "&lt;br&gt;";  // Outputs: jane@example.com

// More complex multidimensional array
$store = [
    "products" => [
        "electronics" => [
            ["id" => 1, "name" => "TV", "price" => 499.99],
            ["id" => 2, "name" => "Laptop", "price" => 899.99]
        ],
        "clothing" => [
            ["id" => 3, "name" => "T-Shirt", "price" => 19.99],
            ["id" => 4, "name" => "Jeans", "price" => 59.99]
        ]
    ],
    "locations" => [
        "New York" => ["address" => "123 Broadway", "phone" => "212-555-1234"],
        "Los Angeles" => ["address" => "456 Hollywood Blvd", "phone" => "213-555-5678"]
    ]
];

// Accessing deeply nested elements
echo $store["products"]["electronics"][1]["name"] . "&lt;br&gt;";  // Outputs: Laptop
echo $store["locations"]["New York"]["phone"] . "&lt;br&gt;";  // Outputs: 212-555-1234

// Looping through multidimensional arrays
foreach ($contacts as $contact) {
    echo "Name: " . $contact["name"] . ", Email: " . $contact["email"] . "&lt;br&gt;";
}

// More complex loops
foreach ($store["products"] as $category => $items) {
    echo "Category: $category&lt;br&gt;";
    foreach ($items as $item) {
        echo "- " . $item["name"] . ": $" . $item["price"] . "&lt;br&gt;";
    }
}
?&gt;</code></pre>
            
            <h4>Array Functions</h4>
            <p>PHP provides a rich set of functions for working with arrays.</p>
            
            <pre><code>&lt;?php
$numbers = [5, 3, 8, 1, 9, 4];

// Sorting
sort($numbers);  // Sorts in ascending order
print_r($numbers);  // Outputs: Array ( [0] => 1 [1] => 3 [2] => 4 [3] => 5 [4] => 8 [5] => 9 )

$fruits = ["apple" => "red", "banana" => "yellow", "grape" => "purple"];

// Sorting associative arrays
asort($fruits);  // Sorts by value, maintains key association
print_r($fruits);

ksort($fruits);  // Sorts by key
print_r($fruits);

// Array operations
$a = [1, 2, 3];
$b = [4, 5, 6];
$merged = array_merge($a, $b);  // Combines arrays
print_r($merged);  // Outputs: Array ( [0] => 1 [1] => 2 [2] => 3 [3] => 4 [4] => 5 [5] => 6 )

$diff = array_diff($merged, $a);  // Returns elements in first array not in second
print_r($diff);  // Outputs: Array ( [3] => 4 [4] => 5 [5] => 6 )

$slice = array_slice($merged, 2, 3);  // Extract a portion of an array
print_r($slice);  // Outputs: Array ( [0] => 3 [1] => 4 [2] => 5 )

// Checking for elements
$search = "apple";
$inArray = in_array($search, $fruits);  // Checks if value exists
$keyExists = array_key_exists($search, $fruits);  // Checks if key exists

// Filtering arrays
$numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
$evens = array_filter($numbers, function($n) {
    return $n % 2 === 0;
});
print_r($evens);  // Outputs even numbers only

// Transforming arrays
$squared = array_map(function($n) {
    return $n * $n;
}, $numbers);
print_r($squared);  // Outputs squared numbers

// Reducing arrays to a single value
$sum = array_reduce($numbers, function($carry, $item) {
    return $carry + $item;
}, 0);
echo "Sum: $sum&lt;br&gt;";  // Outputs: Sum: 55
?&gt;</code></pre>
            
            <p class="analogy"><strong>Analogy:</strong> Think of arrays as organized storage containers. An indexed array is like a set of numbered mailboxes where you access contents by box number. An associative array is like a filing cabinet where folders are labeled with names instead of numbers. A multidimensional array is like a building with floors, rooms, and cabinets - you need multiple coordinates to find what you're looking for.</p>
            
            <h3>Objects</h3>
            <p>Objects in PHP are instances of classes, which define properties (variables) and methods (functions) that operate on those properties.</p>
            
            <pre><code>&lt;?php
// Defining a simple class
class Person {
    // Properties
    public $name;
    public $age;
    
    // Constructor - automatically called when creating a new instance
    public function __construct($name, $age) {
        $this->name = $name;
        $this->age = $age;
    }
    
    // Method
    public function greet() {
        return "Hello, my name is {$this->name} and I am {$this->age} years old.";
    }
    
    // Method with parameters
    public function birthday() {
        $this->age++;
        return "Happy Birthday! Now I'm {$this->age}.";
    }
}

// Creating an object
$person1 = new Person("John", 30);
$person2 = new Person("Jane", 25);

// Accessing properties
echo $person1->name . "&lt;br&gt;";  // Outputs: John
echo $person2->age . "&lt;br&gt;";   // Outputs: 25

// Calling methods
echo $person1->greet() . "&lt;br&gt;";  // Outputs: Hello, my name is John and I am 30 years old.
echo $person2->birthday() . "&lt;br&gt;";  // Outputs: Happy Birthday! Now I'm 26.

// Check if a variable is an object
var_dump(is_object($person1));  // Outputs: bool(true)

// Get the class of an object
echo get_class($person1) . "&lt;br&gt;";  // Outputs: Person
?&gt;</code></pre>
            
            <p>We'll explore object-oriented programming in PHP in more detail in later sessions. For now, understand that objects provide a way to bundle data and functionality together into reusable components.</p>
        </section>

        <section class="special_types">
            <h2>Special Data Types</h2>
            <p>PHP has two special data types that don't fit neatly into the scalar or compound categories: NULL and resource.</p>
            
            <h3>NULL</h3>
            <p>NULL represents a variable with no value. A variable is NULL if:</p>
            <ul>
                <li>It has been assigned the constant NULL</li>
                <li>It has not been set to any value yet</li>
                <li>It has been unset()</li>
            </ul>
            
            <pre><code>&lt;?php
// Variables with NULL value
$var1 = NULL;  // Explicitly set to NULL
$var2;         // Implicitly NULL (uninitialized variable)

var_dump($var1);  // Outputs: NULL
var_dump($var2);  // Outputs: NULL

// Checking for NULL
if (is_null($var1)) {
    echo "Variable is NULL&lt;br&gt;";
}

// Alternative check using === operator
if ($var1 === NULL) {
    echo "Variable is NULL&lt;br&gt;";
}

// Converting to NULL using unset()
$var3 = "Hello";
unset($var3);
// var_dump($var3);  // This would cause an error because $var3 no longer exists

// Nullish coalescing operator (PHP 7+)
$username = $_GET['user'] ?? 'Guest';  // If $_GET['user'] is not set or is NULL, use 'Guest'
echo "Welcome, $username&lt;br&gt;";
?&gt;</code></pre>
            
            <p class="analogy"><strong>Analogy:</strong> NULL is like an empty plot of land. It exists as a location in memory, but nothing has been built on it yet. It's different from zero (which is a specific value) or an empty string (which still contains data - just zero characters).</p>
            
            <h3>Resource</h3>
            <p>A resource is a special variable that holds a reference to an external resource, such as a database connection, file handle, or image canvas.</p>
            
            <pre><code>&lt;?php
// File resource example
$file = fopen("example.txt", "w");  // Open file for writing
var_dump($file);  // Outputs: resource(5) of type (stream)

// Writing to the file
fwrite($file, "Hello, World!");

// Close the resource when done
fclose($file);

// Database resource example (using MySQLi)
$conn = mysqli_connect("localhost", "username", "password", "database");
var_dump($conn);  // Outputs something like: object(mysqli)#1

// Check if variable is a resource
$file2 = fopen("example.txt", "r");
if (is_resource($file2)) {
    echo "This is a valid resource&lt;br&gt;";
    fclose($file2);
}

// Note: As of PHP 8, many resources have been converted to objects
// For example, MySQLi connections were resources in older PHP versions
// but are now objects
?&gt;</code></pre>
            
            <p>Resources are typically created by special functions and need to be properly managed. Most resource types provide a specific function to close or free the resource when you're done with it.</p>
            
            <div class="important-note">
                <h4>Resource Management</h4>
                <p>Always close or free resources when you're finished using them. Failing to do so can lead to memory leaks or locked files, especially in long-running scripts or applications.</p>
            </div>
        </section>

        <section class="type_juggling">
            <h2>Type Juggling and Type Casting</h2>
            <p>PHP is a loosely typed language, which means variables can change types automatically depending on context. This feature is called type juggling or type coercion.</p>
            
            <h3>Automatic Type Juggling</h3>
            <p>PHP will automatically convert values from one type to another when needed.</p>
            
            <pre><code>&lt;?php
// String and number in a mathematical operation
$result = "10" + 5;  // "10" is converted to the integer 10
echo $result . "&lt;br&gt;";  // Outputs: 15

// Boolean in a string operation
$greeting = "Hello, " . true;  // true is converted to the string "1"
echo $greeting . "&lt;br&gt;";  // Outputs: Hello, 1

// Numeric strings compared as numbers
$comparison = "10" == 10;  // Automatic conversion for comparison
var_dump($comparison);  // Outputs: bool(true)

// But strict comparison checks type too
$strictComparison = "10" === 10;  // No conversion with strict comparison
var_dump($strictComparison);  // Outputs: bool(false)
?&gt;</code></pre>
            
            <h3>Explicit Type Casting</h3>
            <p>You can force a value to be converted to a specific type using type casting.</p>
            
            <pre><code>&lt;?php
// Type casting examples
$strNumber = "42";

// Cast to integer
$intNumber = (int)$strNumber;  // or intval($strNumber)
var_dump($intNumber);  // Outputs: int(42)

// Cast to float
$floatNumber = (float)$strNumber;  // or floatval($strNumber)
var_dump($floatNumber);  // Outputs: float(42)

// Cast to boolean
$boolValue = (bool)$strNumber;  // or boolval($strNumber)
var_dump($boolValue);  // Outputs: bool(true) (any non-zero/non-empty value is true)

// Cast to string
$intValue = 123;
$strValue = (string)$intValue;  // or strval($intValue)
var_dump($strValue);  // Outputs: string(3) "123"

// Cast to array
$scalar = "hello";
$arrayValue = (array)$scalar;
var_dump($arrayValue);  // Outputs: array(1) { [0]=> string(5) "hello" }

// Cast to object
$assocArray = ["name" => "John", "age" => 30];
$objValue = (object)$assocArray;
var_dump($objValue);  // Outputs: object(stdClass)#1 (2) { ["name"]=> string(4) "John" ["age"]=> int(30) }
?&gt;</code></pre>
            
            <h3>Type Casting Rules</h3>
            <p>When PHP converts between types, it follows specific rules:</p>
            
            <h4>To Integer</h4>
            <ul>
                <li>Booleans: <code>true</code> becomes 1, <code>false</code> becomes 0</li>
                <li>Floats: rounded toward zero (e.g., 3.7 becomes 3)</li>
                <li>Strings: parsed until non-numeric character (e.g., "42abc" becomes 42)</li>
                <li>Empty strings become 0</li>
                <li>Arrays: empty array becomes 0, non-empty array becomes 1</li>
                <li>NULL becomes 0</li>
            </ul>
            
            <h4>To Float</h4>
            <ul>
                <li>Booleans: <code>true</code> becomes 1.0, <code>false</code> becomes 0.0</li>
                <li>Integers: converted directly (e.g., 3 becomes 3.0)</li>
                <li>Strings: parsed until non-numeric character (e.g., "3.14abc" becomes 3.14)</li>
                <li>Arrays: similar to integer conversion</li>
                <li>NULL becomes 0.0</li>
            </ul>
            
            <h4>To String</h4>
            <ul>
                <li>Booleans: <code>true</code> becomes "1", <code>false</code> becomes "" (empty string)</li>
                <li>Integers and Floats: converted to their string representation</li>
                <li>Arrays: converted to the string "Array"</li>
                <li>NULL becomes an empty string</li>
                <li>Objects: becomes "Object" unless the class implements __toString()</li>
            </ul>
            
            <h4>To Boolean</h4>
            <ul>
                <li>Integers and Floats: 0 and 0.0 become <code>false</code>, all others become <code>true</code></li>
                <li>Strings: empty string and "0" become <code>false</code>, all others become <code>true</code></li>
                <li>Arrays: empty array becomes <code>false</code>, non-empty array becomes <code>true</code></li>
                <li>NULL becomes <code>false</code></li>
            </ul>
            
            <div class="mermaid-diagram">
                <div class="mermaid">
                flowchart LR
                    A[PHP Types] --> B[Automatic Type Juggling]
                    A --> C[Explicit Type Casting]
                    
                    B --> D[Loose Comparisons ==]
                    B --> E[Automatic Type Conversion]
                    
                    C --> F[Type Casting Syntax]
                    C --> G[Type Conversion Functions]
                    
                    F --> F1["(int), (float), (string), (bool), etc."]
                    G --> G1["intval(), floatval(), strval(), boolval(), etc."]
                    
                    style A fill:#f96,stroke:#333,stroke-width:2px
                </div>
            </div>
            
            <h3>Type Safety Considerations</h3>
            <p>While PHP's type juggling offers flexibility, it can also lead to subtle bugs. Here are some tips for safer code:</p>
            
            <pre><code>&lt;?php
// Use strict comparison operators when type matters
$value1 = 0;
$value2 = "0";

// Loose comparison (== and !=) only check value
var_dump($value1 == $value2);   // Outputs: bool(true)

// Strict comparison (=== and !==) check value AND type
var_dump($value1 === $value2);  // Outputs: bool(false)

// Validate user input carefully
$userId = $_GET['id'] ?? '';

// Dangerous approach - could lead to SQL injection
// $query = "SELECT * FROM users WHERE id = $userId";

// Better approach - force integer type
$userId = (int)$userId;
$query = "SELECT * FROM users WHERE id = $userId";

// Or better yet, use prepared statements
// $stmt = $pdo->prepare("SELECT * FROM users WHERE id = ?");
// $stmt->execute([$userId]);

// Be explicit about types when necessary
function addNumbers(int $a, int $b): int {
    return $a + $b;
}

// This works fine
echo addNumbers(5, 10) . "&lt;br&gt;";  // Outputs: 15

// This also works, with automatic type conversion
echo addNumbers("5", "10") . "&lt;br&gt;";  // Outputs: 15

// PHP 7+ allows for more strict typing
declare(strict_types=1);  // Must be the first statement in the file

function strictAdd(int $a, int $b): int {
    return $a + $b;
}

// With strict_types=1, this would cause a TypeError
// echo strictAdd("5", "10");
?&gt;</code></pre>
        </section>

        <section class="practical_applications">
            <h2>Practical Applications in WordPress</h2>
            <p>Let's explore how variables and data types are used in real-world WordPress development.</p>
            
            <h3>WordPress Post Data</h3>
            <p>WordPress stores post data in a combination of scalar and compound types. Here's how you might work with post data:</p>
            
            <pre><code>&lt;?php
// Get a WordPress post
$post_id = 123;
$post = get_post($post_id);

// $post is an object with various properties
echo $post->post_title . "&lt;br&gt;";   // String: Title of the post
echo $post->post_content . "&lt;br&gt;";  // String: Content of the post
echo $post->post_status . "&lt;br&gt;";   // String: publish, draft, etc.
echo $post->post_type . "&lt;br&gt;";     // String: post, page, etc.
echo $post->post_date . "&lt;br&gt;";     // String: post date in Y-m-d H:i:s format

// Get post meta (custom fields)
$views_count = get_post_meta($post_id, 'views_count', true);  // Returns string or array
$views_count = (int)$views_count;  // Cast to integer for calculation
$views_count++;
update_post_meta($post_id, 'views_count', $views_count);

// Get post categories (returns array of term objects)
$categories = wp_get_post_categories($post_id, ['fields' => 'all']);
foreach ($categories as $category) {
    echo "Category: " . $category->name . "&lt;br&gt;";
}

// Get post tags (returns array of term objects)
$tags = wp_get_post_tags($post_id);
if (!empty($tags)) {
    echo "Tags: ";
    foreach ($tags as $tag) {
        echo $tag->name . ", ";
    }
    echo "&lt;br&gt;";
}
?&gt;</code></pre>
            
            <h3>WordPress Options API</h3>
            <p>WordPress stores site-wide settings in the options table, handling various data types automatically:</p>
            
            <pre><code>&lt;?php
// Store different types of data
update_option('site_name', 'My WordPress Site');  // String
update_option('show_avatars', true);  // Boolean
update_option('posts_per_page', 10);  // Integer
update_option('featured_posts', [1, 2, 3, 4, 5]);  // Array

// Retrieve the options (WordPress automatically handles serialization/deserialization)
$site_name = get_option('site_name');  // Returns "My WordPress Site"
$show_avatars = get_option('show_avatars');  // Returns true (boolean)
$posts_per_page = get_option('posts_per_page');  // Returns 10 (integer)
$featured_posts = get_option('featured_posts');  // Returns array([0] => 1, [1] => 2, ...)

// Default values if option doesn't exist
$custom_option = get_option('custom_option', 'default value');
?&gt;</code></pre>
            
            <h3>WordPress Theme Customizer</h3>
            <p>Theme customizers often work with different data types:</p>
            
            <pre><code>&lt;?php
// In a theme's functions.php or customizer file

// Add setting with various data types
$wp_customize->add_setting('header_text', [
    'default' => 'Welcome to our site',  // String default
    'sanitize_callback' => 'sanitize_text_field',
]);

$wp_customize->add_setting('show_search', [
    'default' => true,  // Boolean default
    'sanitize_callback' => 'rest_sanitize_boolean',
]);

$wp_customize->add_setting('footer_columns', [
    'default' => 3,  // Integer default
    'sanitize_callback' => 'absint',
]);

$wp_customize->add_setting('header_colors', [
    'default' => [  // Array default
        'background' => '#ffffff',
        'text' => '#000000',
    ],
    'sanitize_callback' => 'sanitize_header_colors',
]);

// Retrieving the settings in a template
$header_text = get_theme_mod('header_text', 'Welcome to our site');
$show_search = get_theme_mod('show_search', true);
$footer_columns = get_theme_mod('footer_columns', 3);
$header_colors = get_theme_mod('header_colors', ['background' => '#ffffff', 'text' => '#000000']);
?&gt;</code></pre>
            
            <h3>WordPress Custom API Responses</h3>
            <p>When building custom REST API endpoints in WordPress, you'll work with various data types:</p>
            
            <pre><code>&lt;?php
// Register a custom REST API endpoint
add_action('rest_api_init', function () {
    register_rest_route('my-plugin/v1', '/stats/', [
        'methods' => 'GET',
        'callback' => 'get_site_stats',
        'permission_callback' => function () {
            return current_user_can('edit_posts');
        },
    ]);
});

// Callback function returns various data types as an array
function get_site_stats() {
    // Return various data types that will be converted to JSON
    return [
        'site_name' => get_bloginfo('name'),  // String
        'post_count' => (int)wp_count_posts()->publish,  // Integer
        'is_multilingual' => has_filter('locale'),  // Boolean
        'recent_posts' => get_recent_posts_data(),  // Array of objects
        'post_types' => get_post_types(['public' => true], 'names'),  // Array of strings
        'last_updated' => date('Y-m-d H:i:s'),  // String (date format)
    ];
}

// Helper function that creates an array of post objects
function get_recent_posts_data() {
    $posts = get_posts(['numberposts' => 5]);
    $result = [];
    
    foreach ($posts as $post) {
        $result[] = [
            'id' => $post->ID,
            'title' => $post->post_title,
            'url' => get_permalink($post->ID),
            'date' => $post->post_date,
        ];
    }
    
    return $result;
}
?&gt;</code></pre>
        </section>

        <section class="best_practices">
            <h2>Best Practices for PHP Variables and Types</h2>
            <p>Let's wrap up with some best practices for working with variables and types in PHP.</p>
            
            <h3>Naming and Style</h3>
            <ul>
                <li><strong>Be Consistent:</strong> Choose a naming convention (camelCase or snake_case) and stick with it</li>
                <li><strong>Be Descriptive:</strong> Use meaningful variable names that describe the stored value</li>
                <li><strong>Avoid Abbreviations:</strong> Unless they're extremely common ($id, $url), spell out names</li>
                <li><strong>Prefix Special Types:</strong> Consider prefixes for certain types (e.g., $is_ for booleans)</li>
                <li><strong>Follow Framework Conventions:</strong> If using WordPress, follow its conventions (snake_case)</li>
            </ul>
            
            <pre><code>&lt;?php
// Good naming in WordPress context
$post_id = get_the_ID();
$is_published = ($post->post_status === 'publish');
$comment_count = get_comments_number();
$user_meta = get_user_meta($user_id);

// Poor naming
$x = get_the_ID();  // Not descriptive
$flag = ($post->post_status === 'publish');  // Unclear what the boolean represents
$cc = get_comments_number();  // Unclear abbreviation
$data = get_user_meta($user_id);  // Too generic
?&gt;</code></pre>
            
            <h3>Type Safety</h3>
            <ul>
                <li><strong>Use Strict Comparisons:</strong> Prefer === and !== over == and != when possible</li>
                <li><strong>Validate Input:</strong> Always validate and sanitize external data</li>
                <li><strong>Be Explicit:</strong> Use explicit type casting when the type is important</li>
                <li><strong>Consider Type Declarations:</strong> Use parameter and return type declarations (PHP 7+)</li>
                <li><strong>Document Types:</strong> Use PHPDoc comments to document expected types</li>
            </ul>
            
            <pre><code>&lt;?php
/**
 * Calculate the total price including tax.
 *
 * @param float $price      The base price.
 * @param float $tax_rate   The tax rate (e.g., 0.08 for 8%).
 * @param bool  $round      Whether to round the result to 2 decimal places.
 * @return float The total price with tax.
 */
function calculate_total_price(float $price, float $tax_rate, bool $round = true): float {
    $total = $price * (1 + $tax_rate);
    
    if ($round) {
        $total = round($total, 2);
    }
    
    return $total;
}

// Using the function
$item_price = 19.99;
$tax_rate = 0.08;
$total = calculate_total_price($item_price, $tax_rate);
echo "Total with tax: $" . number_format($total, 2) . "&lt;br&gt;";
?&gt;</code></pre>
            
            <h3>Array Handling</h3>
            <ul>
                <li><strong>Check Existence:</strong> Use array_key_exists() or isset() before accessing array elements</li>
                <li><strong>Provide Defaults:</strong> Use the null coalescing operator (??) or a default value</li>
                <li><strong>Use Array Functions:</strong> Leverage PHP's built-in array functions for manipulation</li>
                <li><strong>Avoid array_push():</strong> For single elements, $array[] = $item is faster</li>
                <li><strong>Consider Specialized Collections:</strong> For complex data, consider custom classes over arrays</li>
            </ul>
            
            <pre><code>&lt;?php
// Getting values safely
$user_data = [
    'name' => 'John Doe',
    'email' => 'john@example.com',
];

// Bad - might cause "Undefined array key" notice
// $phone = $user_data['phone'];

// Good - check if key exists
if (array_key_exists('phone', $user_data)) {
    $phone = $user_data['phone'];
} else {
    $phone = 'Not provided';
}

// Better - use null coalescing operator (PHP 7+)
$phone = $user_data['phone'] ?? 'Not provided';

// Working with multidimensional arrays safely
$settings = [
    'display' => [
        'theme' => 'dark',
    ],
];

// Bad - might cause error if keys don't exist
// $font_size = $settings['display']['font']['size'];

// Good - nested null coalescing
$font_size = $settings['display']['font']['size'] ?? 12;

// Alternative approach with optional chaining (PHP 8+)
// $font_size = $settings['display']['font']['size'] ?? 12;
?&gt;</code></pre>
            
            <h3>Memory Management</h3>
            <ul>
                <li><strong>Unset Unused Variables:</strong> Free memory for large variables when no longer needed</li>
                <li><strong>Use References for Large Data:</strong> Pass by reference to avoid copying large arrays</li>
                <li><strong>Close Resources:</strong> Always close file handles, database connections, etc.</li>
                <li><strong>Be Careful with Circular References:</strong> These can prevent garbage collection</li>
            </ul>
            
            <pre><code>&lt;?php
// Processing a large file line by line
$file = fopen('large_log_file.txt', 'r');
if ($file) {
    while (($line = fgets($file)) !== false) {
        // Process the line
        process_log_line($line);
    }
    
    // Close the resource when done
    fclose($file);
}

// Unset large variables when done
$large_array = get_very_large_dataset();
process_data($large_array);
unset($large_array);  // Free memory

// Pass by reference for large arrays
function process_large_array(array &$data) {
    // Modifying $data directly
    foreach ($data as &$item) {
        $item *= 2;
    }
    // Important: unset the reference after use to avoid issues
    unset($item);
}
?&gt;</code></pre>
            
            <h3>WordPress-Specific Practices</h3>
            <ul>
                <li><strong>Use WordPress Functions:</strong> Prefer functions like absint(), sanitize_text_field(), etc.</li>
                <li><strong>Prefix Global Variables:</strong> Use a plugin/theme prefix for any global variables</li>
                <li><strong>Use WordPress Data Structures:</strong> Leverage WP_Query, WP_User, etc.</li>
                <li><strong>Sanitize User Input:</strong> Always sanitize input with appropriate WordPress functions</li>
                <li><strong>Escape Output:</strong> Use esc_html(), esc_attr(), etc. for displaying data</li>
            </ul>
            
            <pre><code>&lt;?php
// Sanitizing input in WordPress
$user_input = isset($_POST['title']) ? sanitize_text_field($_POST['title']) : '';
$user_email = isset($_POST['email']) ? sanitize_email($_POST['email']) : '';
$user_url = isset($_POST['website']) ? esc_url_raw($_POST['website']) : '';
$user_number = isset($_POST['count']) ? absint($_POST['count']) : 0;

// Escaping output in WordPress
echo '&lt;h1&gt;' . esc_html($post_title) . '&lt;/h1&gt;';
echo '&lt;a href="' . esc_url($post_url) . '" title="' . esc_attr($post_title) . '"&gt;Read more&lt;/a&gt;';
echo '&lt;div class="description"&gt;' . wp_kses_post($post_content) . '&lt;/div&gt;';
?&gt;</code></pre>
        </section>

        <section class="exercise">
            <h2>Practical Exercise: WordPress User Profile Data</h2>
            <p>Let's apply what we've learned with a practical exercise involving various data types in a WordPress context. We'll create a function to collect and display a user's profile data using different types of variables.</p>
            
            <pre><code>&lt;?php
/**
 * Get and format a user's profile data.
 *
 * This function demonstrates working with various PHP data types
 * to collect and format a WordPress user's profile information.
 *
 * @param int $user_id The WordPress user ID.
 * @return array|WP_Error An array of user data or WP_Error if user doesn't exist.
 */
function get_formatted_user_profile($user_id) {
    // Validate input
    $user_id = absint($user_id);
    
    // Get user object
    $user = get_userdata($user_id);
    
    // Check if user exists
    if (!$user) {
        return new WP_Error('invalid_user', 'User does not exist');
    }
    
    // Initialize result array (associative array)
    $profile = [];
    
    // Basic user info (strings)
    $profile['display_name'] = $user->display_name;
    $profile['email'] = $user->user_email;
    $profile['website'] = esc_url($user->user_url);
    $profile['bio'] = wp_kses_post($user->description);
    
    // User registration date (string to DateTime object)
    $registration_date = new DateTime($user->user_registered);
    $profile['registered_since'] = $registration_date->format('F j, Y');
    
    // Account age in days (integer)
    $now = new DateTime();
    $interval = $registration_date->diff($now);
    $profile['account_age_days'] = (int)$interval->days;
    
    // User role (string)
    $profile['role'] = $user->roles[0] ?? 'subscriber';
    
    // User capabilities (associative array of booleans)
    $profile['capabilities'] = [];
    foreach (['edit_posts', 'publish_posts', 'manage_options', 'upload_files'] as $cap) {
        $profile['capabilities'][$cap] = user_can($user_id, $cap);
    }
    
    // Post counts (integers)
    $post_count = count_user_posts($user_id, 'post', true);
    $page_count = count_user_posts($user_id, 'page', true);
    $profile['content_stats'] = [
        'posts' => $post_count,
        'pages' => $page_count,
        'total' => $post_count + $page_count
    ];
    
    // Last login timestamp (integer or null)
    $last_login = get_user_meta($user_id, 'last_login', true);
    $profile['last_login'] = $last_login ? (int)$last_login : null;
    
    // Is account active (boolean)
    $is_active = !get_user_meta($user_id, 'inactive', true);
    $profile['is_active'] = (bool)$is_active;
    
    // Social profiles (array of strings)
    $social_profiles = [];
    foreach (['facebook', 'twitter', 'instagram', 'linkedin'] as $platform) {
        $profile_url = get_user_meta($user_id, $platform . '_profile', true);
        if ($profile_url) {
            $social_profiles[$platform] = esc_url($profile_url);
        }
    }
    $profile['social_profiles'] = $social_profiles;
    
    // Additional contact methods (array or null)
    $contact_methods = wp_get_user_contact_methods($user);
    if (!empty($contact_methods)) {
        $profile['contact_methods'] = [];
        foreach ($contact_methods as $method => $label) {
            $value = $user->get($method);
            if ($value) {
                $profile['contact_methods'][$method] = $value;
            }
        }
    } else {
        $profile['contact_methods'] = null;
    }
    
    return $profile;
}

/**
 * Display user profile information.
 *
 * @param array $profile The user profile data.
 * @return string HTML markup for the profile.
 */
function display_user_profile(array $profile): string {
    // Initialize output variable (string)
    $output = '';
    
    // Basic info section
    $output .= '&lt;div class="user-profile"&gt;';
    $output .= '&lt;h2&gt;' . esc_html($profile['display_name']) . '&lt;/h2&gt;';
    
    if (!empty($profile['bio'])) {
        $output .= '&lt;div class="bio"&gt;' . wp_kses_post($profile['bio']) . '&lt;/div&gt;';
    }
    
    $output .= '&lt;ul class="user-details"&gt;';
    $output .= '&lt;li&gt;&lt;strong&gt;Email:&lt;/strong&gt; ' . esc_html($profile['email']) . '&lt;/li&gt;';
    
    if (!empty($profile['website'])) {
        $output .= '&lt;li&gt;&lt;strong&gt;Website:&lt;/strong&gt; &lt;a href="' . esc_url($profile['website']) . '"&gt;' . esc_html($profile['website']) . '&lt;/a&gt;&lt;/li&gt;';
    }
    
    $output .= '&lt;li&gt;&lt;strong&gt;Registered:&lt;/strong&gt; ' . esc_html($profile['registered_since']) . ' (' . esc_html($profile['account_age_days']) . ' days)&lt;/li&gt;';
    $output .= '&lt;li&gt;&lt;strong&gt;Role:&lt;/strong&gt; ' . esc_html(ucfirst($profile['role'])) . '&lt;/li&gt;';
    
    // Last login info (handling null)
    if ($profile['last_login'] !== null) {
        $last_login_date = date('F j, Y g:i a', $profile['last_login']);
        $output .= '&lt;li&gt;&lt;strong&gt;Last Login:&lt;/strong&gt; ' . esc_html($last_login_date) . '&lt;/li&gt;';
    } else {
        $output .= '&lt;li&gt;&lt;strong&gt;Last Login:&lt;/strong&gt; Never&lt;/li&gt;';
    }
    
    // Account status (boolean displayed as text)
    $status_text = $profile['is_active'] ? 'Active' : 'Inactive';
    $status_class = $profile['is_active'] ? 'active' : 'inactive';
    $output .= '&lt;li&gt;&lt;strong&gt;Status:&lt;/strong&gt; &lt;span class="status-' . $status_class . '"&gt;' . $status_text . '&lt;/span&gt;&lt;/li&gt;';
    
    $output .= '&lt;/ul&gt;';
    
    // Content stats (numeric data)
    if (!empty($profile['content_stats'])) {
        $output .= '&lt;div class="content-stats"&gt;';
        $output .= '&lt;h3&gt;Content Statistics&lt;/h3&gt;';
        $output .= '&lt;ul&gt;';
        $output .= '&lt;li&gt;Posts: ' . (int)$profile['content_stats']['posts'] . '&lt;/li&gt;';
        $output .= '&lt;li&gt;Pages: ' . (int)$profile['content_stats']['pages'] . '&lt;/li&gt;';
        $output .= '&lt;li&gt;Total: ' . (int)$profile['content_stats']['total'] . '&lt;/li&gt;';
        $output .= '&lt;/ul&gt;';
        $output .= '&lt;/div&gt;';
    }
    
    // Capabilities (boolean data shown as Yes/No)
    if (!empty($profile['capabilities'])) {
        $output .= '&lt;div class="capabilities"&gt;';
        $output .= '&lt;h3&gt;User Capabilities&lt;/h3&gt;';
        $output .= '&lt;ul&gt;';
        foreach ($profile['capabilities'] as $cap => $allowed) {
            $cap_text = str_replace('_', ' ', $cap);
            $cap_value = $allowed ? 'Yes' : 'No';
            $output .= '&lt;li&gt;' . esc_html(ucwords($cap_text)) . ': ' . $cap_value . '&lt;/li&gt;';
        }
        $output .= '&lt;/ul&gt;';
        $output .= '&lt;/div&gt;';
    }
    
    // Social profiles (array of strings)
    if (!empty($profile['social_profiles'])) {
        $output .= '&lt;div class="social-profiles"&gt;';
        $output .= '&lt;h3&gt;Social Profiles&lt;/h3&gt;';
        $output .= '&lt;ul class="social-links"&gt;';
        foreach ($profile['social_profiles'] as $platform => $url) {
            $output .= '&lt;li&gt;';
            $output .= '&lt;a href="' . esc_url($url) . '" target="_blank" rel="noopener noreferrer"&gt;';
            $output .= esc_html(ucfirst($platform));
            $output .= '&lt;/a&gt;';
            $output .= '&lt;/li&gt;';
        }
        $output .= '&lt;/ul&gt;';
        $output .= '&lt;/div&gt;';
    }
    
    // Close the main container
    $output .= '&lt;/div&gt;';
    
    return $output;
}

// Example usage:
// $user_id = get_current_user_id();
// $profile_data = get_formatted_user_profile($user_id);
// if (!is_wp_error($profile_data)) {
//     echo display_user_profile($profile_data);
// } else {
//     echo 'Error: ' . $profile_data->get_error_message();
// }
?&gt;</code></pre>
            
            <p>This exercise demonstrates:</p>
            <ul>
                <li>Working with different scalar types (strings, integers, booleans)</li>
                <li>Working with complex compound types (arrays, objects)</li>
                <li>Handling null values and providing defaults</li>
                <li>Type casting to ensure expected types</li>
                <li>WordPress-specific data handling and escaping</li>
                <li>Documenting types in function documentation</li>
                <li>Using type declarations in function signatures (PHP 7+)</li>
            </ul>
            
            <p>Try implementing this in your WordPress development environment and experiment with different ways to display and format the data.</p>
        </section>

        <section class="conclusion">
            <h2>Summary and Key Takeaways</h2>
            <p>We've covered a lot of ground in our exploration of PHP variables and data types. Here are the key points to remember:</p>
            
            <ul>
                <li><strong>Variables in PHP</strong> are declared using the dollar sign ($) and are dynamically typed</li>
                <li><strong>Scalar types</strong> include integers, floats, strings, and booleans</li>
                <li><strong>Compound types</strong> include arrays and objects for more complex data structures</li>
                <li><strong>Special types</strong> include NULL (absence of value) and resource (external resource handle)</li>
                <li><strong>Type juggling</strong> allows PHP to automatically convert between types as needed</li>
                <li><strong>Explicit type casting</strong> gives you control over type conversions</li>
                <li><strong>Variable scope</strong> determines where variables can be accessed (local, global, static)</li>
                <li><strong>WordPress</strong> uses a mix of data types and provides specific functions for handling them</li>
            </ul>
            
            <p class="analogy"><strong>Final Analogy:</strong> Programming with PHP's variables and types is like working with clay. The material is flexible and can be molded into different shapes (types) as needed. You can start with a simple lump (scalar type), shape it into more complex forms (compound types), or even leave it empty (NULL). What makes you a skilled potter/programmer is knowing when to use different techniques, how to shape the clay effectively, and when to let it harden into a fixed form (use strict types) for stability.</p>
            
            <p>Understanding variables and data types is fundamental to PHP programming. As you continue your PHP and WordPress development journey, you'll find yourself working with these concepts every day. The flexibility of PHP's type system can be powerful, but remember to use it judiciously and follow best practices for clean, maintainable, and secure code.</p>
        </section>

        <section class="resources">
            <h2>Additional Resources</h2>
            
            <h3>PHP Official Documentation</h3>
            <ul>
                <li><a href="https://www.php.net/manual/en/language.types.php" target="_blank">PHP Types</a></li>
                <li><a href="https://www.php.net/manual/en/language.variables.php" target="_blank">PHP Variables</a></li>
                <li><a href="https://www.php.net/manual/en/language.operators.type.php" target="_blank">Type Operators</a></li>
                <li><a href="https://www.php.net/manual/en/book.array.php" target="_blank">Array Functions</a></li>
            </ul>
            
            <h3>WordPress Documentation</h3>
            <ul>
                <li><a href="https://developer.wordpress.org/themes/basics/theme-functions/" target="_blank">WordPress Theme Functions</a></li>
                <li><a href="https://developer.wordpress.org/reference/functions/get_post/" target="_blank">get_post() Function</a></li>
                <li><a href="https://developer.wordpress.org/reference/functions/get_option/" target="_blank">get_option() Function</a></li>
                <li><a href="https://developer.wordpress.org/plugins/security/data-validation/" target="_blank">WordPress Data Validation</a></li>
            </ul>
            
            <h3>Books and Tutorials</h3>
            <ul>
                <li>"PHP & MySQL: Novice to Ninja" by Kevin Yank and Tom Butler</li>
                <li>"Modern PHP: New Features and Good Practices" by Josh Lockhart</li>
                <li>"Professional WordPress Plugin Development" by Brad Williams, Justin Tadlock, and John James Jacoby</li>
            </ul>
            
            <h3>Online Courses and Tutorials</h3>
            <ul>
                <li><a href="https://www.codecademy.com/learn/learn-php" target="_blank">Codecademy PHP Course</a></li>
                <li><a href="https://www.w3schools.com/php/" target="_blank">W3Schools PHP Tutorial</a></li>
                <li><a href="https://www.php.net/manual/en/tutorial.php" target="_blank">PHP Manual Tutorial</a></li>
            </ul>
        </section>
    </main>
    
    <footer>
        <p>&copy; 2025 PHP WordPress Development Course</p>

    </footer>
</body>
</html>
