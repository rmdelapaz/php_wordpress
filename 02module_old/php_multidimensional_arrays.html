<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PHP Multidimensional Arrays: Working with Complex Data Structures</title>
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="icon" href="/favicon.png">
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
      mermaid.initialize({ startOnLoad: true });
    </script>
</head>
<body>
    <header>
        <h1>PHP Multidimensional Arrays: Working with Complex Data Structures</h1>
        <p><a href="index.html">← Back to Syllabus</a> | <a href="module2.html">← Module 2 Overview</a></p>
    </header>
    
    <main>
        <section class="introduction">
            <h2>Introduction to Multidimensional Arrays</h2>
            <p>Welcome to our session on PHP Multidimensional Arrays! Having explored indexed and associative arrays in our previous sessions, we're now ready to tackle more complex data structures. Multidimensional arrays represent the next level of data organization, allowing us to store and manipulate hierarchical information efficiently.</p>
            
            <p>Think of multidimensional arrays as arrays within arrays—like organizing file folders where each folder can contain both documents and additional folders. This structure is particularly valuable in WordPress development for organizing complex configuration options, user data, content relationships, and much more.</p>
        </section>

        <section class="what_are_multidimensional_arrays">
            <h2>What Are Multidimensional Arrays?</h2>
            
            <p>A multidimensional array is an array that contains one or more arrays as its elements. These nested arrays can be either indexed or associative (or a mixture of both), creating a hierarchical structure of data that can be accessed using multiple indices or keys.</p>
            
            <div class="visualization">
                <h3>Visual Representation of a Multidimensional Array</h3>
                <svg viewBox="0 0 700 350" style="width: 100%; max-width: 700px;">
                    <!-- Main Container -->
                    <rect x="50" y="20" width="600" height="300" fill="#f8f9fa" stroke="#333" stroke-width="2" rx="10"/>
                    <text x="350" y="45" text-anchor="middle" font-size="16" font-weight="bold">$userData (Array)</text>
                    
                    <!-- First User Container -->
                    <rect x="80" y="60" width="250" height="230" fill="#e9ecef" stroke="#333" stroke-width="2" rx="8"/>
                    <text x="205" y="80" text-anchor="middle" font-size="14" font-weight="bold">$userData[0] (Array)</text>
                    
                    <!-- First User Data -->
                    <rect x="100" y="90" width="210" height="30" fill="#dee2e6" stroke="#333" stroke-width="1" rx="5"/>
                    <text x="120" y="110" font-size="12" font-weight="bold">'id'</text>
                    <text x="220" y="110" font-size="12">101</text>
                    
                    <rect x="100" y="130" width="210" height="30" fill="#dee2e6" stroke="#333" stroke-width="1" rx="5"/>
                    <text x="120" y="150" font-size="12" font-weight="bold">'name'</text>
                    <text x="220" y="150" font-size="12">'John Doe'</text>
                    
                    <!-- Nested Address Array -->
                    <rect x="100" y="170" width="210" height="100" fill="#ced4da" stroke="#333" stroke-width="1" rx="5"/>
                    <text x="120" y="190" font-size="12" font-weight="bold">'address' (Array)</text>
                    
                    <rect x="120" y="200" width="170" height="25" fill="#adb5bd" stroke="#333" stroke-width="1" rx="3"/>
                    <text x="135" y="217" font-size="11" font-weight="bold">'street'</text>
                    <text x="220" y="217" font-size="11">'123 Main St'</text>
                    
                    <rect x="120" y="230" width="170" height="25" fill="#adb5bd" stroke="#333" stroke-width="1" rx="3"/>
                    <text x="135" y="247" font-size="11" font-weight="bold">'city'</text>
                    <text x="220" y="247" font-size="11">'Boston'</text>
                    
                    <!-- Second User Container -->
                    <rect x="370" y="60" width="250" height="230" fill="#e9ecef" stroke="#333" stroke-width="2" rx="8"/>
                    <text x="495" y="80" text-anchor="middle" font-size="14" font-weight="bold">$userData[1] (Array)</text>
                    
                    <!-- Second User Data -->
                    <rect x="390" y="90" width="210" height="30" fill="#dee2e6" stroke="#333" stroke-width="1" rx="5"/>
                    <text x="410" y="110" font-size="12" font-weight="bold">'id'</text>
                    <text x="510" y="110" font-size="12">102</text>
                    
                    <rect x="390" y="130" width="210" height="30" fill="#dee2e6" stroke="#333" stroke-width="1" rx="5"/>
                    <text x="410" y="150" font-size="12" font-weight="bold">'name'</text>
                    <text x="510" y="150" font-size="12">'Jane Smith'</text>
                    
                    <!-- Nested Address Array -->
                    <rect x="390" y="170" width="210" height="100" fill="#ced4da" stroke="#333" stroke-width="1" rx="5"/>
                    <text x="410" y="190" font-size="12" font-weight="bold">'address' (Array)</text>
                    
                    <rect x="410" y="200" width="170" height="25" fill="#adb5bd" stroke="#333" stroke-width="1" rx="3"/>
                    <text x="425" y="217" font-size="11" font-weight="bold">'street'</text>
                    <text x="510" y="217" font-size="11">'456 Oak Ave'</text>
                    
                    <rect x="410" y="230" width="170" height="25" fill="#adb5bd" stroke="#333" stroke-width="1" rx="3"/>
                    <text x="425" y="247" font-size="11" font-weight="bold">'city'</text>
                    <text x="510" y="247" font-size="11">'Chicago'</text>
                </svg>
            </div>
            
            <div class="mermaid">
            graph TD
                A["$userData (Array)"] --> B["$userData[0] (Array)"]
                A --> C["$userData[1] (Array)"]
                
                B --> B1["id: 101"]
                B --> B2["name: 'John Doe'"]
                B --> B3["address (Array)"]
                
                B3 --> B31["street: '123 Main St'"]
                B3 --> B32["city: 'Boston'"]
                
                C --> C1["id: 102"]
                C --> C2["name: 'Jane Smith'"]
                C --> C3["address (Array)"]
                
                C3 --> C31["street: '456 Oak Ave'"]
                C3 --> C32["city: 'Chicago'"]
                
                style A fill:#f8f9fa,stroke:#333,stroke-width:2px
                style B fill:#e9ecef,stroke:#333,stroke-width:2px
                style C fill:#e9ecef,stroke:#333,stroke-width:2px
                style B3 fill:#ced4da,stroke:#333,stroke-width:1px
                style C3 fill:#ced4da,stroke:#333,stroke-width:1px
            </diagram>
            </div>
            
            <div class="key_points">
                <h3>Key Characteristics of PHP Multidimensional Arrays</h3>
                <ul>
                    <li><strong>Hierarchical structure:</strong> Arrays can be nested to any depth (limited only by PHP's memory)</li>
                    <li><strong>Mixed types:</strong> Each nested array can be either indexed, associative, or mixed</li>
                    <li><strong>Flexible organization:</strong> Perfect for representing complex, hierarchical data structures</li>
                    <li><strong>Multiple dimensions:</strong> Commonly used are 2D (tables), 3D (cubes), and beyond</li>
                    <li><strong>Key to complex applications:</strong> Essential for many WordPress features like metadata, options, and relationships</li>
                </ul>
            </div>
        </section>

        <section class="creating_multidimensional_arrays">
            <h2>Creating Multidimensional Arrays in PHP</h2>
            
            <p>PHP provides several ways to create and structure multidimensional arrays. Let's explore each method with practical examples:</p>
            
            <div class="method">
                <h3>Method 1: Creating Using Nested Array Declarations</h3>
                <pre><code>// Creating a 2D array representing a table of data
$studentGrades = [
    // Student name, Math, English, Science
    ['John', 85, 92, 78],
    ['Mary', 95, 88, 90],
    ['Bob', 75, 80, 85],
    ['Alice', 90, 94, 92]
];

// Output the array
echo "&lt;pre&gt;";
print_r($studentGrades);
echo "&lt;/pre&gt;";</code></pre>
                
                <p>Output:</p>
                <pre>Array
(
    [0] => Array
        (
            [0] => John
            [1] => 85
            [2] => 92
            [3] => 78
        )
    [1] => Array
        (
            [0] => Mary
            [1] => 95
            [2] => 88
            [3] => 90
        )
    [2] => Array
        (
            [0] => Bob
            [1] => 75
            [2] => 80
            [3] => 85
        )
    [3] => Array
        (
            [0] => Alice
            [1] => 90
            [2] => 94
            [3] => 92
        )
)</pre>
            </div>
            
            <div class="method">
                <h3>Method 2: Creating Using Associative Keys for Better Readability</h3>
                <pre><code>// Creating a multidimensional array with associative keys
$users = [
    'user1' => [
        'id' => 101,
        'name' => 'John Doe',
        'email' => 'john@example.com',
        'roles' => ['admin', 'editor']
    ],
    'user2' => [
        'id' => 102,
        'name' => 'Jane Smith',
        'email' => 'jane@example.com',
        'roles' => ['author']
    ]
];

// Output the array
echo "&lt;pre&gt;";
print_r($users);
echo "&lt;/pre&gt;";</code></pre>
                
                <p>Output:</p>
                <pre>Array
(
    [user1] => Array
        (
            [id] => 101
            [name] => John Doe
            [email] => john@example.com
            [roles] => Array
                (
                    [0] => admin
                    [1] => editor
                )
        )
    [user2] => Array
        (
            [id] => 102
            [name] => Jane Smith
            [email] => jane@example.com
            [roles] => Array
                (
                    [0] => author
                )
        )
)</pre>
            </div>
            
            <div class="method">
                <h3>Method 3: Building Arrays Incrementally</h3>
                <pre><code>// Starting with an empty array
$siteData = [];

// Adding the first section - blog posts
$siteData['posts'] = [];
$siteData['posts'][] = [
    'id' => 1,
    'title' => 'Getting Started with PHP',
    'author' => 'John',
    'comments' => [
        ['user' => 'Jane', 'text' => 'Great article!'],
        ['user' => 'Bob', 'text' => 'Thanks for the tips.']
    ]
];

$siteData['posts'][] = [
    'id' => 2,
    'title' => 'WordPress Theme Development',
    'author' => 'Jane',
    'comments' => [
        ['user' => 'John', 'text' => 'Very helpful content.']
    ]
];

// Adding a second section - site options
$siteData['options'] = [
    'theme' => [
        'name' => 'Modern Portfolio',
        'version' => '2.1',
        'settings' => [
            'color_scheme' => 'dark',
            'layout' => 'grid'
        ]
    ],
    'plugins' => [
        'seo_optimizer' => true,
        'security_suite' => true,
        'caching' => false
    ]
];

// Output the array
echo "&lt;pre&gt;";
print_r($siteData);
echo "&lt;/pre&gt;";</code></pre>
            </div>
            
            <div class="method">
                <h3>Method 4: Creating Deep Multidimensional Arrays</h3>
                <pre><code>// Creating a deeply nested array for a navigation menu structure
$menuStructure = [
    'main_menu' => [
        'home' => [
            'title' => 'Home',
            'url' => '/',
            'order' => 1
        ],
        'about' => [
            'title' => 'About Us',
            'url' => '/about',
            'order' => 2,
            'submenu' => [
                'team' => [
                    'title' => 'Our Team',
                    'url' => '/about/team',
                    'order' => 1
                ],
                'history' => [
                    'title' => 'Company History',
                    'url' => '/about/history',
                    'order' => 2
                ]
            ]
        ],
        'services' => [
            'title' => 'Services',
            'url' => '/services',
            'order' => 3,
            'submenu' => [
                'web' => [
                    'title' => 'Web Development',
                    'url' => '/services/web',
                    'order' => 1,
                    'submenu' => [
                        'wordpress' => [
                            'title' => 'WordPress',
                            'url' => '/services/web/wordpress',
                            'order' => 1
                        ],
                        'ecommerce' => [
                            'title' => 'E-commerce',
                            'url' => '/services/web/ecommerce',
                            'order' => 2
                        ]
                    ]
                ],
                'design' => [
                    'title' => 'Design',
                    'url' => '/services/design',
                    'order' => 2
                ]
            ]
        ]
    ]
];

// We won't print the whole structure as it would be too large,
// instead we'll access specific parts later</code></pre>
            </div>
        </section>

        <section class="accessing_array_elements">
            <h2>Accessing Elements in Multidimensional Arrays</h2>
            
            <p>Accessing elements in multidimensional arrays requires using multiple indices or keys, one for each level of nesting.</p>
            
            <div class="method">
                <h3>Accessing Elements in a 2D Array</h3>
                <pre><code>// Using our student grades example
$studentGrades = [
    ['John', 85, 92, 78],
    ['Mary', 95, 88, 90],
    ['Bob', 75, 80, 85],
    ['Alice', 90, 94, 92]
];

// Access individual elements
echo "First student: " . $studentGrades[0][0] . "&lt;br&gt;"; // Output: First student: John
echo "Mary's English grade: " . $studentGrades[1][2] . "&lt;br&gt;"; // Output: Mary's English grade: 88
echo "Bob's Science grade: " . $studentGrades[2][3] . "&lt;br&gt;"; // Output: Bob's Science grade: 85

// Modify an element
$studentGrades[3][1] = 92; // Update Alice's Math grade
echo "Alice's updated Math grade: " . $studentGrades[3][1] . "&lt;br&gt;";</code></pre>
            </div>
            
            <div class="method">
                <h3>Accessing Elements in Associative Multidimensional Arrays</h3>
                <pre><code>// Using our users example
$users = [
    'user1' => [
        'id' => 101,
        'name' => 'John Doe',
        'email' => 'john@example.com',
        'roles' => ['admin', 'editor']
    ],
    'user2' => [
        'id' => 102,
        'name' => 'Jane Smith',
        'email' => 'jane@example.com',
        'roles' => ['author']
    ]
];

// Access individual elements
echo "User 1 name: " . $users['user1']['name'] . "&lt;br&gt;"; // Output: User 1 name: John Doe
echo "User 2 email: " . $users['user2']['email'] . "&lt;br&gt;"; // Output: User 2 email: jane@example.com

// Access elements in nested arrays
echo "User 1 first role: " . $users['user1']['roles'][0] . "&lt;br&gt;"; // Output: User 1 first role: admin

// Modify a nested element
$users['user2']['roles'][] = 'editor'; // Add 'editor' role to Jane

// Check the modified roles
echo "User 2 updated roles: " . implode(', ', $users['user2']['roles']) . "&lt;br&gt;"; // Output: User 2 updated roles: author, editor</code></pre>
            </div>
            
            <div class="method">
                <h3>Safely Accessing Deep Elements</h3>
                <p>When working with deeply nested arrays, it's important to check for the existence of keys at each level to avoid errors:</p>
                <pre><code>// Using our menu structure example
$menuStructure = [/* as defined earlier */];

// Unsafe access could cause errors if keys don't exist
// echo $menuStructure['main_menu']['services']['submenu']['marketing']['title']; // This would cause an error

// Safe access with isset checks
if (isset($menuStructure['main_menu']['services']['submenu']['web']['submenu']['wordpress'])) {
    echo "WordPress menu title: " . $menuStructure['main_menu']['services']['submenu']['web']['submenu']['wordpress']['title'] . "&lt;br&gt;";
} else {
    echo "WordPress menu item not found&lt;br&gt;";
}

// Alternative: Using the null coalescing operator (PHP 7+)
$marketingTitle = $menuStructure['main_menu']['services']['submenu']['marketing']['title'] ?? 'Not defined';
echo "Marketing title: " . $marketingTitle . "&lt;br&gt;"; // Output: Marketing title: Not defined</code></pre>
            </div>
            
            <div class="method">
                <h3>Creating a Safe Deep Access Function</h3>
                <p>For working with complex arrays, a helper function can be useful:</p>
                <pre><code>/**
 * Safely gets a value from a nested array using a path of keys
 * 
 * @param array $array The array to access
 * @param array|string $path Path of keys as an array or dot-separated string
 * @param mixed $default Default value if path doesn't exist
 * @return mixed The array value or default
 */
function array_get($array, $path, $default = null) {
    // If path is a string, convert it to an array
    if (!is_array($path)) {
        $path = explode('.', $path);
    }
    
    $current = $array;
    
    // Traverse the array along the path
    foreach ($path as $key) {
        if (!is_array($current) || !array_key_exists($key, $current)) {
            return $default;
        }
        $current = $current[$key];
    }
    
    return $current;
}

// Using the helper function with our menu structure
$wordpressTitle = array_get($menuStructure, 'main_menu.services.submenu.web.submenu.wordpress.title', 'Not found');
echo "WordPress Title: " . $wordpressTitle . "&lt;br&gt;"; // Output: WordPress Title: WordPress

// Trying a path that doesn't exist
$marketingTitle = array_get($menuStructure, 'main_menu.services.submenu.marketing.title', 'Not found');
echo "Marketing Title: " . $marketingTitle . "&lt;br&gt;"; // Output: Marketing Title: Not found</code></pre>
            </div>
        </section>

        <section class="iterating_multidimensional_arrays">
            <h2>Iterating Through Multidimensional Arrays</h2>
            
            <p>Processing each element in a multidimensional array often requires nested loops or recursive functions.</p>
            
            <div class="method">
                <h3>Iterating Through a 2D Array with Nested Loops</h3>
                <pre><code>// Using our student grades example
$studentGrades = [
    ['John', 85, 92, 78],
    ['Mary', 95, 88, 90],
    ['Bob', 75, 80, 85],
    ['Alice', 90, 94, 92]
];

// Define subject names for better output
$subjects = ['Math', 'English', 'Science'];

// Format and display the student grades as a table
echo "&lt;table border='1' cellpadding='5'&gt;";
echo "&lt;tr&gt;&lt;th&gt;Student&lt;/th&gt;&lt;th&gt;Math&lt;/th&gt;&lt;th&gt;English&lt;/th&gt;&lt;th&gt;Science&lt;/th&gt;&lt;th&gt;Average&lt;/th&gt;&lt;/tr&gt;";

foreach ($studentGrades as $student) {
    echo "&lt;tr&gt;";
    echo "&lt;td&gt;" . $student[0] . "&lt;/td&gt;"; // Student name
    
    // Initialize sum for calculating average
    $sum = 0;
    $count = 0;
    
    // Output each subject grade
    for ($i = 1; $i < count($student); $i++) {
        echo "&lt;td&gt;" . $student[$i] . "&lt;/td&gt;";
        $sum += $student[$i];
        $count++;
    }
    
    // Calculate and output average
    $average = $sum / $count;
    echo "&lt;td&gt;" . number_format($average, 1) . "&lt;/td&gt;";
    
    echo "&lt;/tr&gt;";
}

echo "&lt;/table&gt;";</code></pre>
            </div>
            
            <div class="method">
                <h3>Iterating Through Associative Multidimensional Arrays</h3>
                <pre><code>// Using our users example
$users = [
    'user1' => [
        'id' => 101,
        'name' => 'John Doe',
        'email' => 'john@example.com',
        'roles' => ['admin', 'editor']
    ],
    'user2' => [
        'id' => 102,
        'name' => 'Jane Smith',
        'email' => 'jane@example.com',
        'roles' => ['author', 'editor']
    ]
];

// Display user information
echo "&lt;h4&gt;User Information:&lt;/h4&gt;";
foreach ($users as $userId => $userInfo) {
    echo "&lt;div class='user-card'&gt;";
    echo "&lt;h5&gt;" . $userInfo['name'] . " (ID: " . $userInfo['id'] . ")&lt;/h5&gt;";
    echo "&lt;p&gt;Email: " . $userInfo['email'] . "&lt;/p&gt;";
    
    echo "&lt;p&gt;Roles: ";
    foreach ($userInfo['roles'] as $role) {
        echo "&lt;span class='role'&gt;" . ucfirst($role) . "&lt;/span&gt; ";
    }
    echo "&lt;/p&gt;";
    
    echo "&lt;/div&gt;";
}</code></pre>
            </div>
            
            <div class="method">
                <h3>Recursive Iteration for Deeply Nested Arrays</h3>
                <pre><code>/**
 * Recursively iterate through a multidimensional array and print its structure
 * 
 * @param array $array The array to iterate through
 * @param int $depth Current depth level for indentation
 */
function print_array_structure($array, $depth = 0) {
    // Create indentation based on depth
    $indent = str_repeat("  ", $depth);
    
    foreach ($array as $key => $value) {
        if (is_array($value)) {
            echo $indent . $key . " (Array):" . "&lt;br&gt;";
            // Recursive call for nested arrays
            print_array_structure($value, $depth + 1);
        } else {
            echo $indent . $key . ": " . (is_bool($value) ? ($value ? 'true' : 'false') : $value) . "&lt;br&gt;";
        }
    }
}

// Using our menu structure example
echo "&lt;h4&gt;Menu Structure:&lt;/h4&gt;";
print_array_structure($menuStructure);</code></pre>
            </div>
            
            <div class="method">
                <h3>Using array_walk_recursive for All Leaf Nodes</h3>
                <pre><code>// Example: Count the number of menu items in the menu structure
$menuItemCount = 0;

// Use array_walk_recursive to process only the leaf nodes
array_walk_recursive($menuStructure, function($value, $key) use (&$menuItemCount) {
    // Count only the title elements as menu items
    if ($key === 'title') {
        $menuItemCount++;
    }
});

echo "Total menu items: " . $menuItemCount . "&lt;br&gt;";

// Note: array_walk_recursive has limitations - it only accesses leaf nodes,
// not arrays that contain other arrays. For more complex operations,
// custom recursive functions are often better.</code></pre>
            </div>
        </section>

        <section class="manipulation_operations">
            <h2>Manipulating Multidimensional Arrays</h2>
            
            <div class="method">
                <h3>Adding Elements to Nested Arrays</h3>
                <pre><code>// Let's extend our site data example
$siteData = [
    'posts' => [
        [
            'id' => 1,
            'title' => 'Getting Started with PHP',
            'author' => 'John',
            'comments' => [
                ['user' => 'Jane', 'text' => 'Great article!'],
                ['user' => 'Bob', 'text' => 'Thanks for the tips.']
            ]
        ],
        [
            'id' => 2,
            'title' => 'WordPress Theme Development',
            'author' => 'Jane',
            'comments' => [
                ['user' => 'John', 'text' => 'Very helpful content.']
            ]
        ]
    ]
];

// Add a new post
$siteData['posts'][] = [
    'id' => 3,
    'title' => 'Working with Multidimensional Arrays',
    'author' => 'Bob',
    'comments' => []
];

// Add a new comment to an existing post
$siteData['posts'][1]['comments'][] = [
    'user' => 'Alice',
    'text' => 'This helped me with my project.'
];

// Add a new section to the site data
$siteData['users'] = [
    'admin' => [
        'name' => 'Admin User',
        'permissions' => ['manage_posts', 'manage_users', 'manage_options']
    ],
    'editor' => [
        'name' => 'Editor User',
        'permissions' => ['manage_posts', 'upload_files']
    ]
];

// Display the updated structure
echo "&lt;h4&gt;Updated Site Data Structure:&lt;/h4&gt;";
print_array_structure($siteData);</code></pre>
            </div>
            
            <div class="method">
                <h3>Removing Elements from Nested Arrays</h3>
                <pre><code>// Remove a comment from a post
unset($siteData['posts'][0]['comments'][1]); // Remove Bob's comment from post 1

// Remove an entire post
unset($siteData['posts'][2]); // Remove the "Working with Multidimensional Arrays" post

// When removing elements from indexed arrays, the indices won't be reordered automatically
// Reindex the posts array to fix the gaps
$siteData['posts'] = array_values($siteData['posts']);

// Remove a nested element
unset($siteData['users']['editor']['permissions'][1]); // Remove 'upload_files' permission

// Reindex the permissions array
$siteData['users']['editor']['permissions'] = array_values($siteData['users']['editor']['permissions']);

// Display the updated structure
echo "&lt;h4&gt;Structure After Removals:&lt;/h4&gt;";
print_array_structure($siteData);</code></pre>
            </div>
            
            <div class="method">
                <h3>Merging Nested Arrays</h3>
                <pre><code>// Default theme settings
$defaultThemeSettings = [
    'colors' => [
        'primary' => '#3498db',
        'secondary' => '#2ecc71',
        'text' => '#333333',
        'background' => '#ffffff'
    ],
    'fonts' => [
        'body' => 'Arial, sans-serif',
        'headings' => 'Georgia, serif'
    ],
    'layout' => [
        'sidebar' => 'right',
        'width' => '1200px'
    ]
];

// User theme settings (partial)
$userThemeSettings = [
    'colors' => [
        'primary' => '#9b59b6',
        'background' => '#f5f5f5'
    ],
    'layout' => [
        'sidebar' => 'left'
    ]
];

// Simple merge won't work correctly for nested arrays
$simplemerge = array_merge($defaultThemeSettings, $userThemeSettings);
echo "&lt;h4&gt;Simple Merge (Incorrect for Nested Arrays):&lt;/h4&gt;";
print_array_structure($simplemerge);

// Create a recursive array merge function
function array_merge_recursive_distinct($array1, $array2) {
    $merged = $array1;
    
    foreach ($array2 as $key => $value) {
        if (is_array($value) && isset($merged[$key]) && is_array($merged[$key])) {
            $merged[$key] = array_merge_recursive_distinct($merged[$key], $value);
        } else {
            $merged[$key] = $value;
        }
    }
    
    return $merged;
}

// Properly merge nested settings
$mergedSettings = array_merge_recursive_distinct($defaultThemeSettings, $userThemeSettings);
echo "&lt;h4&gt;Recursive Distinct Merge (Correct):&lt;/h4&gt;";
print_array_structure($mergedSettings);</code></pre>
            </div>
            
            <div class="method">
                <h3>Filtering Multidimensional Arrays</h3>
                <pre><code>// Example array of products
$products = [
    [
        'id' => 101,
        'name' => 'WordPress Theme',
        'price' => 59,
        'categories' => ['themes', 'business', 'responsive'],
        'reviews' => [
            ['rating' => 5, 'comment' => 'Excellent theme, very flexible!'],
            ['rating' => 4, 'comment' => 'Good design, some limitations in customization.'],
            ['rating' => 5, 'comment' => 'Perfect for my business site.']
        ]
    ],
    [
        'id' => 102,
        'name' => 'SEO Plugin',
        'price' => 29,
        'categories' => ['plugins', 'seo', 'marketing'],
        'reviews' => [
            ['rating' => 3, 'comment' => 'Decent but missing some features.'],
            ['rating' => 5, 'comment' => 'Dramatically improved my search rankings!'],
        ]
    ],
    [
        'id' => 103,
        'name' => 'E-commerce Plugin',
        'price' => 79,
        'categories' => ['plugins', 'ecommerce', 'business'],
        'reviews' => [
            ['rating' => 5, 'comment' => 'Complete solution for my online store.'],
            ['rating' => 4, 'comment' => 'Good features but a bit pricey.'],
            ['rating' => 2, 'comment' => 'Had some conflicts with my theme.']
        ]
    ],
    [
        'id' => 104,
        'name' => 'Portfolio Theme',
        'price' => 49,
        'categories' => ['themes', 'portfolio', 'creative'],
        'reviews' => [
            ['rating' => 5, 'comment' => 'Beautiful design, perfect for showcasing my work!'],
            ['rating' => 5, 'comment' => 'Easy to set up and customize.']
        ]
    ]
];

// Filter products by type (theme)
$themes = array_filter($products, function($product) {
    return in_array('themes', $product['categories']);
});
echo "&lt;h4&gt;Theme Products:&lt;/h4&gt;";
foreach ($themes as $theme) {
    echo $theme['name'] . " - $" . $theme['price'] . "&lt;br&gt;";
}

// Filter products by multiple criteria (plugins under $50)
$affordablePlugins = array_filter($products, function($product) {
    return in_array('plugins', $product['categories']) && $product['price'] < 50;
});
echo "&lt;h4&gt;Affordable Plugins (Under $50):&lt;/h4&gt;";
foreach ($affordablePlugins as $plugin) {
    echo $plugin['name'] . " - $" . $plugin['price'] . "&lt;br&gt;";
}

// More complex filtering: products with excellent reviews (avg rating >= 4.5)
$excellentProducts = array_filter($products, function($product) {
    // Calculate average rating
    $ratingSum = 0;
    foreach ($product['reviews'] as $review) {
        $ratingSum += $review['rating'];
    }
    $avgRating = $ratingSum / count($product['reviews']);
    
    return $avgRating >= 4.5;
});
echo "&lt;h4&gt;Highly Rated Products (4.5+ Average):&lt;/h4&gt;";
foreach ($excellentProducts as $product) {
    echo $product['name'] . " - $" . $product['price'] . "&lt;br&gt;";
}</code></pre>
            </div>
        </section>

        <section class="array_functions">
            <h2>Essential Functions for Multidimensional Arrays</h2>
            
            <div class="function_category">
                <h3>Searching in Multidimensional Arrays</h3>
                <pre><code>// Example: Find a specific user by email in an array of users
$users = [
    ['id' => 1, 'name' => 'John Doe', 'email' => 'john@example.com'],
    ['id' => 2, 'name' => 'Jane Smith', 'email' => 'jane@example.com'],
    ['id' => 3, 'name' => 'Bob Johnson', 'email' => 'bob@example.com'],
    ['id' => 4, 'name' => 'Alice Williams', 'email' => 'alice@example.com']
];

// Function to find a user by email
function findUserByEmail($users, $email) {
    foreach ($users as $user) {
        if ($user['email'] === $email) {
            return $user;
        }
    }
    return null; // User not found
}

// Search for a user
$searchEmail = 'bob@example.com';
$user = findUserByEmail($users, $searchEmail);

if ($user) {
    echo "Found user: " . $user['name'] . " (ID: " . $user['id'] . ")&lt;br&gt;";
} else {
    echo "User with email " . $searchEmail . " not found.&lt;br&gt;";
}

// To find all items matching a criterion, we can use array_filter
// Find all users with a gmail address
$gmailUsers = array_filter($users, function($user) {
    return strpos($user['email'], 'gmail.com') !== false;
});

echo "&lt;h4&gt;Gmail Users:&lt;/h4&gt;";
foreach ($gmailUsers as $user) {
    echo $user['name'] . " - " . $user['email'] . "&lt;br&gt;";
}</code></pre>
            </div>
            
            <div class="function_category">
                <h3>Sorting Multidimensional Arrays</h3>
                <pre><code>// Example: Sort users by different criteria
$users = [
    ['id' => 1, 'name' => 'John Doe', 'email' => 'john@example.com', 'age' => 32],
    ['id' => 2, 'name' => 'Jane Smith', 'email' => 'jane@example.com', 'age' => 28],
    ['id' => 3, 'name' => 'Bob Johnson', 'email' => 'bob@example.com', 'age' => 45],
    ['id' => 4, 'name' => 'Alice Williams', 'email' => 'alice@example.com', 'age' => 24]
];

// Sort by name (ascending)
$nameSort = $users;
usort($nameSort, function($a, $b) {
    return strcmp($a['name'], $b['name']);
});

echo "&lt;h4&gt;Users Sorted by Name:&lt;/h4&gt;";
foreach ($nameSort as $user) {
    echo $user['name'] . " (Age: " . $user['age'] . ")&lt;br&gt;";
}

// Sort by age (descending)
$ageSort = $users;
usort($ageSort, function($a, $b) {
    // For descending order, compare b to a
    return $b['age'] - $a['age'];
});

echo "&lt;h4&gt;Users Sorted by Age (Oldest First):&lt;/h4&gt;";
foreach ($ageSort as $user) {
    echo $user['name'] . " (Age: " . $user['age'] . ")&lt;br&gt;";
}

// Multiple sort criteria: Sort first by age group (< 30, 30-40, > 40),
// then by name within each group
$complexSort = $users;
usort($complexSort, function($a, $b) {
    // First determine age groups
    $ageGroupA = $a['age'] < 30 ? 0 : ($a['age'] <= 40 ? 1 : 2);
    $ageGroupB = $b['age'] < 30 ? 0 : ($b['age'] <= 40 ? 1 : 2);
    
    // If age groups are different, sort by age group
    if ($ageGroupA !== $ageGroupB) {
        return $ageGroupA - $ageGroupB;
    }
    
    // If age groups are the same, sort by name
    return strcmp($a['name'], $b['name']);
});

echo "&lt;h4&gt;Users Sorted by Age Group, Then Name:&lt;/h4&gt;";
foreach ($complexSort as $user) {
    echo $user['name'] . " (Age: " . $user['age'] . ")&lt;br&gt;";
}</code></pre>
            </div>
            
            <div class="function_category">
                <h3>Transforming Multidimensional Arrays</h3>
                <pre><code>// Example: Transform an array of posts into a different format

$posts = [
    [
        'id' => 101,
        'title' => 'PHP Arrays Tutorial',
        'content' => 'Learn all about PHP arrays...',
        'author' => [
            'id' => 1,
            'name' => 'John Doe'
        ],
        'categories' => ['PHP', 'Tutorials', 'Programming']
    ],
    [
        'id' => 102,
        'title' => 'WordPress Theme Development',
        'content' => 'Creating custom WordPress themes...',
        'author' => [
            'id' => 2,
            'name' => 'Jane Smith'
        ],
        'categories' => ['WordPress', 'Themes', 'Development']
    ],
    [
        'id' => 103,
        'title' => 'MySQL Database Design',
        'content' => 'Best practices for database design...',
        'author' => [
            'id' => 1,
            'name' => 'John Doe'
        ],
        'categories' => ['MySQL', 'Databases', 'Development']
    ]
];

// Transform into a simplified array for an API response
$apiPosts = array_map(function($post) {
    return [
        'id' => $post['id'],
        'title' => $post['title'],
        'author_name' => $post['author']['name'],
        'category_count' => count($post['categories'])
    ];
}, $posts);

echo "&lt;h4&gt;Transformed Posts for API:&lt;/h4&gt;";
echo "&lt;pre&gt;";
print_r($apiPosts);
echo "&lt;/pre&gt;";

// Group posts by author
$postsByAuthor = [];
foreach ($posts as $post) {
    $authorId = $post['author']['id'];
    
    // Initialize author array if it doesn't exist
    if (!isset($postsByAuthor[$authorId])) {
        $postsByAuthor[$authorId] = [
            'author_name' => $post['author']['name'],
            'posts' => []
        ];
    }
    
    // Add post to author's collection
    $postsByAuthor[$authorId]['posts'][] = [
        'id' => $post['id'],
        'title' => $post['title']
    ];
}

echo "&lt;h4&gt;Posts Grouped by Author:&lt;/h4&gt;";
echo "&lt;pre&gt;";
print_r($postsByAuthor);
echo "&lt;/pre&gt;";

// Create a category index (which categories exist in which posts)
$categoryIndex = [];
foreach ($posts as $post) {
    foreach ($post['categories'] as $category) {
        if (!isset($categoryIndex[$category])) {
            $categoryIndex[$category] = [];
        }
        
        $categoryIndex[$category][] = [
            'id' => $post['id'],
            'title' => $post['title']
        ];
    }
}

echo "&lt;h4&gt;Category Index:&lt;/h4&gt;";
echo "&lt;pre&gt;";
print_r($categoryIndex);
echo "&lt;/pre&gt;";</code></pre>
            </div>
        </section>

        <section class="wordpress_examples">
            <h2>Multidimensional Arrays in WordPress</h2>
            
            <div class="example">
                <h3>Example 1: WordPress Navigation Menus</h3>
                <p>WordPress stores navigation menus as hierarchical structures using multidimensional arrays:</p>
                <pre><code>// WordPress-like example for navigation menus
function getWordPressNavMenu($menuName) {
    // In a real WordPress site, this would use wp_get_nav_menu_items()
    // This is a simplified example
    return [
        [
            'ID' => 1,
            'title' => 'Home',
            'url' => '/',
            'menu_item_parent' => 0,
            'object_id' => 10,
            'object' => 'page'
        ],
        [
            'ID' => 2,
            'title' => 'About',
            'url' => '/about',
            'menu_item_parent' => 0,
            'object_id' => 15,
            'object' => 'page'
        ],
        [
            'ID' => 3,
            'title' => 'Team',
            'url' => '/about/team',
            'menu_item_parent' => 2, // Child of About
            'object_id' => 18,
            'object' => 'page'
        ],
        [
            'ID' => 4,
            'title' => 'Services',
            'url' => '/services',
            'menu_item_parent' => 0,
            'object_id' => 20,
            'object' => 'page'
        ],
        [
            'ID' => 5,
            'title' => 'Web Development',
            'url' => '/services/web-development',
            'menu_item_parent' => 4, // Child of Services
            'object_id' => 22,
            'object' => 'page'
        ],
        [
            'ID' => 6,
            'title' => 'WordPress',
            'url' => '/services/web-development/wordpress',
            'menu_item_parent' => 5, // Child of Web Development
            'object_id' => 24,
            'object' => 'page'
        ],
        [
            'ID' => 7,
            'title' => 'Design',
            'url' => '/services/design',
            'menu_item_parent' => 4, // Child of Services
            'object_id' => 26,
            'object' => 'page'
        ],
        [
            'ID' => 8,
            'title' => 'Contact',
            'url' => '/contact',
            'menu_item_parent' => 0,
            'object_id' => 30,
            'object' => 'page'
        ]
    ];
}

// Convert flat menu items to a hierarchical structure
function buildMenuTree($menuItems, $parentId = 0) {
    $tree = [];
    
    foreach ($menuItems as $menuItem) {
        if ($menuItem['menu_item_parent'] == $parentId) {
            $children = buildMenuTree($menuItems, $menuItem['ID']);
            if ($children) {
                $menuItem['children'] = $children;
            }
            $tree[] = $menuItem;
        }
    }
    
    return $tree;
}

// Get the menu items
$flatMenu = getWordPressNavMenu('main-menu');

// Build the hierarchical menu
$hierarchicalMenu = buildMenuTree($flatMenu);

// Function to render the menu HTML
function renderMenu($menuItems, $level = 0) {
    $html = $level === 0 ? '&lt;ul class="main-menu"&gt;' : '&lt;ul class="sub-menu"&gt;';
    
    foreach ($menuItems as $item) {
        $html .= '&lt;li&gt;';
        $html .= '&lt;a href="' . $item['url'] . '"&gt;' . $item['title'] . '&lt;/a&gt;';
        
        if (isset($item['children']) && !empty($item['children'])) {
            $html .= renderMenu($item['children'], $level + 1);
        }
        
        $html .= '&lt;/li&gt;';
    }
    
    $html .= '&lt;/ul&gt;';
    return $html;
}

// Display the hierarchical menu
echo "&lt;h4&gt;WordPress Navigation Menu:&lt;/h4&gt;";
echo renderMenu($hierarchicalMenu);</code></pre>
            </div>
            
            <div class="example">
                <h3>Example 2: WordPress Theme Options</h3>
                <p>WordPress theme options often use complex multidimensional arrays:</p>
                <pre><code>// WordPress-like theme options array
$themeOptions = [
    'general' => [
        'site_logo' => [
            'url' => '/wp-content/uploads/2025/04/logo.png',
            'width' => 200,
            'height' => 60,
            'alt' => 'Site Logo'
        ],
        'layout' => 'boxed', // boxed or wide
        'sidebar' => 'right', // left, right, or none
        'footer_columns' => 4
    ],
    'colors' => [
        'primary' => '#3498db',
        'secondary' => '#2ecc71',
        'text' => [
            'body' => '#333333',
            'headings' => '#222222',
            'links' => '#2980b9'
        ],
        'background' => [
            'body' => '#ffffff',
            'header' => '#f9f9f9',
            'footer' => '#222222'
        ]
    ],
    'typography' => [
        'body' => [
            'font_family' => 'Arial, sans-serif',
            'font_size' => '16px',
            'line_height' => '1.6'
        ],
        'headings' => [
            'font_family' => 'Georgia, serif',
            'h1_size' => '32px',
            'h2_size' => '28px',
            'h3_size' => '24px'
        ],
        'menu' => [
            'font_family' => 'Arial, sans-serif',
            'font_size' => '14px',
            'font_weight' => 'bold'
        ]
    ],
    'social' => [
        'profiles' => [
            'facebook' => 'https://facebook.com/example',
            'twitter' => 'https://twitter.com/example',
            'instagram' => 'https://instagram.com/example'
        ],
        'sharing' => [
            'enabled' => true,
            'networks' => ['facebook', 'twitter', 'linkedin']
        ]
    ],
    'advanced' => [
        'custom_css' => '.custom-element { margin: 20px; }',
        'custom_js' => 'console.log("Theme initialized");',
        'cache_enabled' => true,
        'minify_assets' => true
    ]
];

// Function to generate CSS variables from the theme options
function generateCssVariables($options) {
    $css = ":root {\n";
    
    // Primary and secondary colors
    $css .= "  --color-primary: " . $options['colors']['primary'] . ";\n";
    $css .= "  --color-secondary: " . $options['colors']['secondary'] . ";\n";
    
    // Text colors
    foreach ($options['colors']['text'] as $key => $color) {
        $css .= "  --color-text-" . $key . ": " . $color . ";\n";
    }
    
    // Background colors
    foreach ($options['colors']['background'] as $key => $color) {
        $css .= "  --color-bg-" . $key . ": " . $color . ";\n";
    }
    
    // Typography
    $css .= "  --font-body: " . $options['typography']['body']['font_family'] . ";\n";
    $css .= "  --font-size-body: " . $options['typography']['body']['font_size'] . ";\n";
    $css .= "  --line-height-body: " . $options['typography']['body']['line_height'] . ";\n";
    
    $css .= "  --font-headings: " . $options['typography']['headings']['font_family'] . ";\n";
    
    $css .= "}\n";
    
    return $css;
}

// Generate and display CSS variables
echo "&lt;h4&gt;Generated CSS Variables:&lt;/h4&gt;";
echo "&lt;pre&gt;";
echo htmlspecialchars(generateCssVariables($themeOptions));
echo "&lt;/pre&gt;";

// Function to create a simple options page display
function displayThemeOptionsPage($options) {
    $html = "&lt;div class='wrap'&gt;";
    $html .= "&lt;h2&gt;Theme Options&lt;/h2&gt;";
    
    // Create tabs for each main section
    $html .= "&lt;div class='nav-tab-wrapper'&gt;";
    foreach (array_keys($options) as $tab) {
        $tabName = ucfirst($tab);
        $html .= "&lt;a class='nav-tab'&gt;" . $tabName . "&lt;/a&gt;";
    }
    $html .= "&lt;/div&gt;";
    
    // Show a sample of the general section
    $html .= "&lt;div class='tab-content active' id='general'&gt;";
    $html .= "&lt;table class='form-table'&gt;";
    
    // Logo setting
    $html .= "&lt;tr&gt;";
    $html .= "&lt;th&gt;Site Logo&lt;/th&gt;";
    $html .= "&lt;td&gt;";
    $html .= "&lt;img src='" . $options['general']['site_logo']['url'] . "' ";
    $html .= "width='" . $options['general']['site_logo']['width'] . "' ";
    $html .= "height='" . $options['general']['site_logo']['height'] . "' ";
    $html .= "alt='" . $options['general']['site_logo']['alt'] . "'&gt;&lt;br&gt;";
    $html .= "&lt;button class='button'&gt;Change Logo&lt;/button&gt;";
    $html .= "&lt;/td&gt;";
    $html .= "&lt;/tr&gt;";
    
    // Layout setting
    $html .= "&lt;tr&gt;";
    $html .= "&lt;th&gt;Layout&lt;/th&gt;";
    $html .= "&lt;td&gt;";
    $html .= "&lt;select&gt;";
    $layouts = ['boxed' => 'Boxed', 'wide' => 'Wide'];
    foreach ($layouts as $value => $label) {
        $selected = $options['general']['layout'] === $value ? 'selected' : '';
        $html .= "&lt;option value='" . $value . "' " . $selected . "&gt;" . $label . "&lt;/option&gt;";
    }
    $html .= "&lt;/select&gt;";
    $html .= "&lt;/td&gt;";
    $html .= "&lt;/tr&gt;";
    
    // More settings would go here...
    
    $html .= "&lt;/table&gt;";
    $html .= "&lt;/div&gt;";
    
    $html .= "&lt;/div&gt;";
    return $html;
}

// Display the sample theme options page
echo "&lt;h4&gt;Theme Options Page Preview:&lt;/h4&gt;";
echo displayThemeOptionsPage($themeOptions);</code></pre>
            </div>
            
            <div class="example">
                <h3>Example 3: WordPress Custom Post Type with Meta Data</h3>
                <p>WordPress stores post data and meta data in complex arrays:</p>
                <pre><code>// Simulated WordPress post with meta data
function getWordPressPost($postId) {
    // In a real WordPress site, this would use get_post() and get_post_meta()
    // This is a simplified example
    
    // Basic post data
    $post = [
        'ID' => 101,
        'post_title' => 'How to Work with Multidimensional Arrays in PHP',
        'post_content' => 'Lorem ipsum dolor sit amet, consectetur adipiscing elit...',
        'post_date' => '2025-04-20 14:30:45',
        'post_status' => 'publish',
        'post_type' => 'tutorial',
        'post_author' => 1
    ];
    
    // Meta data (custom fields)
    $postMeta = [
        'tutorial_difficulty' => 'intermediate',
        'tutorial_duration' => '30 minutes',
        'tutorial_requirements' => ['Basic PHP knowledge', 'Understanding of indexed arrays'],
        'tutorial_featured' => true,
        '_thumbnail_id' => 352,
        'seo_data' => [
            'title' => 'PHP Multidimensional Arrays Tutorial | Learn WordPress Development',
            'description' => 'Master PHP multidimensional arrays with this comprehensive tutorial for WordPress developers.',
            'keywords' => ['PHP', 'arrays', 'multidimensional arrays', 'WordPress', 'development']
        ],
        'related_posts' => [95, 87, 103]
    ];
    
    // Combine post and meta data
    return [
        'post' => $post,
        'meta' => $postMeta
    ];
}

// Get a post with its meta data
$tutorialPost = getWordPressPost(101);

// Function to display a formatted post with meta data
function displayTutorialPost($postData) {
    $post = $postData['post'];
    $meta = $postData['meta'];
    
    $html = "&lt;article class='tutorial'&gt;";
    
    // Post title and meta
    $html .= "&lt;header&gt;";
    $html .= "&lt;h1&gt;" . $post['post_title'] . "&lt;/h1&gt;";
    $html .= "&lt;div class='meta'&gt;";
    $html .= "&lt;span class='date'&gt;Published: " . date('F j, Y', strtotime($post['post_date'])) . "&lt;/span&gt;";
    $html .= "&lt;span class='difficulty'&gt;Difficulty: " . ucfirst($meta['tutorial_difficulty']) . "&lt;/span&gt;";
    $html .= "&lt;span class='duration'&gt;Duration: " . $meta['tutorial_duration'] . "&lt;/span&gt;";
    $html .= "&lt;/div&gt;";
    $html .= "&lt;/header&gt;";
    
    // Requirements
    $html .= "&lt;div class='requirements'&gt;";
    $html .= "&lt;h3&gt;Requirements:&lt;/h3&gt;";
    $html .= "&lt;ul&gt;";
    foreach ($meta['tutorial_requirements'] as $requirement) {
        $html .= "&lt;li&gt;" . $requirement . "&lt;/li&gt;";
    }
    $html .= "&lt;/ul&gt;";
    $html .= "&lt;/div&gt;";
    
    // Content (truncated for this example)
    $html .= "&lt;div class='content'&gt;";
    $html .= "&lt;p&gt;" . substr($post['post_content'], 0, 150) . "...&lt;/p&gt;";
    $html .= "&lt;a href='#' class='read-more'&gt;Read More&lt;/a&gt;";
    $html .= "&lt;/div&gt;";
    
    // SEO data (normally hidden, shown here for illustration)
    $html .= "&lt;div class='seo-data' style='background:#f5f5f5; padding:10px; margin-top:20px;'&gt;";
    $html .= "&lt;h4&gt;SEO Data:&lt;/h4&gt;";
    $html .= "&lt;p&gt;&lt;strong&gt;Title:&lt;/strong&gt; " . $meta['seo_data']['title'] . "&lt;/p&gt;";
    $html .= "&lt;p&gt;&lt;strong&gt;Description:&lt;/strong&gt; " . $meta['seo_data']['description'] . "&lt;/p&gt;";
    $html .= "&lt;p&gt;&lt;strong&gt;Keywords:&lt;/strong&gt; " . implode(', ', $meta['seo_data']['keywords']) . "&lt;/p&gt;";
    $html .= "&lt;/div&gt;";
    
    $html .= "&lt;/article&gt;";
    
    return $html;
}

// Display the tutorial post
echo "&lt;h4&gt;WordPress Tutorial Post Display:&lt;/h4&gt;";
echo displayTutorialPost($tutorialPost);</code></pre>
            </div>
        </section>

        <section class="practical_exercise">
            <h2>Practical Exercise: Building a Course Curriculum Manager</h2>
            
            <p>Let's apply what we've learned by creating a simple course curriculum manager that demonstrates the power of multidimensional arrays in organizing hierarchical educational content:</p>
            
            <pre><code>// Define a course curriculum using multidimensional arrays
$phpWordPressCourse = [
    'title' => 'PHP WordPress Development',
    'description' => 'A comprehensive course on PHP and WordPress development.',
    'duration' => '16 weeks',
    'modules' => [
        [
            'id' => 'mod1',
            'title' => 'Web Development Fundamentals',
            'duration' => '2 weeks',
            'lessons' => [
                [
                    'id' => 'lesson1_1',
                    'title' => 'HTML Basics',
                    'duration' => '3 hours',
                    'topics' => ['HTML structure', 'Elements', 'Attributes', 'Forms']
                ],
                [
                    'id' => 'lesson1_2',
                    'title' => 'CSS Styling',
                    'duration' => '3 hours',
                    'topics' => ['Selectors', 'Properties', 'Box model', 'Responsive design']
                ],
                [
                    'id' => 'lesson1_3',
                    'title' => 'JavaScript Fundamentals',
                    'duration' => '3 hours',
                    'topics' => ['Syntax', 'Variables', 'Functions', 'DOM manipulation']
                ]
            ]
        ],
        [
            'id' => 'mod2',
            'title' => 'PHP Fundamentals',
            'duration' => '2 weeks',
            'lessons' => [
                [
                    'id' => 'lesson2_1',
                    'title' => 'PHP Syntax and Variables',
                    'duration' => '3 hours',
                    'topics' => ['PHP tags', 'Variables', 'Data types', 'Operators']
                ],
                [
                    'id' => 'lesson2_2',
                    'title' => 'Control Structures',
                    'duration' => '3 hours',
                    'topics' => ['Conditionals', 'Loops', 'Switch statements']
                ],
                [
                    'id' => 'lesson2_3',
                    'title' => 'Arrays and Functions',
                    'duration' => '3 hours',
                    'topics' => ['Indexed arrays', 'Associative arrays', 'Multidimensional arrays', 'User functions']
                ]
            ]
        ],
        [
            'id' => 'mod3',
            'title' => 'WordPress Development',
            'duration' => '3 weeks',
            'lessons' => [
                [
                    'id' => 'lesson3_1',
                    'title' => 'WordPress Architecture',
                    'duration' => '3 hours',
                    'topics' => ['Core files', 'Database structure', 'The Loop', 'Template hierarchy']
                ],
                [
                    'id' => 'lesson3_2',
                    'title' => 'Theme Development',
                    'duration' => '6 hours',
                    'topics' => ['Theme structure', 'Templates', 'Theme functions', 'Child themes']
                ],
                [
                    'id' => 'lesson3_3',
                    'title' => 'Plugin Development',
                    'duration' => '6 hours',
                    'topics' => ['Plugin architecture', 'Hooks and filters', 'Settings API', 'Custom post types']
                ]
            ]
        ]
    ]
];

// Function to generate a course outline
function generateCourseOutline($course) {
    $html = "&lt;div class='course-outline'&gt;";
    $html .= "&lt;h2&gt;" . $course['title'] . "&lt;/h2&gt;";
    $html .= "&lt;p&gt;" . $course['description'] . "&lt;/p&gt;";
    $html .= "&lt;p&gt;&lt;strong&gt;Duration:&lt;/strong&gt; " . $course['duration'] . "&lt;/p&gt;";
    
    $html .= "&lt;div class='modules'&gt;";
    foreach ($course['modules'] as $moduleIndex => $module) {
        $moduleNumber = $moduleIndex + 1;
        
        $html .= "&lt;div class='module'&gt;";
        $html .= "&lt;h3&gt;Module " . $moduleNumber . ": " . $module['title'] . " (" . $module['duration'] . ")&lt;/h3&gt;";
        
        $html .= "&lt;div class='lessons'&gt;";
        foreach ($module['lessons'] as $lessonIndex => $lesson) {
            $lessonNumber = $moduleNumber . "." . ($lessonIndex + 1);
            
            $html .= "&lt;div class='lesson'&gt;";
            $html .= "&lt;h4&gt;Lesson " . $lessonNumber . ": " . $lesson['title'] . " (" . $lesson['duration'] . ")&lt;/h4&gt;";
            
            $html .= "&lt;ul class='topics'&gt;";
            foreach ($lesson['topics'] as $topic) {
                $html .= "&lt;li&gt;" . $topic . "&lt;/li&gt;";
            }
            $html .= "&lt;/ul&gt;";
            
            $html .= "&lt;/div&gt;"; // End lesson
        }
        $html .= "&lt;/div&gt;"; // End lessons
        
        $html .= "&lt;/div&gt;"; // End module
    }
    $html .= "&lt;/div&gt;"; // End modules
    
    $html .= "&lt;/div&gt;"; // End course outline
    
    return $html;
}

// Function to search for lessons by keyword
function findLessonsByKeyword($course, $keyword) {
    $matchingLessons = [];
    
    foreach ($course['modules'] as $moduleIndex => $module) {
        foreach ($module['lessons'] as $lessonIndex => $lesson) {
            // Check lesson title
            if (stripos($lesson['title'], $keyword) !== false) {
                $matchingLessons[] = [
                    'module' => $module['title'],
                    'lesson' => $lesson['title'],
                    'lesson_id' => $lesson['id']
                ];
                continue; // Skip checking topics if title already matches
            }
            
            // Check lesson topics
            foreach ($lesson['topics'] as $topic) {
                if (stripos($topic, $keyword) !== false) {
                    $matchingLessons[] = [
                        'module' => $module['title'],
                        'lesson' => $lesson['title'],
                        'lesson_id' => $lesson['id'],
                        'matching_topic' => $topic
                    ];
                    break; // Found a match, no need to check other topics
                }
            }
        }
    }
    
    return $matchingLessons;
}

// Function to calculate course statistics
function calculateCourseStats($course) {
    $stats = [
        'total_modules' => count($course['modules']),
        'total_lessons' => 0,
        'total_hours' => 0,
        'topics_per_module' => []
    ];
    
    foreach ($course['modules'] as $moduleIndex => $module) {
        $moduleID = $module['id'];
        $stats['topics_per_module'][$moduleID] = 0;
        
        // Count lessons
        $lessonCount = count($module['lessons']);
        $stats['total_lessons'] += $lessonCount;
        
        // Count hours and topics
        foreach ($module['lessons'] as $lesson) {
            // Extract hours from duration (assuming format like "3 hours")
            preg_match('/(\d+)\s*hours?/', $lesson['duration'], $matches);
            if (isset($matches[1])) {
                $stats['total_hours'] += (int)$matches[1];
            }
            
            // Count topics
            $stats['topics_per_module'][$moduleID] += count($lesson['topics']);
        }
    }
    
    return $stats;
}

// Generate and display the course outline
echo "&lt;h4&gt;Course Outline:&lt;/h4&gt;";
echo generateCourseOutline($phpWordPressCourse);

// Search for lessons related to "arrays"
$arrayLessons = findLessonsByKeyword($phpWordPressCourse, 'array');
echo "&lt;h4&gt;Lessons Related to Arrays:&lt;/h4&gt;";
echo "&lt;ul&gt;";
foreach ($arrayLessons as $result) {
    echo "&lt;li&gt;";
    echo "&lt;strong&gt;" . $result['module'] . ":&lt;/strong&gt; " . $result['lesson'];
    if (isset($result['matching_topic'])) {
        echo " (Topic: " . $result['matching_topic'] . ")";
    }
    echo "&lt;/li&gt;";
}
echo "&lt;/ul&gt;";

// Calculate and display course statistics
$courseStats = calculateCourseStats($phpWordPressCourse);
echo "&lt;h4&gt;Course Statistics:&lt;/h4&gt;";
echo "&lt;ul&gt;";
echo "&lt;li&gt;Total Modules: " . $courseStats['total_modules'] . "&lt;/li&gt;";
echo "&lt;li&gt;Total Lessons: " . $courseStats['total_lessons'] . "&lt;/li&gt;";
echo "&lt;li&gt;Total Hours: " . $courseStats['total_hours'] . "&lt;/li&gt;";
echo "&lt;li&gt;Topics per Module:&lt;/li&gt;";
echo "&lt;ul&gt;";
foreach ($courseStats['topics_per_module'] as $moduleId => $topicCount) {
    $moduleName = "";
    // Find the module name by ID
    foreach ($phpWordPressCourse['modules'] as $module) {
        if ($module['id'] === $moduleId) {
            $moduleName = $module['title'];
            break;
        }
    }
    echo "&lt;li&gt;" . $moduleName . ": " . $topicCount . " topics&lt;/li&gt;";
}
echo "&lt;/ul&gt;";
echo "&lt;/ul&gt;";
}</code></pre>
        </section>

        <section class="best_practices">
            <h2>Best Practices for Working with Multidimensional Arrays</h2>
            
            <ul>
                <li><strong>Use meaningful keys and structure:</strong> Design your arrays with a logical structure that reflects the data relationships</li>
                <li><strong>Document complex arrays:</strong> Add comments explaining the structure of complex multidimensional arrays</li>
                <li><strong>Validate before access:</strong> Always check if keys/indices exist before accessing deeply nested elements</li>
                <li><strong>Create helper functions:</strong> Implement functions like <code>array_get()</code> for safely accessing nested data</li>
                <li><strong>Use recursion carefully:</strong> Recursive functions are powerful but can be resource-intensive; set depth limits when needed</li>
                <li><strong>Consider performance:</strong> For very large and deep arrays, be mindful of memory usage and processing overhead</li>
                <li><strong>Use appropriate iterators:</strong> Choose the right technique for iteration based on your needs (nested loops, recursion, etc.)</li>
                <li><strong>Keep consistent formats:</strong> Maintain consistent structures for similar data types</li>
                <li><strong>Merge arrays carefully:</strong> Be aware of how array_merge works with nested arrays and implement custom merge functions if needed</li>
                <li><strong>Consider alternatives:</strong> For very complex data structures, consider if a database or object-oriented approach might be more appropriate</li>
            </ul>
        </section>

        <section class="homework">
            <h2>Homework Assignment: WordPress Theme Options Panel</h2>
            
            <div class="assignment">
                <p>Create a PHP script that implements a simulated WordPress theme options system using multidimensional arrays. Your assignment should include:</p>
                <ol>
                    <li>Define a complex multidimensional array structure for theme options, including at least these sections:
                        <ul>
                            <li>Layout options (header style, sidebar position, footer columns, etc.)</li>
                            <li>Typography options (font families, sizes, weights for different elements)</li>
                            <li>Color options (primary, secondary, text, backgrounds, etc.)</li>
                            <li>Social media profiles</li>
                            <li>Custom CSS/JS settings</li>
                        </ul>
                    </li>
                    <li>Implement a function to merge default theme options with user-selected options</li>
                    <li>Create a function that generates CSS code based on the theme options</li>
                    <li>Implement a function that renders an HTML form for the options panel</li>
                    <li>Create a function that "saves" the submitted options (for this assignment, just display what would be saved)</li>
                    <li>Implement a search function to find options by keyword across the nested structure</li>
                    <li>Generate a simple report that shows which options have been changed from their defaults</li>
                </ol>
                
                <p><strong>Bonus Challenge:</strong> Implement an export/import system that converts the entire options array to JSON, and can restore options from a JSON string. Include validation to ensure the imported JSON contains all required options.</p>
            </div>
        </section>

        <section class="further_reading">
            <h2>Further Reading and Resources</h2>
            
            <ul>
                <li><a href="https://www.php.net/manual/en/language.types.array.php">PHP Manual: Arrays</a></li>
                <li><a href="https://www.php.net/manual/en/function.array-multisort.php">PHP Manual: array_multisort</a></li>
                <li><a href="https://www.php.net/manual/en/function.array-walk-recursive.php">PHP Manual: array_walk_recursive</a></li>
                <li><a href="https://developer.wordpress.org/reference/functions/get_theme_mod/">WordPress: get_theme_mod</a></li>
                <li><a href="https://developer.wordpress.org/reference/classes/wp_customize_manager/">WordPress: WP_Customize_Manager</a></li>
                <li>"Data Structures and Algorithms with PHP" by Allen J. O'Neill (Sections on arrays and tree structures)</li>
                <li>"Modern PHP: New Features and Good Practices" by Josh Lockhart (Chapter on arrays and collections)</li>
            </ul>
        </section>

        <section class="next_topics">
            <h2>Coming Up Next</h2>
            
            <p>Now that we've covered the three main types of PHP arrays (indexed, associative, and multidimensional), our next sessions will focus on:</p>
            <ul>
                <li>Array sorting and custom comparison functions</li>
                <li>Array iteration techniques and optimization</li>
                <li>Working with databases and converting between arrays and database records</li>
                <li>Object-oriented programming in PHP and how arrays compare to objects</li>
                <li>Using arrays in WordPress themes and plugins</li>
            </ul>
        </section>
    </main>
    
    <footer>
        <p>&copy; 2025 PHP WordPress Development Course</p>

    </footer>
</body>
</html>
